parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Lkln":[function(require,module,exports) {
        "use strict";function r(r){if(0===r.length)return 1/0;for(var t=r[0],e=1,n=r.length;e<n;++e)r[e]<t&&(t=r[e]);return t}function t(r){if(0===r.length)return-1/0;for(var t=r[0],e=1,n=r.length;e<n;++e)r[e]>t&&(t=r[e]);return t}function e(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];for(var a=0,o=e;a<o.length;a++){var f=o[a];for(var h in f)r[h]=f[h]}return r}function n(r,t,e){var n=t[0]*Math.PI/180,a=t[1]*Math.PI/180,o=e*Math.cos(a);return r[0]=o*Math.cos(n),r[1]=e*Math.sin(a),r[2]=o*Math.sin(n),r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayMin=r,exports.arrayMax=t,exports.extend=e,exports.transformECEFToGeographic=n;
    },{}],"dVwR":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],n=0;n<256;n++)t[n]=(n<16?"0":"")+n.toString(16);return function(){var n=4294967295*Math.random()|0,o=4294967295*Math.random()|0,r=4294967295*Math.random()|0,a=4294967295*Math.random()|0;return"".concat(t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255],"-").concat(t[255&o]).concat(t[o>>8&255],"-").concat(t[o>>16&15|64]).concat(t[o>>24&255],"-").concat(t[63&r|128]).concat(t[r>>8&255],"-").concat(t[r>>16&255]).concat(t[r>>24&255]).concat(t[255&a]).concat(t[a>>8&255]).concat(t[a>>16&255]).concat(t[a>>24&255]).toUpperCase()}}(),clamp:function(t,n,o){return Math.max(n,Math.min(o,t))},euclideanModulo:function(t,n){return(t%n+n)%n},mapLinear:function(t,n,o,r,a){return r+(t-n)*(a-r)/(o-n)},lerp:function(t,n,o){return(1-o)*t+o*n},smoothstep:function(t,n,o){return t<=n?0:t>=o?1:(t=(t-n)/(o-n))*t*(3-2*t)},smootherstep:function(t,n,o){return t<=n?0:t>=o?1:(t=(t-n)/(o-n))*t*t*(t*(6*t-15)+10)},randInt:function(t,n){return t+Math.floor(Math.random()*(n-t+1))},randFloat:function(t,n){return t+Math.random()*(n-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(n){return n*t.DEG2RAD},radToDeg:function(n){return n*t.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}},n=t;exports.default=n;
    },{}],"D3a2":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Math"));function i(t){return t&&t.__esModule?t:{default:t}}function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function h(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}var n=function(){function i(t,s,h){e(this,i),this.isVec3=!0,this.x=t||0,this.y=s||0,this.z=h||0}return h(i,[{key:"set",value:function(t,i,e){return this.x=t,this.y=i,this.z=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: ".concat(t))}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: ".concat(t))}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,i){return void 0!==i?(console.warn("Vec3.add now only accepts one argument. Use .addVectors(a, b) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}},{key:"addScaledVector",value:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}},{key:"sub",value:function(t,i){return void 0!==i?(console.warn("Vec3.sub now only accepts one argument. Use .subVectors(a, b) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("Vec3.multiply now only accepts one argument. Use .multiplyVectors(a, b) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}},{key:"applyMatrix3",value:function(t){var i=this.x,e=this.y,s=this.z,h=t.elements;return this.x=h[0]*i+h[3]*e+h[6]*s,this.y=h[1]*i+h[4]*e+h[7]*s,this.z=h[2]*i+h[5]*e+h[8]*s,this}},{key:"applyMatrix4",value:function(t){var i=this.x,e=this.y,s=this.z,h=t.elements,n=1/(h[3]*i+h[7]*e+h[11]*s+h[15]);return this.x=(h[0]*i+h[4]*e+h[8]*s+h[12])*n,this.y=(h[1]*i+h[5]*e+h[9]*s+h[13])*n,this.z=(h[2]*i+h[6]*e+h[10]*s+h[14])*n,this}},{key:"applyQuaternion",value:function(t){var i=this.x,e=this.y,s=this.z,h=t.x,n=t.y,r=t.z,a=t.w,u=a*i+n*s-r*e,o=a*e+r*i-h*s,l=a*s+h*e-n*i,y=-h*i-n*e-r*s;return this.x=u*a+y*-h+o*-r-l*-n,this.y=o*a+y*-n+l*-h-u*-r,this.z=l*a+y*-r+u*-n-o*-h,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"transformDirection",value:function(t){var i=this.x,e=this.y,s=this.z,h=t.elements;return this.x=h[0]*i+h[4]*e+h[8]*s,this.y=h[1]*i+h[5]*e+h[9]*s,this.z=h[2]*i+h[6]*e+h[10]*s,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this}},{key:"clampLength",value:function(t,i){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(t,Math.min(i,e)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}},{key:"lerpVectors",value:function(t,i,e){return this.subVectors(i,t).multiplyScalar(e).add(t)}},{key:"cross",value:function(t,i){return void 0!==i?(console.warn("Vec3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,i){var e=t.x,s=t.y,h=t.z,n=i.x,r=i.y,a=i.z;return this.x=s*a-h*r,this.y=h*n-e*a,this.z=e*r-s*n,this}},{key:"projectOnVector",value:function(t){var i=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(i)}},{key:"angleTo",value:function(i){var e=this.dot(i)/Math.sqrt(this.lengthSq()*i.lengthSq());return Math.acos(t.default.clamp(e,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var i=this.x-t.x,e=this.y-t.y,s=this.z-t.z;return i*i+e*e+s*s}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,i,e){var s=Math.sin(i)*t;return this.x=s*Math.sin(e),this.y=Math.cos(i)*t,this.z=s*Math.cos(e),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,i,e){return this.x=t*Math.sin(i),this.y=e,this.z=t*Math.cos(i),this}},{key:"setFromMatrixPosition",value:function(t){var i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}},{key:"setFromMatrixScale",value:function(t){var i=this.setFromMatrixColumn(t,0).length(),e=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=e,this.z=s,this}},{key:"setFromMatrixColumn",value:function(t,i){return this.fromArray(t.elements,4*i)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}},{key:"toArray",value:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,i,e){return void 0!==e&&console.warn("Vec3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}}]),i}();exports.default=n;
    },{"./Math":"dVwR"}],"QWCA":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Float64BufferAttribute=exports.Float32BufferAttribute=exports.Uint32BufferAttribute=exports.Int32BufferAttribute=exports.Uint16BufferAttribute=exports.Int16BufferAttribute=exports.Uint8ClampedBufferAttribute=exports.Uint8BufferAttribute=exports.Int8BufferAttribute=exports.BufferAttribute=void 0;var t=r(require("../math/Vec3"));function r(t){return t&&t.__esModule?t:{default:t}}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?i(t):r}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&a(t,r)}function a(t,r){return(a=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function s(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function f(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,r,e){return r&&f(t.prototype,r),e&&f(t,e),t}var y=function(){function r(t,e,n){if(s(this,r),Array.isArray(t))throw new TypeError("array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.isBufferAttribute=!0}return c(r,[{key:"setArray",value:function(t){if(Array.isArray(t))throw new TypeError("array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this}},{key:"setDynamic",value:function(t){return this.dynamic=!!t,this}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this}},{key:"copyAt",value:function(t,r,e){t*=this.itemSize,e*=r.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=r.array[e+n];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"copyVec3sArray",value:function(r){for(var e=this.array,n=0,i=0,u=r.length;i<u;i++){var o=r[i];void 0===o&&(console.warn("BufferAttribute: vector is undefined",i),o=new t.default),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this}},{key:"set",value:function(t,r){return void 0===r&&(r=0),this.array.set(t,r),this}},{key:"getX",value:function(t){return this.array[t*this.itemSize]}},{key:"setX",value:function(t,r){return this.array[t*this.itemSize]=r,this}},{key:"getY",value:function(t){return this.array[t*this.itemSize+1]}},{key:"setY",value:function(t,r){return this.array[t*this.itemSize+1]=r,this}},{key:"getZ",value:function(t){return this.array[t*this.itemSize+2]}},{key:"setZ",value:function(t,r){return this.array[t*this.itemSize+2]=r,this}},{key:"getW",value:function(t){return this.array[t*this.itemSize+3]}},{key:"setW",value:function(t,r){return this.array[t*this.itemSize+3]=r,this}},{key:"setXY",value:function(t,r,e){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this}},{key:"setXYZ",value:function(t,r,e,n){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=n,this}},{key:"setXYZW",value:function(t,r,e,n,i){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=n,this.array[t+3]=i,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}]),r}();exports.BufferAttribute=y,Float32Array.prototype.concat=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this);var r=(t=t.map(function(t){if(t instanceof Float32Array)return t.buffer;if(t instanceof ArrayBuffer){if(t.byteLength/4%1!=0)throw new Error("One of the ArrayBuffers is not from a Float32Array");return t}throw new Error("You can only concat Float32Array, or ArrayBuffers")})).map(function(t){return t.byteLength}).reduce(function(t,r){return t+r},0),e=new Float32Array(r/4),n=0;return t.forEach(function(t,r){e.set(new Float32Array(t),n),n+=t.byteLength/4}),e};var h=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Int8Array(t),e,i))}return o(r,y),r}();exports.Int8BufferAttribute=h;var l=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Uint8Array(t),e,i))}return o(r,y),r}();exports.Uint8BufferAttribute=l;var p=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Uint8ClampedArray(t),e,i))}return o(r,y),r}();exports.Uint8ClampedBufferAttribute=p;var b=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Int16Array(t),e,i))}return o(r,y),r}();exports.Int16BufferAttribute=b;var A=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Uint16Array(t),e,i))}return o(r,y),r}();exports.Uint16BufferAttribute=A;var m=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Int32Array(t),e,i))}return o(r,y),r}();exports.Int32BufferAttribute=m;var v=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Uint32Array(t),e,i))}return o(r,y),r}();exports.Uint32BufferAttribute=v;var d=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Float32Array(t),e,i))}return o(r,y),r}();exports.Float32BufferAttribute=d;var w=function(t){function r(t,e,i){return s(this,r),n(this,u(r).call(this,new Float64Array(t),e,i))}return o(r,y),r}();exports.Float64BufferAttribute=w;
    },{"../math/Vec3":"D3a2"}],"BQ9h":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Vec3"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=new e.default,a=new e.default(0,0,0),o=new e.default(1,1,1),u=new e.default,l=new e.default,h=new e.default,c=function(){function e(){n(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.isMatrix4=!0}return s(e,[{key:"set",value:function(e,t,n,r,s,i,a,o,u,l,h,c,m,v,y,f){var k=this.elements;return k[0]=e,k[4]=t,k[8]=n,k[12]=r,k[1]=s,k[5]=i,k[9]=a,k[13]=o,k[2]=u,k[6]=l,k[10]=h,k[14]=c,k[3]=m,k[7]=v,k[11]=y,k[15]=f,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/i.setFromMatrixColumn(e,0).length(),s=1/i.setFromMatrixColumn(e,1).length(),a=1/i.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("Mat4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,s=e.z,i=Math.cos(n),a=Math.sin(n),o=Math.cos(r),u=Math.sin(r),l=Math.cos(s),h=Math.sin(s);if("XYZ"===e.order){var c=i*l,m=i*h,v=a*l,y=a*h;t[0]=o*l,t[4]=-o*h,t[8]=u,t[1]=m+v*u,t[5]=c-y*u,t[9]=-a*o,t[2]=y-c*u,t[6]=v+m*u,t[10]=i*o}else if("YXZ"===e.order){var f=o*l,k=o*h,d=u*l,x=u*h;t[0]=f+x*a,t[4]=d*a-k,t[8]=i*u,t[1]=i*h,t[5]=i*l,t[9]=-a,t[2]=k*a-d,t[6]=x+f*a,t[10]=i*o}else if("ZXY"===e.order){var M=o*l,p=o*h,z=u*l,w=u*h;t[0]=M-w*a,t[4]=-i*h,t[8]=z+p*a,t[1]=p+z*a,t[5]=i*l,t[9]=w-M*a,t[2]=-i*u,t[6]=a,t[10]=i*o}else if("ZYX"===e.order){var g=i*l,b=i*h,F=a*l,R=a*h;t[0]=o*l,t[4]=F*u-b,t[8]=g*u+R,t[1]=o*h,t[5]=R*u+g,t[9]=b*u-F,t[2]=-u,t[6]=a*o,t[10]=i*o}else if("YZX"===e.order){var X=i*o,Y=i*u,Z=a*o,_=a*u;t[0]=o*l,t[4]=_-X*h,t[8]=Z*h+Y,t[1]=h,t[5]=i*l,t[9]=-a*l,t[2]=-u*l,t[6]=Y*h+Z,t[10]=X-_*h}else if("XZY"===e.order){var A=i*o,C=i*u,P=a*o,E=a*u;t[0]=o*l,t[4]=-h,t[8]=u*l,t[1]=A*h+E,t[5]=i*l,t[9]=C*h-P,t[2]=P*h-C,t[6]=a*l,t[10]=E*h+A}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(a,e,o)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return h.subVectors(e,t),0===h.lengthSq()&&(h.z=1),h.normalize(),u.crossVectors(n,h),0===u.lengthSq()&&(1===Math.abs(n.z)?h.x+=1e-4:h.z+=1e-4,h.normalize(),u.crossVectors(n,h)),u.normalize(),l.crossVectors(h,u),r[0]=u.x,r[4]=l.x,r[8]=h.x,r[1]=u.y,r[5]=l.y,r[9]=h.y,r[2]=u.z,r[6]=l.z,r[10]=h.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("Mat4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,s=this.elements,i=n[0],a=n[4],o=n[8],u=n[12],l=n[1],h=n[5],c=n[9],m=n[13],v=n[2],y=n[6],f=n[10],k=n[14],d=n[3],x=n[7],M=n[11],p=n[15],z=r[0],w=r[4],g=r[8],b=r[12],F=r[1],R=r[5],X=r[9],Y=r[13],Z=r[2],_=r[6],A=r[10],C=r[14],P=r[3],E=r[7],S=r[11],V=r[15];return s[0]=i*z+a*F+o*Z+u*P,s[4]=i*w+a*R+o*_+u*E,s[8]=i*g+a*X+o*A+u*S,s[12]=i*b+a*Y+o*C+u*V,s[1]=l*z+h*F+c*Z+m*P,s[5]=l*w+h*R+c*_+m*E,s[9]=l*g+h*X+c*A+m*S,s[13]=l*b+h*Y+c*C+m*V,s[2]=v*z+y*F+f*Z+k*P,s[6]=v*w+y*R+f*_+k*E,s[10]=v*g+y*X+f*A+k*S,s[14]=v*b+y*Y+f*C+k*V,s[3]=d*z+x*F+M*Z+p*P,s[7]=d*w+x*R+M*_+p*E,s[11]=d*g+x*X+M*A+p*S,s[15]=d*b+x*Y+M*C+p*V,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"applyToBufferAttribute",value:function(e){for(var t=0,n=e.count;t<n;t++)i.x=e.getX(t),i.y=e.getY(t),i.z=e.getZ(t),i.applyMatrix4(this),e.setXYZ(t,i.x,i.y,i.z);return e}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],i=e[1],a=e[5],o=e[9],u=e[13],l=e[2],h=e[6],c=e[10],m=e[14];return e[3]*(+s*o*h-r*u*h-s*a*c+n*u*c+r*a*m-n*o*m)+e[7]*(+t*o*m-t*u*c+s*i*c-r*i*m+r*u*l-s*o*l)+e[11]*(+t*u*h-t*a*m-s*i*h+n*i*m+s*a*l-n*u*l)+e[15]*(-r*a*l-t*o*h+t*a*c+r*i*h-n*i*c+n*o*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this}},{key:"getInverse",value:function(e,t){var n=this.elements,r=e.elements,s=r[0],i=r[1],a=r[2],o=r[3],u=r[4],l=r[5],h=r[6],c=r[7],m=r[8],v=r[9],y=r[10],f=r[11],k=r[12],d=r[13],x=r[14],M=r[15],p=v*x*c-d*y*c+d*h*f-l*x*f-v*h*M+l*y*M,z=k*y*c-m*x*c-k*h*f+u*x*f+m*h*M-u*y*M,w=m*d*c-k*v*c+k*l*f-u*d*f-m*l*M+u*v*M,g=k*v*h-m*d*h-k*l*y+u*d*y+m*l*x-u*v*x,b=s*p+i*z+a*w+o*g;if(0===b){var F="Mat4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(F);return console.warn(F),this.identity()}var R=1/b;return n[0]=p*R,n[1]=(d*y*o-v*x*o-d*a*f+i*x*f+v*a*M-i*y*M)*R,n[2]=(l*x*o-d*h*o+d*a*c-i*x*c-l*a*M+i*h*M)*R,n[3]=(v*h*o-l*y*o-v*a*c+i*y*c+l*a*f-i*h*f)*R,n[4]=z*R,n[5]=(m*x*o-k*y*o+k*a*f-s*x*f-m*a*M+s*y*M)*R,n[6]=(k*h*o-u*x*o-k*a*c+s*x*c+u*a*M-s*h*M)*R,n[7]=(u*y*o-m*h*o+m*a*c-s*y*c-u*a*f+s*h*f)*R,n[8]=w*R,n[9]=(k*v*o-m*d*o-k*i*f+s*d*f+m*i*M-s*v*M)*R,n[10]=(u*d*o-k*l*o+k*i*c-s*d*c-u*i*M+s*l*M)*R,n[11]=(m*l*o-u*v*o-m*i*c+s*v*c+u*i*f-s*l*f)*R,n[12]=g*R,n[13]=(m*d*a-k*v*a+k*i*y-s*d*y-m*i*x+s*v*x)*R,n[14]=(k*l*a-u*d*a-k*i*h+s*d*h+u*i*x-s*l*x)*R,n[15]=(u*v*a-m*l*a+m*i*h-s*v*h-u*i*y+s*l*y)*R,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),s=1-n,i=e.x,a=e.y,o=e.z,u=s*i,l=s*a;return this.set(u*i+n,u*a-r*o,u*o+r*a,0,u*a+r*o,l*a+n,l*o-r*i,0,u*o-r*a,l*o+r*i,s*o*o+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,s=t._x,i=t._y,a=t._z,o=t._w,u=s+s,l=i+i,h=a+a,c=s*u,m=s*l,v=s*h,y=i*l,f=i*h,k=a*h,d=o*u,x=o*l,M=o*h,p=n.x,z=n.y,w=n.z;return r[0]=(1-(y+k))*p,r[1]=(m+M)*p,r[2]=(v-x)*p,r[3]=0,r[4]=(m-M)*z,r[5]=(1-(c+k))*z,r[6]=(f+d)*z,r[7]=0,r[8]=(v+x)*w,r[9]=(f-d)*w,r[10]=(1-(c+y))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,s=m.set(r[0],r[1],r[2]).length(),i=m.set(r[4],r[5],r[6]).length(),a=m.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],v.copy(this);var o=1/s,u=1/i,l=1/a;return v.elements[0]*=o,v.elements[1]*=o,v.elements[2]*=o,v.elements[4]*=u,v.elements[5]*=u,v.elements[6]*=u,v.elements[8]*=l,v.elements[9]*=l,v.elements[10]*=l,t.setFromRotationMatrix(v),n.x=s,n.y=i,n.z=a,this}},{key:"makePerspective",value:function(e,t,n,r,s,i){void 0===i&&console.warn("Mat4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,o=2*s/(t-e),u=2*s/(n-r),l=(t+e)/(t-e),h=(n+r)/(n-r),c=-(i+s)/(i-s),m=-2*i*s/(i-s);return a[0]=o,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=c,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,s,i){var a=this.elements,o=1/(t-e),u=1/(n-r),l=1/(i-s),h=(t+e)*o,c=(n+r)*u,m=(i+s)*l;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-c,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();exports.default=c;var m=new e.default,v=new c;
    },{"./Vec3":"D3a2"}],"bpLD":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Vec3"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var s=new e.default,a=function(){function e(){r(this,e),this.elements=[1,0,0,0,1,0,0,0,1],this.isMatrix3=!0}return i(e,[{key:"set",value:function(e,t,r,n,i,s,a,u,l){var o=this.elements;return o[0]=e,o[1]=n,o[2]=a,o[3]=t,o[4]=i,o[5]=u,o[6]=r,o[7]=s,o[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"applyToBufferAttribute",value:function(e){for(var t=0,r=e.count;t<r;t++)s.x=e.getX(t),s.y=e.getY(t),s.z=e.getZ(t),s.applyMatrix3(this),e.setXYZ(t,s.x,s.y,s.z);return e}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var r=e.elements,n=t.elements,i=this.elements,s=r[0],a=r[3],u=r[6],l=r[1],o=r[4],v=r[7],c=r[2],f=r[5],h=r[8],y=n[0],m=n[3],k=n[6],p=n[1],d=n[4],M=n[7],x=n[2],g=n[5],w=n[8];return i[0]=s*y+a*p+u*x,i[3]=s*m+a*d+u*g,i[6]=s*k+a*M+u*w,i[1]=l*y+o*p+v*x,i[4]=l*m+o*d+v*g,i[7]=l*k+o*M+v*w,i[2]=c*y+f*p+h*x,i[5]=c*m+f*d+h*g,i[8]=c*k+f*M+h*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],s=e[4],a=e[5],u=e[6],l=e[7],o=e[8];return t*s*o-t*a*l-r*i*o+r*a*u+n*i*l-n*s*u}},{key:"getInverse",value:function(e,t){e&&e.isMatrix4&&console.error("getInverse() no longer takes a Matrix4 argument.");var r=e.elements,n=this.elements,i=r[0],s=r[1],a=r[2],u=r[3],l=r[4],o=r[5],v=r[6],c=r[7],f=r[8],h=f*l-o*c,y=o*v-f*u,m=c*u-l*v,k=i*h+s*y+a*m;if(0===k){var p="getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(p);return console.warn(p),this.identity()}var d=1/k;return n[0]=h*d,n[1]=(a*c-f*s)*d,n[2]=(o*s-a*l)*d,n[3]=y*d,n[4]=(f*i-a*v)*d,n[5]=(a*u-o*i)*d,n[6]=m*d,n[7]=(s*v-c*i)*d,n[8]=(l*i-s*u)*d,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,r,n,i,s,a){var u=Math.cos(i),l=Math.sin(i);this.set(r*u,r*l,-r*(u*s+l*a)+s+e,-n*l,n*u,-n*(-l*s+u*a)+a+t,0,0,1)}},{key:"scale",value:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],s=n[3],a=n[6],u=n[1],l=n[4],o=n[7];return n[0]=t*i+r*u,n[3]=t*s+r*l,n[6]=t*a+r*o,n[1]=-r*i+t*u,n[4]=-r*s+t*l,n[7]=-r*a+t*o,this}},{key:"translate",value:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}},{key:"equals",value:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}},{key:"fromArray",value:function(e,t){void 0===t&&(t=0);for(var r=0;r<9;r++)this.elements[r]=e[r+t];return this}},{key:"toArray",value:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}}]),e}();exports.default=a;
    },{"./Vec3":"D3a2"}],"QavS":[function(require,module,exports) {
        "use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){function e(i,n){t(this,e),this.isVec2=!0,this.x=i||0,this.y=n||0}return i(e,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampLength",value:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var i=Math.cos(e),n=Math.sin(e),s=this.x-t.x,h=this.y-t.y;return this.x=s*i-h*n+t.x,this.y=s*n+h*i+t.y,this}},{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}}]),e}();exports.default=n;
    },{}],"qBOx":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};exports.default=e;
    },{}],"FdPe":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Math")),e=r(require("./ColorKeywords"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}var h=function(){function r(t,e,s){return i(this,r),this.isColor=!0,this.setClosureMethod(),void 0===e&&void 0===s?this.set(t):this.setRGB(t,e,s)}return n(r,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}},{key:"setRGB",value:function(t,e,r){return this.r=t,this.g=e,this.b=r,this}},{key:"setClosureMethod",value:function(){var e,r,i;this.setHSL=function(){function e(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}return function(r,i,s){if(r=t.default.euclideanModulo(r,1),i=t.default.clamp(i,0,1),s=t.default.clamp(s,0,1),0===i)this.r=s,this.g=s,this.b=s;else{var n=s<=.5?s*(1+i):s+i-s*i,h=2*s-n;this.r=e(h,n,r+1/3),this.g=e(h,n,r),this.b=e(h,n,r-1/3)}return this}}(),this.copySRGBToLinear=function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),this.copyLinearToSRGB=function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),this.offsetHSL=(e={},function(t,r,i){return this.getHSL(e),e.h+=t,e.s+=r,e.l+=i,this.setHSL(e.h,e.s,e.l),this}),this.lerpHSL=(r={h:0,s:0,l:0},i={h:0,s:0,l:0},function(e,s){this.getHSL(r),e.getHSL(i);var n=t.default.lerp(r.h,i.h,s),h=t.default.lerp(r.s,i.s,s),a=t.default.lerp(r.l,i.l,s);return this.setHSL(n,h,a),this})}},{key:"setStyle",value:function(t){function r(e){void 0!==e&&parseFloat(e)<1&&console.warn("Color: Alpha component of ".concat(t," will be ignored."))}var i=/^((?:rgb|hsl)a?)\(\s*([^)]*)\)/.exec(t),s=/^#([A-Fa-f0-9]+)$/.exec(t);if(i){var n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u),h=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u),a=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u),o=i[1],u=i[2];switch(o){case"rgb":case"rgba":if(n)return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,r(n[5]),this;if(h)return this.r=Math.min(100,parseInt(h[1],10))/100,this.g=Math.min(100,parseInt(h[2],10))/100,this.b=Math.min(100,parseInt(h[3],10))/100,r(h[5]),this;break;case"hsl":case"hsla":if(a){var c=parseFloat(a[1])/360,l=parseInt(a[2],10)/100,f=parseInt(a[3],10)/100;return r(a[5]),this.setHSL(c,l,f)}}}else if(s){var g=s[1],v=g.length;if(3===v)return this.r=parseInt(g.charAt(0)+g.charAt(0),16)/255,this.g=parseInt(g.charAt(1)+g.charAt(1),16)/255,this.b=parseInt(g.charAt(2)+g.charAt(2),16)/255,this;if(6===v)return this.r=parseInt(g.charAt(0)+g.charAt(1),16)/255,this.g=parseInt(g.charAt(2)+g.charAt(3),16)/255,this.b=parseInt(g.charAt(4)+g.charAt(5),16)/255,this}if(t&&t.length>0){var b=e.default[t];void 0!==b?this.setHex(b):console.warn("Color: Unknown color ".concat(t))}return this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copyGammaToLinear",value:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}},{key:"copyLinearToGamma",value:function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this}},{key:"convertGammaToLinear",value:function(t){return this.copyGammaToLinear(this,t),this}},{key:"convertLinearToGamma",value:function(t){return this.copyLinearToGamma(this,t),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return"000000".concat(this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(t){void 0===t&&(console.warn("Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,r,i=this.r,s=this.g,n=this.b,h=Math.max(i,s,n),a=Math.min(i,s,n),o=(a+h)/2;if(a===h)e=0,r=0;else{var u=h-a;switch(r=o<=.5?u/(h+a):u/(2-h-a),h){case i:e=(s-n)/u+(s<n?6:0);break;case s:e=(n-i)/u+2;break;case n:e=(i-s)/u+4}e/=6}return t.h=e,t.s=r,t.l=o,t}},{key:"getStyle",value:function(){return"rgb(".concat(255*this.r|0,",").concat(255*this.g|0,",").concat(255*this.b|0,")")}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}}]),r}();exports.default=h;
    },{"./Math":"dVwR","./ColorKeywords":"qBOx"}],"Zft7":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../math/Color")),r=t(require("../math/Vec3"));function t(e){return e&&e.__esModule?e:{default:e}}function o(t,o,s,i,a,l){this.a=t,this.b=o,this.c=s,this.normal=i&&i.isVec3?i:new r.default,this.vertexNormals=Array.isArray(i)?i:[],this.color=a&&a.isColor?a:new e.default,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=void 0!==l?l:0}Object.assign(o.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var r=0,t=e.vertexNormals.length;r<t;r++)this.vertexNormals[r]=e.vertexNormals[r].clone();for(r=0,t=e.vertexColors.length;r<t;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}});var s=o;exports.default=s;
    },{"../math/Color":"FdPe","../math/Vec3":"D3a2"}],"YIth":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util/util"),e=require("./BufferAttribute"),r=u(require("../math/Mat4")),a=u(require("../math/Mat3")),i=u(require("../math/Vec3")),s=u(require("../math/Vec2")),n=u(require("../math/Color")),o=u(require("../util/Face3"));function u(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function c(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),t}var d=new r.default,f=function(){function r(){h(this,r),this.dirty=!0,this.type="Geometry",this.index=null,this.attributes={},this.vertices=[],this.groups=[],this.drawRange={start:0,count:1/0},this.userData={},this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.morphAnimation=[],this.morphAttributes={},this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}return c(r,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(r){Array.isArray(r)?this.index=new((0,t.arrayMax)(r)>65535?e.Uint32BufferAttribute:e.Uint16BufferAttribute)(r,1):this.index=r}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}for(var a=[],i=0;i<this.vertices.length;i++){var s=this.vertices[i];a.push(s.x,s.y,s.z)}for(var n=[],o=[],u={},h=[],l={},c=[],d={},f=0;f<this.faces.length;f++){var v=this.faces[f],p=void 0!==this.faceVertexUvs[0][f],y=v.normal.length()>0,m=v.vertexNormals.length>0,g=1!==v.color.r||1!==v.color.g||1!==v.color.b,b=v.vertexColors.length>0,x=0;if(x=U(x,0,0),x=U(x,1,!0),x=U(x,2,!1),x=U(x,3,p),x=U(x,4,y),x=U(x,5,m),x=U(x,6,g),x=U(x,7,b),n.push(x),n.push(v.a,v.b,v.c),n.push(v.materialIndex),p){var w=this.faceVertexUvs[0][f];n.push(M(w[0]),M(w[1]),M(w[2]))}if(y&&n.push(N(v.normal)),m){var k=v.vertexNormals;n.push(N(k[0]),N(k[1]),N(k[2]))}if(g&&n.push(V(v.color)),b){var A=v.vertexColors;n.push(V(A[0]),V(A[1]),V(A[2]))}}function U(t,e,r){return r?t|1<<e:t&~(1<<e)}function N(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]?u[e]:(u[e]=o.length/3,o.push(t.x,t.y,t.z),u[e])}function V(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]?l[e]:(l[e]=h.length,h.push(t.getHex()),l[e])}function M(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]?d[e]:(d[e]=c.length/2,c.push(t.x,t.y),d[e])}return t.data={},t.data.vertices=a,t.data.normals=o,h.length>0&&(t.data.colors=h),c.length>0&&(t.data.uvs=[c]),t.data.faces=n,t}},{key:"computeFaceNormals",value:function(){for(var t=new i.default,e=new i.default,r=0,a=this.faces.length;r<a;r++){var s=this.faces[r],n=this.vertices[s.a],o=this.vertices[s.b],u=this.vertices[s.c];t.subVectors(u,o),e.subVectors(n,o),t.cross(e),t.normalize(),s.normal.copy(t)}}},{key:"computeVertexNormals",value:function(t){var e,r,a,s,n,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)o[e]=new i.default;if(t){var u,h,l,c=new i.default,d=new i.default;for(a=0,s=this.faces.length;a<s;a++)n=this.faces[a],u=this.vertices[n.a],h=this.vertices[n.b],l=this.vertices[n.c],c.subVectors(l,h),d.subVectors(u,h),c.cross(d),o[n.a].add(c),o[n.b].add(c),o[n.c].add(c)}else for(this.computeFaceNormals(),a=0,s=this.faces.length;a<s;a++)o[(n=this.faces[a]).a].add(n.normal),o[n.b].add(n.normal),o[n.c].add(n.normal);for(e=0,r=this.vertices.length;e<r;e++)o[e].normalize();for(a=0,s=this.faces.length;a<s;a++){var f=(n=this.faces[a]).vertexNormals;3===f.length?(f[0].copy(o[n.a]),f[1].copy(o[n.b]),f[2].copy(o[n.c])):(f[0]=o[n.a].clone(),f[1]=o[n.b].clone(),f[2]=o[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0);var v=[];o.map(function(t){v.push(t.x),v.push(t.y),v.push(t.z)}),this.normalVertices=v}},{key:"fromBufferGeometry",value:function(t){var e=this,r=null!==t.index?t.index.array:void 0,a=t.attributes,u=a.position.array,h=void 0!==a.normal?a.normal.array:void 0,l=void 0!==a.color?a.color.array:void 0,c=void 0!==a.uv?a.uv.array:void 0,d=void 0!==a.uv2?a.uv2.array:void 0;void 0!==d&&(this.faceVertexUvs[1]=[]);for(var f=0,v=0;f<u.length;f+=3,v+=2)e.vertices.push((new i.default).fromArray(u,f)),void 0!==l&&e.colors.push((new n.default).fromArray(l,f));function p(t,r,a,n){var u=void 0===l?[]:[e.colors[t].clone(),e.colors[r].clone(),e.colors[a].clone()],f=void 0===h?[]:[(new i.default).fromArray(h,3*t),(new i.default).fromArray(h,3*r),(new i.default).fromArray(h,3*a)],v=new o.default(t,r,a,f,u,n);e.faces.push(v),void 0!==c&&e.faceVertexUvs[0].push([(new s.default).fromArray(c,2*t),(new s.default).fromArray(c,2*r),(new s.default).fromArray(c,2*a)]),void 0!==d&&e.faceVertexUvs[1].push([(new s.default).fromArray(d,2*t),(new s.default).fromArray(d,2*r),(new s.default).fromArray(d,2*a)])}var y=t.groups;if(y.length>0)for(f=0;f<y.length;f++)for(var m=y[f],g=m.start,b=(v=g,g+m.count);v<b;v+=3)void 0!==r?p(r[v],r[v+1],r[v+2],m.materialIndex):p(v,v+1,v+2,m.materialIndex);else if(void 0!==r)for(f=0;f<r.length;f+=3)p(r[f],r[f+1],r[f+2]);else for(f=0;f<u.length/3;f+=3)p(f,f+1,f+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}},{key:"mergeVertices",value:function(){var t,e,r,a,i,s,n,o,u={},h=[],l=[],c=Math.pow(10,4);for(r=0,a=this.vertices.length;r<a;r++)t=this.vertices[r],void 0===u[e="".concat(Math.round(t.x*c),"_").concat(Math.round(t.y*c),"_").concat(Math.round(t.z*c))]?(u[e]=r,h.push(this.vertices[r]),l[r]=h.length-1):l[r]=l[u[e]];var d=[];for(r=0,a=this.faces.length;r<a;r++){(i=this.faces[r]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],s=[i.a,i.b,i.c];for(var f=0;f<3;f++)if(s[f]===s[(f+1)%3]){d.push(r);break}}for(r=d.length-1;r>=0;r--){var v=d[r];for(this.faces.splice(v,1),n=0,o=this.faceVertexUvs.length;n<o;n++)this.faceVertexUvs[n].splice(v,1)}var p=this.vertices.length-h.length;return this.vertices=h,p}},{key:"addAttribute",value:function(t,e){return e&&e.isBufferAttribute||console.error("addAttribute expects ( name, attribute )"),"index"===t?(console.warn("Use .setIndex() for index attribute"),this.setIndex(e),this):(this.attributes[t]=e,this)}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttributeSubValue",value:function(t,e,r){t&&e&&r||console.error("attributeull"),this.attributes[t][e]=r}},{key:"addMorphAttributes",value:function(t,e){var r={};r[t]=e,this.morphTargets.push(r)}},{key:"removeAttribute",value:function(t){return delete this.attributes[t],this}},{key:"addGroup",value:function(t,e,r){this.groups.push({start:t,count:e,materialIndex:void 0!==r?r:0})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"clone",value:function(){return(new r).copy(this)}},{key:"copy",value:function(t){var e,r,a;this.index=null,this.attributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var s=t.attributes;for(e in s)if(Object.prototype.hasOwnProperty.call(s,e)){var n=s[e];this.addAttribute(e,n.clone())}var o=t.groups;for(r=0,a=o.length;r<a;r++){var u=o[r];this.addGroup(u.start,u.count,u.materialIndex)}return this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}},{key:"applyMatrix",value:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var r=this.attributes.normal;void 0!==r&&(new a.default).getNormalMatrix(t).applyToBufferAttribute(r);return this}},{key:"rotateX",value:function(t){return d.makeRotationX(t),this.applyMatrix(d),this}},{key:"rotateY",value:function(t){return d.makeRotationY(t),this.applyMatrix(d),this}},{key:"rotateZ",value:function(t){return d.makeRotationZ(t),this.applyMatrix(d),this}},{key:"translate",value:function(t,e,r){return d.makeTranslation(t,e,r),this.applyMatrix(d),this}},{key:"scale",value:function(t,e,r){return d.makeScale(t,e,r),this.applyMatrix(d),this}},{key:"setDirty",value:function(t){this.dirty=t}},{key:"reset",value:function(){this.index=null,this.attributes={}}}]),r}();exports.default=f;
    },{"../util/util":"Lkln","./BufferAttribute":"QWCA","../math/Mat4":"BQ9h","../math/Mat3":"bpLD","../math/Vec3":"D3a2","../math/Vec2":"QavS","../math/Color":"FdPe","../util/Face3":"Zft7"}],"O4Fs":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=i(require("../math/Vec3"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(i){function n(t,e,r,i,s,h){var a;return o(this,n),(a=u(this,f(n).call(this))).type="BoxGeometry",a._w_width=t||a._w_width,a._w_height=e||a._w_height,a._w_depth=r||a._w_depth,a._w_widthSegments=i||a._w_widthSegments,a._w_heightSegments=s||a._w_heightSegments,a._w_depthSegments=h||a._w_depthSegments,a.parse(),a}return _(n,t.default),h(n,[{key:"parse",value:function(){var t=this._parse(this._w_width,this._w_height,this._w_depth,this._w_widthSegments,this._w_heightSegments,this._w_depthSegments);this.indices=t.indices,this.vertices=t.vertices,this.setIndex(t.indices),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices,3)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs,2))}},{key:"_parse",value:function(t,e,i,n,o,s,h){this.dirty=!0;var u=this;t=t||100,e=e||100,i=i||100,n=Math.floor(n)||1,o=Math.floor(o)||1,s=Math.floor(s)||1;var a=[],f=[],_=[],p=[],c=0,l=0;return d("z","y","x",-1,-1,i,e,t,s,o,0),d("z","y","x",1,-1,i,e,-t,s,o,1),d("x","z","y",1,1,t,i,e,n,s,2),d("x","z","y",1,-1,t,i,-e,n,s,3),d("x","y","z",1,-1,t,e,i,n,o,4),d("x","y","z",-1,-1,t,e,-i,n,o,5),{indices:a,vertices:f,normals:_,uvs:p};function d(t,e,i,n,o,s,d,w,y,m,g){var b,v,S=s/y,x=d/m,A=s/2,O=d/2,j=w/2,z=y+1,B=m+1,P=0,F=0,M=new r.default;for(v=0;v<B;v++){var k=v*x-O;for(b=0;b<z;b++){var I=b*S-A;M[t]=I*n,M[e]=k*o,M[i]=j,f.push(M.x,M.y,M.z),h||(M[t]=0,M[e]=0,M[i]=w>0?1:-1,_.push(M.x,M.y,M.z),p.push(b/y),p.push(v/m)),P+=1}}if(!h){for(v=0;v<m;v++)for(b=0;b<y;b++){var T=c+b+z*v,q=c+b+z*(v+1),E=c+(b+1)+z*(v+1),G=c+(b+1)+z*v;a.push(T,q,G),a.push(q,E,G),F+=6}u.addGroup(l,F,g),l+=F}c+=P}}},{key:"update",value:function(t,e,r,i,n,o){this._w_width=t||this._w_width,this._w_height=e||this._w_height,this._w_depth=r||this._w_depth,this._w_widthSegments=i||this._w_widthSegments,this._w_heightSegments=n||this._w_heightSegments,this._w_depthSegments=o||this._w_depthSegments,this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var i=t.length;if(i>8)console.error("The number of animation control point can not be greater than 8!");else{for(var n=0;n<i;n++){for(var o=t[n],s=o.width,h=o.height,u=o.depth,a=o.widthSegments,f=o.heightSegments,_=o.depthSegments,p=this._parse(s,h,u,a,f,_,!0).vertices,c=0;c<p.length;c++)p[c]=p[c]-this.vertices[c];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(p,3))}for(var l=r.time,d=[],w=[],y=0;y<i;y++){d.push(y*l/(i-1));for(var m=[],g=0;g<i;g++)m.push(0);m[y]=1,w.push.apply(w,m)}this.morphAnimation.push({input:new e.Float32BufferAttribute(d,1),output:new e.Float32BufferAttribute(w,1)})}}else console.error("Invalid geometry can not add animations!")}}]),n}();exports.default=c;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2"}],"JsLl":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=i(require("../math/Vec3")),n=i(require("../math/Vec2"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(i){function o(t,e,r,n){var i;return u(this,o),(i=f(this,c(o).call(this))).type="CircleGeometry",i.radius=t,i.segments=e,i.thetaStart=r,i.thetaLength=n,i.parse(),i}return l(o,t.default),a(o,[{key:"parse",value:function(){var t=this._parse(this.radius,this.segments,this.thetaStart,this.thetaLength);this.indices=t.indices,this.vertices=t.vertices,this.setIndex(t.indices),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices,3)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs,2))}},{key:"_parse",value:function(t,e,i,o,u){this.dirty=!0,t=t||10,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI;var s,a,f=[],h=[],c=[],l=[],p=new r.default,d=new n.default;for(h.push(0,0,0),c.push(0,0,1),l.push(.5,.5),a=0,s=3;a<=e;a++,s+=3){var y=i+a/e*o;p.x=t*Math.cos(y),p.y=t*Math.sin(y),h.push(p.x,p.y,p.z),u||(c.push(0,0,1),d.x=(h[s]/t+1)/2,d.y=1-(h[s+1]/t+1)/2,l.push(d.x,d.y))}if(!u)for(s=1;s<=e;s++)f.push(s,s+1,0);return{indices:f,vertices:h,normals:c,uvs:l}}},{key:"update",value:function(t,e,r,n){this.radius=t||this.radius,this.segments=e||this.segments,this.thetaStart=r||this.thetaStart,this.thetaLength=n||this.thetaLength,this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var n=t.length;if(n>8)console.error("The number of animation control point can not be greater than 8!");else{for(var i=0;i<n;i++){for(var o=t[i],u=o.radius,s=o.segments,a=o.thetaStart,f=o.thetaLength,h=this._parse(u,s,a,f,!0).vertices,c=0;c<h.length;c++)h[c]=h[c]-this.vertices[c];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(h,3))}for(var l=r.time,p=[],d=[],y=0;y<n;y++){p.push(y*l/(n-1));for(var b=[],v=0;v<n;v++)b.push(0);b[y]=1,d.push.apply(d,b)}this.morphAnimation.push({input:new e.Float32BufferAttribute(p,1),output:new e.Float32BufferAttribute(d,1)})}}else console.error("Invalid geometry can not add animations!")}}]),o}();exports.default=d;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../math/Vec2":"QavS"}],"UotF":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.project=r,exports.unproject=e;var t=6378137,n=2*Math.PI*t;function r(t){return[a(t[0],n),u(t[1],n)]}function e(t){return[o(t[0],n),M(t[1],n)]}function a(t,n){return(180+t)*n/360}function u(t,n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*n/360}function o(t,n){return 360*t/n-180}function M(t,n){var r=180-360*t/n;return 360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}
    },{}],"Y8nD":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.project=n,exports.unproject=e;var t=6378137,r=2*Math.PI*t;function n(t){return[u(t[0],r),o(t[1],r)]}function e(t){return[c(t[0],r),i(t[1],r)]}function u(t,r){return(180+t)*r/360}function o(t,r){return(90-t)/180*r*.5}function c(t,r){return 360*t/r-180}function i(t,r){return 90-t/(.5*r)*180}
    },{}],"CEMD":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RGBA_S3TC_DXT5_Format=exports.RGBA_S3TC_DXT3_Format=exports.RGBA_S3TC_DXT1_Format=exports.RGB_S3TC_DXT1_Format=exports.RedFormat=exports.DepthStencilFormat=exports.DepthFormat=exports.RGBEFormat=exports.LuminanceAlphaFormat=exports.LuminanceFormat=exports.RGBAFormat=exports.RGBFormat=exports.AlphaFormat=exports.UnsignedInt248Type=exports.UnsignedShort565Type=exports.UnsignedShort5551Type=exports.UnsignedShort4444Type=exports.HalfFloatType=exports.FloatType=exports.UnsignedIntType=exports.IntType=exports.UnsignedShortType=exports.ShortType=exports.ByteType=exports.UnsignedByteType=exports.LinearMipMapLinearFilter=exports.LinearMipMapNearestFilter=exports.LinearFilter=exports.NearestMipMapLinearFilter=exports.NearestMipMapNearestFilter=exports.NearestFilter=exports.MirroredRepeatWrapping=exports.ClampToEdgeWrapping=exports.RepeatWrapping=exports.CubeUVRefractionMapping=exports.CubeUVReflectionMapping=exports.SphericalReflectionMapping=exports.EquirectangularRefractionMapping=exports.EquirectangularReflectionMapping=exports.CubeRefractionMapping=exports.CubeReflectionMapping=exports.UVMapping=exports.ACESFilmicToneMapping=exports.CineonToneMapping=exports.Uncharted2ToneMapping=exports.ReinhardToneMapping=exports.LinearToneMapping=exports.NoToneMapping=exports.AddOperation=exports.MixOperation=exports.MultiplyOperation=exports.NotEqualDepth=exports.GreaterDepth=exports.GreaterEqualDepth=exports.EqualDepth=exports.LessEqualDepth=exports.LessDepth=exports.AlwaysDepth=exports.NeverDepth=exports.SrcAlphaSaturateFactor=exports.OneMinusDstColorFactor=exports.DstColorFactor=exports.OneMinusDstAlphaFactor=exports.DstAlphaFactor=exports.OneMinusSrcAlphaFactor=exports.SrcAlphaFactor=exports.OneMinusSrcColorFactor=exports.SrcColorFactor=exports.OneFactor=exports.ZeroFactor=exports.MaxEquation=exports.MinEquation=exports.ReverseSubtractEquation=exports.SubtractEquation=exports.AddEquation=exports.CustomBlending=exports.MultiplyBlending=exports.SubtractiveBlending=exports.AdditiveBlending=exports.NormalBlending=exports.NoBlending=exports.VertexColors=exports.FaceColors=exports.NoColors=exports.SmoothShading=exports.FlatShading=exports.DoubleSide=exports.BackSide=exports.FrontSide=exports.PCFSoftShadowMap=exports.PCFShadowMap=exports.BasicShadowMap=exports.FrontFaceDirectionCCW=exports.FrontFaceDirectionCW=exports.CullFaceFrontBack=exports.CullFaceFront=exports.CullFaceBack=exports.CullFaceNone=exports.MOUSE=exports.REVISION=void 0,exports.TRANSFORM=exports.R=exports.ObjectSpaceNormalMap=exports.TangentSpaceNormalMap=exports.RGBADepthPacking=exports.BasicDepthPacking=exports.RGBDEncoding=exports.RGBM16Encoding=exports.RGBM7Encoding=exports.LogLuvEncoding=exports.RGBEEncoding=exports.GammaEncoding=exports.sRGBEncoding=exports.LinearEncoding=exports.LineLoopDrawMode=exports.LineStripDrawMode=exports.LinesDrawMode=exports.PointsDrawMode=exports.TriangleFanDrawMode=exports.TriangleStripDrawMode=exports.TrianglesDrawMode=exports.WrapAroundEnding=exports.ZeroSlopeEnding=exports.ZeroCurvatureEnding=exports.InterpolateSmooth=exports.InterpolateLinear=exports.InterpolateDiscrete=exports.LoopPingPong=exports.LoopRepeat=exports.LoopOnce=exports.RGBA_ASTC_12x12_Format=exports.RGBA_ASTC_12x10_Format=exports.RGBA_ASTC_10x10_Format=exports.RGBA_ASTC_10x8_Format=exports.RGBA_ASTC_10x6_Format=exports.RGBA_ASTC_10x5_Format=exports.RGBA_ASTC_8x8_Format=exports.RGBA_ASTC_8x6_Format=exports.RGBA_ASTC_8x5_Format=exports.RGBA_ASTC_6x6_Format=exports.RGBA_ASTC_6x5_Format=exports.RGBA_ASTC_5x5_Format=exports.RGBA_ASTC_5x4_Format=exports.RGBA_ASTC_4x4_Format=exports.RGB_ETC1_Format=exports.RGBA_PVRTC_2BPPV1_Format=exports.RGBA_PVRTC_4BPPV1_Format=exports.RGB_PVRTC_2BPPV1_Format=exports.RGB_PVRTC_4BPPV1_Format=void 0;var r="100dev";exports.REVISION=r;var e={LEFT:0,MIDDLE:1,RIGHT:2};exports.MOUSE=e;var o=0;exports.CullFaceNone=o;var t=1;exports.CullFaceBack=t;var p=2;exports.CullFaceFront=p;var a=3;exports.CullFaceFrontBack=a;var s=0;exports.FrontFaceDirectionCW=s;var x=1;exports.FrontFaceDirectionCCW=x;var n=0;exports.BasicShadowMap=n;var i=1;exports.PCFShadowMap=i;var v=2;exports.PCFSoftShadowMap=v;var _=0;exports.FrontSide=_;var F=1;exports.BackSide=F;var l=2;exports.DoubleSide=l;var c=1;exports.FlatShading=c;var S=2;exports.SmoothShading=S;var R=0;exports.NoColors=R;var g=1;exports.FaceColors=g;var d=2;exports.VertexColors=d;var T=0;exports.NoBlending=T;var M=1;exports.NormalBlending=M;var A=2;exports.AdditiveBlending=A;var B=3;exports.SubtractiveBlending=B;var C=4;exports.MultiplyBlending=C;var m=5;exports.CustomBlending=m;var u=100;exports.AddEquation=u;var E=101;exports.SubtractEquation=E;var G=102;exports.ReverseSubtractEquation=G;var h=103;exports.MinEquation=h;var D=104;exports.MaxEquation=D;var L=200;exports.ZeroFactor=L;var P=201;exports.OneFactor=P;var N=202;exports.SrcColorFactor=N;var O=203;exports.OneMinusSrcColorFactor=O;var y=204;exports.SrcAlphaFactor=y;var I=205;exports.OneMinusSrcAlphaFactor=I;var V=206;exports.DstAlphaFactor=V;var U=207;exports.OneMinusDstAlphaFactor=U;var q=208;exports.DstColorFactor=q;var w=209;exports.OneMinusDstColorFactor=w;var b=210;exports.SrcAlphaSaturateFactor=b;var f=0;exports.NeverDepth=f;var W=1;exports.AlwaysDepth=W;var k=2;exports.LessDepth=k;var X=3;exports.LessEqualDepth=X;var Z=4;exports.EqualDepth=Z;var j=5;exports.GreaterEqualDepth=j;var H=6;exports.GreaterDepth=H;var z=7;exports.NotEqualDepth=z;var J=0;exports.MultiplyOperation=J;var K=1;exports.MixOperation=K;var Q=2;exports.AddOperation=Q;var Y=0;exports.NoToneMapping=Y;var $=1;exports.LinearToneMapping=$;var rr=2;exports.ReinhardToneMapping=rr;var er=3;exports.Uncharted2ToneMapping=er;var or=4;exports.CineonToneMapping=or;var tr=5;exports.ACESFilmicToneMapping=tr;var pr=300;exports.UVMapping=pr;var ar=301;exports.CubeReflectionMapping=ar;var sr=302;exports.CubeRefractionMapping=sr;var xr=303;exports.EquirectangularReflectionMapping=xr;var nr=304;exports.EquirectangularRefractionMapping=nr;var ir=305;exports.SphericalReflectionMapping=ir;var vr=306;exports.CubeUVReflectionMapping=vr;var _r=307;exports.CubeUVRefractionMapping=_r;var Fr=1e3;exports.RepeatWrapping=Fr;var lr=1001;exports.ClampToEdgeWrapping=lr;var cr=1002;exports.MirroredRepeatWrapping=cr;var Sr=1003;exports.NearestFilter=Sr;var Rr=1004;exports.NearestMipMapNearestFilter=Rr;var gr=1005;exports.NearestMipMapLinearFilter=gr;var dr=1006;exports.LinearFilter=dr;var Tr=1007;exports.LinearMipMapNearestFilter=Tr;var Mr=1008;exports.LinearMipMapLinearFilter=Mr;var Ar=1009;exports.UnsignedByteType=Ar;var Br=1010;exports.ByteType=Br;var Cr=1011;exports.ShortType=Cr;var mr=1012;exports.UnsignedShortType=mr;var ur=1013;exports.IntType=ur;var Er=1014;exports.UnsignedIntType=Er;var Gr=1015;exports.FloatType=Gr;var hr=1016;exports.HalfFloatType=hr;var Dr=1017;exports.UnsignedShort4444Type=Dr;var Lr=1018;exports.UnsignedShort5551Type=Lr;var Pr=1019;exports.UnsignedShort565Type=Pr;var Nr=1020;exports.UnsignedInt248Type=Nr;var Or=1021;exports.AlphaFormat=Or;var yr=1022;exports.RGBFormat=yr;var Ir=1023;exports.RGBAFormat=Ir;var Vr=1024;exports.LuminanceFormat=Vr;var Ur=1025;exports.LuminanceAlphaFormat=Ur;var qr=Ir;exports.RGBEFormat=qr;var wr=1026;exports.DepthFormat=wr;var br=1027;exports.DepthStencilFormat=br;var fr=1028;exports.RedFormat=fr;var Wr=33776;exports.RGB_S3TC_DXT1_Format=Wr;var kr=33777;exports.RGBA_S3TC_DXT1_Format=kr;var Xr=33778;exports.RGBA_S3TC_DXT3_Format=Xr;var Zr=33779;exports.RGBA_S3TC_DXT5_Format=Zr;var jr=35840;exports.RGB_PVRTC_4BPPV1_Format=jr;var Hr=35841;exports.RGB_PVRTC_2BPPV1_Format=Hr;var zr=35842;exports.RGBA_PVRTC_4BPPV1_Format=zr;var Jr=35843;exports.RGBA_PVRTC_2BPPV1_Format=Jr;var Kr=36196;exports.RGB_ETC1_Format=Kr;var Qr=37808;exports.RGBA_ASTC_4x4_Format=Qr;var Yr=37809;exports.RGBA_ASTC_5x4_Format=Yr;var $r=37810;exports.RGBA_ASTC_5x5_Format=$r;var re=37811;exports.RGBA_ASTC_6x5_Format=re;var ee=37812;exports.RGBA_ASTC_6x6_Format=ee;var oe=37813;exports.RGBA_ASTC_8x5_Format=oe;var te=37814;exports.RGBA_ASTC_8x6_Format=te;var pe=37815;exports.RGBA_ASTC_8x8_Format=pe;var ae=37816;exports.RGBA_ASTC_10x5_Format=ae;var se=37817;exports.RGBA_ASTC_10x6_Format=se;var xe=37818;exports.RGBA_ASTC_10x8_Format=xe;var ne=37819;exports.RGBA_ASTC_10x10_Format=ne;var ie=37820;exports.RGBA_ASTC_12x10_Format=ie;var ve=37821;exports.RGBA_ASTC_12x12_Format=ve;var _e=2200;exports.LoopOnce=_e;var Fe=2201;exports.LoopRepeat=Fe;var le=2202;exports.LoopPingPong=le;var ce=2300;exports.InterpolateDiscrete=ce;var Se=2301;exports.InterpolateLinear=Se;var Re=2302;exports.InterpolateSmooth=Re;var ge=2400;exports.ZeroCurvatureEnding=ge;var de=2401;exports.ZeroSlopeEnding=de;var Te=2402;exports.WrapAroundEnding=Te;var Me=0;exports.TrianglesDrawMode=Me;var Ae=1;exports.TriangleStripDrawMode=Ae;var Be=2;exports.TriangleFanDrawMode=Be;var Ce=3;exports.PointsDrawMode=Ce;var me=4;exports.LinesDrawMode=me;var ue=5;exports.LineStripDrawMode=ue;var Ee=6;exports.LineLoopDrawMode=Ee;var Ge=3e3;exports.LinearEncoding=Ge;var he=3001;exports.sRGBEncoding=he;var De=3007;exports.GammaEncoding=De;var Le=3002;exports.RGBEEncoding=Le;var Pe=3003;exports.LogLuvEncoding=Pe;var Ne=3004;exports.RGBM7Encoding=Ne;var Oe=3005;exports.RGBM16Encoding=Oe;var ye=3006;exports.RGBDEncoding=ye;var Ie=3200;exports.BasicDepthPacking=Ie;var Ve=3201;exports.RGBADepthPacking=Ve;var Ue=0;exports.TangentSpaceNormalMap=Ue;var qe=1;exports.ObjectSpaceNormalMap=qe;var we=6378137;exports.R=we;var be={DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,R:we,CIR:2*Math.PI*we,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12};exports.TRANSFORM=be;
    },{}],"B4L8":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformECEFToGeographic=p,exports.calcGlobal2LocalTranslateMatrix=s,exports.calcLocalCoords=R;var t=require("../const/constants"),e=n(require("../math/Mat4")),r=n(require("../math/Vec3"));function n(t){return t&&t.__esModule?t:{default:t}}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t,e,r){return(a=o()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return f(t)||i(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function f(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function p(e,r,n){n+=t.TRANSFORM.R;var o=r[0]*t.TRANSFORM.DEG_TO_RAD,a=r[1]*t.TRANSFORM.DEG_TO_RAD,u=n*Math.cos(a);return e[0]=u*Math.cos(o),e[1]=n*Math.sin(a),e[2]=u*Math.sin(o),e}function s(r,n){n.multiply((new e.default).makeScale(1,-1,1)),n.multiply((new e.default).makeRotationZ(-180*t.TRANSFORM.DEG_TO_RAD)),n.multiply((new e.default).makeRotationX((-90+r[1])*t.TRANSFORM.DEG_TO_RAD)),n.multiply((new e.default).makeRotationY((r[0]-90)*t.TRANSFORM.DEG_TO_RAD));var o=[];return p(o,r,0),n.multiply((new e.default).makeTranslation(-o[0],-o[1],-o[2])),n}function R(t,n){var o=p([],t,t[2]||0),u=a(r.default,c(o)),l=new e.default;return l=s(n,l),u.applyMatrix4(l)}
    },{"../const/constants":"CEMD","../math/Mat4":"BQ9h","../math/Vec3":"D3a2"}],"yNM4":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./Geometry")),e=require("./BufferAttribute"),r=u(require("../math/Vec3")),n=u(require("../math/Vec2")),i=require("../util/projection"),o=require("../util/projection_lnglat"),s=require("../util/projectUtils");function u(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return e&&h(t.prototype,e),r&&h(t,r),t}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(i){function o(t,e,r,n,i,s){var u;return c(this,o),(u=l(this,y(o).call(this))).type="CircleDegreeGeometry",u.position=t,u.anchor=e,u.radius=r,u.segments=n,u.thetaStart=i,u.thetaLength=s,u.parse(),u}return d(o,t.default),f(o,[{key:"parse",value:function(){var t=this._parse(this.position,this.anchor,this.radius,this.segments,this.thetaStart,this.thetaLength);this.indices=t.indices,this.vertices=t.vertices,this.verticesnew=t.verticesnew,this.setIndex(t.indices),this.addAttribute("position",new e.Float32BufferAttribute(t.verticesnew,3)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs,2))}},{key:"_parse",value:function(t,e,i,o,u,a,c){this.dirty=!0,i=i||1,o=void 0!==o?Math.max(3,o):8,u=void 0!==u?u:0,a=void 0!==a?a:2*Math.PI;var h,f,l=(0,s.calcLocalCoords)(t,e).toArray(),p=[],y=[],d=[],v=[],b=new r.default,m=new n.default,w=[];for(y.push(0,0,0),w.push(0+l[0],0+l[1],0+l[2]),d.push(0,0,1),v.push(.5,.5),f=0,h=3;f<=o;f++,h+=3){var g=u+f/o*a;b.x=i*Math.cos(g),b.y=i*Math.sin(g),y.push(b.x,b.y,b.z),w.push(b.x+l[0],b.y+l[1],b.z+l[2]),c||(d.push(0,0,1),m.x=(y[h]/i+1)/2,m.y=1-(y[h+1]/i+1)/2,v.push(m.x,m.y))}if(!c)for(h=1;h<=o;h++)p.push(h,h+1,0);return{verticesnew:w,indices:p,vertices:y,normals:d,uvs:v}}},{key:"update",value:function(t,e,r,n,i,o){this.position=t,this.anchor=e,this.radius=r,this.segments=n,this.thetaStart=i,this.thetaLength=o,this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var n=t.length;if(n>8)console.error("The number of animation control point can not be greater than 8!");else{for(var i=0;i<n;i++){for(var o=t[i],s=o.position,u=o.anchor,a=o.radius,c=o.segments,h=o.thetaStart,f=o.thetaLength,l=this._parse(s,u,a,c,h,f,!0).verticesnew,p=0;p<l.length;p++)l[p]=l[p]-this.verticesnew[p];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(l,3))}for(var y=r.time,d=[],v=[],b=0;b<n;b++){d.push(b*y/(n-1));for(var m=[],w=0;w<n;w++)m.push(0);m[b]=1,v.push.apply(v,m)}this.morphAnimation.push({input:new e.Float32BufferAttribute(d,1),output:new e.Float32BufferAttribute(v,1)})}}else console.error("Invalid geometry can not add animations!")}}]),o}();exports.default=b;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../math/Vec2":"QavS","../util/projection":"UotF","../util/projection_lnglat":"Y8nD","../util/projectUtils":"B4L8"}],"LaP8":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Geometry")),e=require("./BufferAttribute");function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(r){function o(t,e,r,i){var u;return n(this,o),(u=f(this,h(o).call(this))).type="PlaneGeometry",u.width=t||1,u.height=e||1,u.widthSegments=r,u.heightSegments=i,u.parse(),u}return a(o,t.default),u(o,[{key:"parse",value:function(){this.dirty=!0;var t,r,o=this.width/2,n=this.height/2,i=Math.floor(this.widthSegments)||1,u=Math.floor(this.heightSegments)||1,f=i+1,s=u+1,h=this.width/i,a=this.height/u,c=[],l=[],p=[],y=[];for(r=0;r<s;r++){var b=r*a-n;for(t=0;t<f;t++){var d=t*h-o;l.push(d,-b,0),p.push(0,0,1),y.push(t/i),y.push(r/u)}}for(r=0;r<u;r++)for(t=0;t<i;t++){var m=t+f*r,g=t+f*(r+1),w=t+1+f*(r+1),v=t+1+f*r;c.push(m,g,v),c.push(g,w,v)}this.setIndex(c),this.addAttribute("position",new e.Float32BufferAttribute(l,3)),this.addAttribute("normal",new e.Float32BufferAttribute(p,3)),this.addAttribute("uv",new e.Float32BufferAttribute(y,2))}},{key:"update",value:function(t,e,r,o){this.width=t||1,this.height=e||1,this.widthSegments=r,this.heightSegments=o,this.parse()}}]),o}();exports.default=l;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA"}],"Tjfd":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=require("./BufferAttribute"),r=require("../util/projectUtils");function o(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}function f(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(o){function n(t,e,r,o,u,s){var h;return i(this,n),(h=f(this,a(n).call(this))).type="PlaneDegreeGeometry",h.position=t,h.anchor=e,h.width=r||1,h.height=o||1,h.widthSegments=u,h.heightSegments=s,h.parse(),h}return c(n,t.default),s(n,[{key:"parse",value:function(){this.dirty=!0;var t,o,n=this.position,i=this.anchor,u=(0,r.calcLocalCoords)(n,i).toArray(),s=this.width/2,f=this.height/2,h=Math.floor(this.widthSegments)||1,a=Math.floor(this.heightSegments)||1,c=h+1,l=a+1,p=this.width/h,y=this.height/a,b=[],d=[],g=[],m=[];for(o=0;o<l;o++){var w=o*y-f;for(t=0;t<c;t++){var v=t*p-s;d.push(v+u[0],-w+u[1],0+u[2]),g.push(0,0,1),m.push(t/h),m.push(o/a)}}for(o=0;o<a;o++)for(t=0;t<h;t++){var S=t+c*o,_=t+c*(o+1),O=t+1+c*(o+1),j=t+1+c*o;b.push(S,_,j),b.push(_,O,j)}this.setIndex(b),this.addAttribute("position",new e.Float32BufferAttribute(d,3)),this.addAttribute("normal",new e.Float32BufferAttribute(g,3)),this.addAttribute("uv",new e.Float32BufferAttribute(m,2))}},{key:"update",value:function(t,e,r,o,n,i){this.position=t,this.anchor=e,this.width=r||1,this.height=o||1,this.widthSegments=n,this.heightSegments=i,this.parse()}}]),n}();exports.default=p;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../util/projectUtils":"B4L8"}],"Maop":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Geometry")),e=require("./BufferAttribute");function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(r){function o(t){var e;return n(this,o),(e=a(this,s(o).call(this))).type="MultiPlaneGeometry",e.processData(t),e}return c(o,t.default),i(o,[{key:"processData",value:function(t){this.dirty=!0;for(var r=[],o=[],n=[],u=[],i=0,a=0,f=0,s=0,c=0;c<t.length;c++){var l=t[c],p=l.width||1,h=l.height||1,y=l.angle||0,b=h/2,d=Math.floor(l.widthSegments)||1,v=Math.floor(l.heightSegments)||1,m=d+1,w=v+1;s=o.length/3;var M=p/d,g=h/v,_=void 0,O=void 0;for(O=0;O<w;O++){var P=O*g-b;for(_=0;_<m;_++){var j=_*M*Math.cos(y*Math.PI/180),S=_*M*Math.sin(y*Math.PI/180);o.push(j+i,-P,S+a),n.push(0,0,1),u.push((_/d*p+f)/h),u.push(O/v)}}for(i+=p*Math.cos(y*Math.PI/180),a+=p*Math.sin(y*Math.PI/180),f+=p,O=0;O<v;O++)for(_=0;_<d;_++){var A=_+m*O+s,x=_+m*(O+1)+s,I=_+1+m*(O+1)+s,B=_+1+m*O+s;r.push(A,x,B),r.push(x,I,B)}}this.setIndex(r),this.addAttribute("position",new e.Float32BufferAttribute(o,3)),this.addAttribute("normal",new e.Float32BufferAttribute(n,3)),this.addAttribute("uv",new e.Float32BufferAttribute(u,2))}},{key:"update",value:function(t){this.processData(t)}}]),o}();exports.default=p;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA"}],"cmj6":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=require("./BufferAttribute"),r=require("../util/projectUtils");function o(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}function a(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(o){function n(t,e,r){var o;return i(this,n),(o=a(this,c(n).call(this))).type="MultiPlaneDegreeGeometry",o.position=t,o.anchor=e,o.processData(r),o}return l(n,t.default),f(n,[{key:"processData",value:function(t){this.dirty=!0;for(var o=this.position,n=this.anchor,i=(0,r.calcLocalCoords)(o,n).toArray(),u=[],f=[],a=[],s=[],c=0;c<t.length;c++){var l=t[c],p=l.width||1,h=l.height||1,y=p/2,b=h/2,d=Math.floor(l.widthSegments)||1,v=Math.floor(l.heightSegments)||1,m=d+1,w=v+1,_=p/d,g=h/v,O=void 0,j=void 0;for(j=0;j<w;j++){var A=j*g-b;for(O=0;O<m;O++){var S=O*_-y;f.push(S+i[0],-A+i[1],0+i[2]),a.push(0,0,1),s.push(O/d*p/h),s.push(j/v)}}for(j=0;j<v;j++)for(O=0;O<d;O++){var P=O+m*j,x=O+m*(j+1),M=O+1+m*(j+1),B=O+1+m*j;u.push(P,x,B),u.push(x,M,B)}}this.setIndex(u),this.addAttribute("position",new e.Float32BufferAttribute(f,3)),this.addAttribute("normal",new e.Float32BufferAttribute(a,3)),this.addAttribute("uv",new e.Float32BufferAttribute(s,2))}},{key:"update",value:function(t,e,r){this.position=t,this.anchor=e,this.processData(r)}}]),n}();exports.default=h;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../util/projectUtils":"B4L8"}],"cyZE":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=i(require("../math/Vec3"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}function h(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(i){function n(t,e,r,i,a,s,u){var c;return o(this,n),(c=h(this,f(n).call(this))).type="SphereBufferGeometry",c.radius=t||1,c.widthSegments=Math.max(3,Math.floor(e)||8),c.heightSegments=Math.max(2,Math.floor(r)||6),c.phiStart=void 0!==i?i:0,c.phiLength=void 0!==a?a:2*Math.PI,c.thetaStart=void 0!==s?s:0,c.thetaLength=void 0!==u?u:Math.PI,c.parse(),c}return c(n,t.default),s(n,[{key:"parse",value:function(){var t=this._parse(this.radius,this.widthSegments,this.heightSegments,this.phiStart,this.phiLength,this.thetaStart,this.thetaLength);this.indices=t.indices,this.vertices=t.vertices,this.setIndex(t.indices),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices,3)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs,2))}},{key:"_parse",value:function(t,e,i,n,o,a,s,h){this.dirty=!0;var u,f,c=a+s,p=0,l=[],d=new r.default,v=new r.default,y=[],b=[],m=[],g=[];for(f=0;f<=i;f++){var S=[],M=f/i;for(u=0;u<=e;u++){var w=u/e;d.x=-t*Math.cos(n+w*o)*Math.sin(a+M*s),d.y=t*Math.cos(a+M*s),d.z=t*Math.sin(n+w*o)*Math.sin(a+M*s),b.push(d.x,d.y,d.z),h||(v.set(d.x,d.y,d.z).normalize(),m.push(v.x,v.y,v.z),g.push(w,M)),S.push(p++)}l.push(S)}if(!h)for(f=0;f<i;f++)for(u=0;u<e;u++){var _=l[f][u+1],x=l[f][u],A=l[f+1][u],O=l[f+1][u+1];(0!==f||a>0)&&y.push(_,x,O),(f!==i-1||c<Math.PI)&&y.push(x,A,O)}return{indices:y,vertices:b,normals:m,uvs:g}}},{key:"update",value:function(t,e,r,i,n,o,a){this.radius=t||1,this.widthSegments=Math.max(3,Math.floor(e)||8),this.heightSegments=Math.max(2,Math.floor(r)||6),this.phiStart=void 0!==i?i:0,this.phiLength=void 0!==n?n:2*Math.PI,this.thetaStart=void 0!==o?o:0,this.thetaLength=void 0!==a?a:Math.PI,this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var i=t.length;if(i>8)console.error("The number of animation control point can not be greater than 8!");else{for(var n=0;n<i;n++){for(var o=t[n],a=o.radius,s=o.widthSegments,h=o.heightSegments,u=o.phiStart,f=o.phiLength,c=o.thetaStart,p=o.thetaLength,l=this._parse(a,s,h,u,f,c,p,!0).vertices,d=0;d<l.length;d++)l[d]=l[d]-this.vertices[d];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(l,3))}for(var v=r.time,y=[],b=[],m=0;m<i;m++){y.push(m*v/(i-1));for(var g=[],S=0;S<i;S++)g.push(0);g[m]=1,b.push.apply(b,g)}this.morphAnimation.push({input:new e.Float32BufferAttribute(y,1),output:new e.Float32BufferAttribute(b,1)})}}else console.error("Invalid geometry can not add animations!")}}]),n}();exports.default=l;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2"}],"HSbX":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=require("./BufferAttribute"),r=o(require("../math/Vec3")),i=require("../util/projectUtils");function o(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(o){function n(t,e,r,i,o,s,h,f,p){var l;return a(this,n),(l=u(this,c(n).call(this))).type="SphereBufferGeometry",l.position=t,l.anchor=e,l.radius=r||1,l.widthSegments=Math.max(3,Math.floor(i)||8),l.heightSegments=Math.max(2,Math.floor(o)||6),l.phiStart=void 0!==s?s:0,l.phiLength=void 0!==h?h:2*Math.PI,l.thetaStart=void 0!==f?f:0,l.thetaLength=void 0!==p?p:Math.PI,l.parse(),l}return p(n,t.default),h(n,[{key:"parse",value:function(){var t=this._parse(this.position,this.anchor,this.radius,this.widthSegments,this.heightSegments,this.phiStart,this.phiLength,this.thetaStart,this.thetaLength);this.indices=t.indices,this.vertices=t.vertices,this.setIndex(t.indices),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices,3)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs,2))}},{key:"_parse",value:function(t,e,o,n,a,s,h,u,f,c){this.dirty=!0;var p,l,d=(0,i.calcLocalCoords)(t,e).toArray(),v=u+f,y=0,b=[],m=new r.default,g=new r.default,S=[],M=[],w=[],_=[];for(l=0;l<=a;l++){var A=[],x=l/a;for(p=0;p<=n;p++){var O=p/n;m.x=-o*Math.cos(s+O*h)*Math.sin(u+x*f),m.y=o*Math.cos(u+x*f),m.z=o*Math.sin(s+O*h)*Math.sin(u+x*f),M.push(m.x+d[0],m.y+d[1],m.z+d[2]),c||(g.set(m.x,m.y,m.z).normalize(),w.push(g.x,g.y,g.z),_.push(O,1-x)),A.push(y++)}b.push(A)}if(!c)for(l=0;l<a;l++)for(p=0;p<n;p++){var P=b[l][p+1],j=b[l][p],I=b[l+1][p],L=b[l+1][p+1];(0!==l||u>0)&&S.push(P,j,L),(l!==a-1||v<Math.PI)&&S.push(j,I,L)}return{indices:S,vertices:M,normals:w,uvs:_}}},{key:"update",value:function(t,e,r,i,o,n,a,s,h){this.position=t,this.anchor=e,this.radius=r||1,this.widthSegments=Math.max(3,Math.floor(i)||8),this.heightSegments=Math.max(2,Math.floor(o)||6),this.phiStart=void 0!==n?n:0,this.phiLength=void 0!==a?a:2*Math.PI,this.thetaStart=void 0!==s?s:0,this.thetaLength=void 0!==h?h:Math.PI,this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var i=t.length;if(i>8)console.error("The number of animation control point can not be greater than 8!");else{for(var o=0;o<i;o++){for(var n=t[o],a=n.position,s=n.anchor,h=n.radius,u=n.widthSegments,f=n.heightSegments,c=n.phiStart,p=n.phiLength,l=n.thetaStart,d=n.thetaLength,v=this._parse(a,s,h,u,f,c,p,l,d,!0).vertices,y=0;y<v.length;y++)v[y]=v[y]-this.vertices[y];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(v,3))}for(var b=r.time,m=[],g=[],S=0;S<i;S++){m.push(S*b/(i-1));for(var M=[],w=0;w<i;w++)M.push(0);M[S]=1,g.push.apply(g,M)}this.morphAnimation.push({input:new e.Float32BufferAttribute(m,1),output:new e.Float32BufferAttribute(g,1)})}}else console.error("Invalid geometry can not add animations!")}}]),n}();exports.default=d;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../util/projectUtils":"B4L8"}],"dnv6":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=i(require("../math/Vec3")),o=i(require("../math/Vec2"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}function h(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(i){function n(t,e,r,o,i,a,s,f){var c;return u(this,n),(c=h(this,p(n).call(this))).type="CylinderBufferGeometry",c.radiusTop=t,c.radiusBottom=e,c.height=r,c.radialSegments=o,c.heightSegments=i,c.openEnded=a,c.thetaStart=s,c.thetaLength=f,c.parse(),c}return c(n,t.default),s(n,[{key:"parse",value:function(){var t=this._parse(this.radiusTop,this.radiusBottom,this.height,this.radialSegments,this.heightSegments,this.openEnded,this.thetaStart,this.thetaLength);this.indices=t.indices,this.vertices=t.vertices,this.setIndex(t.indices),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices,3)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs,2))}},{key:"_parse",value:function(t,e,i,n,u,a,s,h,f){this.dirty=!0;var p=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,n=Math.floor(n)||8,u=Math.floor(u)||1,a=void 0!==a&&a,s=void 0!==s?s:0,h=void 0!==h?h:2*Math.PI;var c=[],l=[],d=[],v=[],y=0,m=[],b=i/2,g=0;return function(){var o,a,S=new r.default,w=new r.default,_=0,A=(e-t)/i;for(a=0;a<=u;a++){var O=[],x=a/u,B=x*(e-t)+t;for(o=0;o<=n;o++){var M=o/n,j=M*h+s,P=Math.sin(j),T=Math.cos(j);w.x=B*P,w.y=-x*i+b,w.z=B*T,l.push(w.x,w.y,w.z),f||(S.set(P,A,T).normalize(),d.push(S.x,S.y,S.z),v.push(M,x),O.push(y++))}f||m.push(O)}if(!f){for(o=0;o<n;o++)for(a=0;a<u;a++){var E=m[a][o],z=m[a+1][o],F=m[a+1][o+1],k=m[a][o+1];c.push(E,z,k),c.push(z,F,k),_+=6}p.addGroup(g,_,0),g+=_}}(),!1===a&&(t>0&&S(!0),e>0&&S(!1)),{indices:c,vertices:l,normals:d,uvs:v};function S(i){var u,a,m,S=new o.default,w=new r.default,_=0,A=!0===i?t:e,O=!0===i?1:-1;for(a=y,u=1;u<=n;u++)l.push(0,b*O,0),f||(d.push(0,O,0),v.push(.5,.5),y++);for(m=y,u=0;u<=n;u++){var x=u/n*h+s,B=Math.cos(x),M=Math.sin(x);w.x=A*M,w.y=b*O,w.z=A*B,l.push(w.x,w.y,w.z),f||(d.push(0,O,0),S.x=.5*B+.5,S.y=.5*M*O+.5,v.push(S.x,1-S.y),y++)}if(!f){for(u=0;u<n;u++){var j=a+u,P=m+u;!0===i?c.push(P,P+1,j):c.push(P+1,P,j),_+=3}p.addGroup(g,_,!0===i?1:2),g+=_}}}},{key:"update",value:function(t,e,r,o,i,n,u,a){this.radiusTop=t,this.radiusBottom=e,this.height=r,this.radialSegments=o,this.heightSegments=i,this.openEnded=n,this.thetaStart=u,this.thetaLength=a,this.groups=[],this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var o=t.length;if(o>8)console.error("The number of animation control point can not be greater than 8!");else{for(var i=0;i<o;i++){for(var n=t[i],u=n.radiusTop,a=n.radiusBottom,s=n.height,h=n.radialSegments,f=n.heightSegments,p=n.openEnded,c=n.thetaStart,l=n.thetaLength,d=this._parse(u,a,s,h,f,p,c,l,!0).vertices,v=0;v<d.length;v++)d[v]=d[v]-this.vertices[v];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(d,3))}for(var y=r.time,m=[],b=[],g=0;g<o;g++){m.push(g*y/(o-1));for(var S=[],w=0;w<o;w++)S.push(0);S[g]=1,b.push.apply(b,S)}this.morphAnimation.push({input:new e.Float32BufferAttribute(m,1),output:new e.Float32BufferAttribute(b,1)})}}else console.error("Invalid geometry can not add animations!")}}]),n}();exports.default=d;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../math/Vec2":"QavS"}],"apxE":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./CylinderGeometry"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(e){function o(t,e,u,f,c,a,s){var l;return n(this,o),(l=r(this,i(o).call(this,0,t,e,u,f,c,a,s))).type="ConeGeometry",l.parameters={radius:t,height:e,radialSegments:u,heightSegments:f,openEnded:c,thetaStart:a,thetaLength:s},l}return f(o,t.default),o}();exports.default=a;
    },{"./CylinderGeometry":"dnv6"}],"Zf7A":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./Geometry")),e=require("./BufferAttribute"),r=a(require("../math/Vec3")),o=a(require("../math/Vec2")),i=require("../util/projection"),n=require("../util/projection_lnglat"),s=require("../util/projectUtils");function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(i){function n(t,e,r,o,i,s,a,u,f,p){var l;return h(this,n),(l=c(this,d(n).call(this))).type="CylinderBufferGeometry",l.position=t,l.anchor=e,l.radiusTop=r,l.radiusBottom=o,l.height=i,l.radialSegments=s,l.heightSegments=a,l.openEnded=u,l.thetaStart=f,l.thetaLength=p,l.parse(),l}return v(n,t.default),p(n,[{key:"parse",value:function(){var t=this._parse(this.position,this.anchor,this.radiusTop,this.radiusBottom,this.height,this.radialSegments,this.heightSegments,this.openEnded,this.thetaStart,this.thetaLength);this.indices=t.indices,this.vertices=t.vertices,this.setIndex(t.indices),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices,3)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs,2))}},{key:"_parse",value:function(t,e,i,n,a,u,h,f,p,c,l){this.dirty=!0;var d=this;t=t,e=e;var v=(0,s.calcLocalCoords)(t,e).toArray();i=void 0!==i?i:1,n=void 0!==n?n:1,a=a||1,u=Math.floor(u)||8,h=Math.floor(h)||1,f=void 0!==f&&f,p=void 0!==p?p:0,c=void 0!==c?c:2*Math.PI;var y=[],m=[],b=[],g=[],S=0,w=[],_=a/2,A=0;return function(){var t,e,o=new r.default,s=new r.default,f=0,O=(n-i)/a;for(e=0;e<=h;e++){var x=[],B=e/h,j=B*(n-i)+i;for(t=0;t<=u;t++){var M=t/u,P=M*c+p,T=Math.sin(P),q=Math.cos(P);s.x=j*T+v[0],s.y=-B*a+_+v[1]+a/2,s.z=j*q+v[2],m.push(s.x,s.y,s.z),l||(o.set(T,O,q).normalize(),b.push(o.x,o.y,o.z),g.push(M,B),x.push(S++))}l||w.push(x)}if(!l){for(t=0;t<u;t++)for(e=0;e<h;e++){var E=w[e][t],z=w[e+1][t],F=w[e+1][t+1],k=w[e][t+1];y.push(E,z,k),y.push(z,F,k),f+=6}d.addGroup(A,f,0),A+=f}}(),!1===f&&(i>0&&O(!0),n>0&&O(!1)),{indices:y,vertices:m,normals:b,uvs:g};function O(t){var e,s,h,f=new o.default,w=new r.default,O=0,x=!0===t?i:n,B=!0===t?1:-1;for(s=S,e=1;e<=u;e++)m.push(v[0],v[1]+a/2+_*B,v[2]),l||(b.push(0,B,0),g.push(.5,.5),S++);for(h=S,e=0;e<=u;e++){var j=e/u*c+p,M=Math.cos(j),P=Math.sin(j);w.x=x*P+v[0],w.y=_*B+v[1]+a/2,w.z=x*M+v[2],m.push(w.x,w.y,w.z),l||(b.push(0,B,0),f.x=.5*M+.5,f.y=.5*P*B+.5,g.push(f.x,1-f.y),S++)}if(!l){for(e=0;e<u;e++){var T=s+e,q=h+e;!0===t?y.push(q,q+1,T):y.push(q+1,q,T),O+=3}d.addGroup(A,O,!0===t?1:2),A+=O}}}},{key:"update",value:function(t,e,r,o,i,n,s,a,u,h){this.position=t,this.anchor=e,this.radiusTop=r,this.radiusBottom=o,this.height=i,this.radialSegments=n,this.heightSegments=s,this.openEnded=a,this.thetaStart=u,this.thetaLength=h,this.groups=[],this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var o=t.length;if(o>8)console.error("The number of animation control point can not be greater than 8!");else{for(var i=0;i<o;i++){for(var n=t[i],s=n.position,a=n.anchor,u=n.radiusTop,h=n.radiusBottom,f=n.height,p=n.radialSegments,c=n.heightSegments,l=n.openEnded,d=n.thetaStart,v=n.thetaLength,y=this._parse(s,a,u,h,f,p,c,l,d,v,!0).vertices,m=0;m<y.length;m++)y[m]=y[m]-this.vertices[m];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(y,3))}for(var b=r.time,g=[],S=[],w=0;w<o;w++){g.push(w*b/(o-1));for(var _=[],A=0;A<o;A++)_.push(0);_[w]=1,S.push.apply(S,_)}this.morphAnimation.push({input:new e.Float32BufferAttribute(g,1),output:new e.Float32BufferAttribute(S,1)})}}else console.error("Invalid geometry can not add animations!")}}]),n}();exports.default=m;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../math/Vec2":"QavS","../util/projection":"UotF","../util/projection_lnglat":"Y8nD","../util/projectUtils":"B4L8"}],"UqlI":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={triangulate:function(e,t,x){x=x||2;var i,u,v,y,o,p,l,a=t&&t.length,h=a?t[0]*x:e.length,c=n(e,0,h,x,!0),s=[];if(!c)return s;if(a&&(c=f(e,t,c,x)),e.length>80*x){i=v=e[0],u=y=e[1];for(var Z=x;Z<h;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<u&&(u=p),o>v&&(v=o),p>y&&(y=p);l=0!==(l=Math.max(v-i,y-u))?1/l:0}return r(c,s,x,i,u,l),s}};function n(e,n,t,r,x){var i,u;if(x===O(e,n,t,r)>0)for(i=n;i<t;i+=r)u=_(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=_(i,e[i],e[i+1],u);return u&&w(u,u.next)&&(j(u),u=u.next),u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!w(r,r.next)&&0!==d(r.prev,r,r.next))r=r.next;else{if(j(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&l(e,y,o,p);for(var h,c,s=e;e.prev!==e.next;)if(h=e.prev,c=e.next,p?i(e,y,o,p):x(e))n.push(h.i/f),n.push(e.i/f),n.push(c.i/f),j(e),e=c.next,s=c.next;else if((e=c)===s){a?1===a?r(e=u(e,n,f),n,f,y,o,p,2):2===a&&v(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(d(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(s(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&d(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(d(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,y=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,o=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=h(v,f,n,t,r),l=h(y,o,n,t,r),a=e.nextZ;a&&a.z<=l;){if(a!==e.prev&&a!==e.next&&s(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&d(a.prev,a,a.next)>=0)return!1;a=a.nextZ}for(a=e.prevZ;a&&a.z>=p;){if(a!==e.prev&&a!==e.next&&s(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&d(a.prev,a,a.next)>=0)return!1;a=a.prevZ}return!0}function u(e,n,t){var r=e;do{var x=r.prev,i=r.next.next;!w(x,i)&&g(x,r,r.next,i)&&b(x,i)&&b(i,x)&&(n.push(x.i/t),n.push(r.i/t),n.push(i.i/t),j(r),j(r.next),r=e=i),r=r.next}while(r!==e);return r}function v(e,n,x,i,u,v){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&Z(f,y)){var o=k(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,u,v),void r(o,n,x,i,u,v)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,p=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(c(f));for(p.sort(y),u=0;u<p.length;u++)o(p[u],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=k(n,e);t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t.prev;var f,y=t,o=t.x,p=t.y,l=1/0;for(r=t.next;r!==y;)x>=r.x&&r.x>=o&&x!==r.x&&s(i<p?x:u,i,o,p,i<p?u:x,i,r.x,r.y)&&((f=Math.abs(i-r.y)/(x-r.x))<l||f===l&&r.x>t.x)&&b(r,e)&&(t=r,l=f),r=r.next;return t}function l(e,n,t,r){var x=e;do{null===x.z&&(x.z=h(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,a(x)}function a(e){var n,t,r,x,i,u,v,f,y=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<y&&(v++,r=r.nextZ);n++);for(f=y;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(u>1);return e}function h(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function c(e){var n=e,t=e;do{n.x<t.x&&(t=n),n=n.next}while(n!==e);return t}function s(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function Z(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!z(e,n)&&b(e,n)&&b(n,e)&&M(e,n)}function d(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function w(e,n){return e.x===n.x&&e.y===n.y}function g(e,n,t,r){return!!(w(e,n)&&w(t,r)||w(e,r)&&w(t,n))||d(e,n,t)>0!=d(e,n,r)>0&&d(t,r,e)>0!=d(t,r,n)>0}function z(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&g(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function b(e,n){return d(e.prev,e,e.next)<0?d(e,n,e.next)>=0&&d(e,e.prev,n)>=0:d(e,n,e.prev)<0||d(e,e.next,n)<0}function M(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function k(e,n){var t=new m(e.i,e.x,e.y),r=new m(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function _(e,n,t,r){var x=new m(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function j(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function m(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}var P=e;exports.default=P;
    },{}],"saEz":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Earcut"));function r(e){return e&&e.__esModule?e:{default:e}}var t={area:function(e){for(var r=e.length,t=0,a=r-1,u=0;u<r;a=u++)t+=e[a].x*e[u].y-e[u].x*e[a].y;return.5*t},isClockWise:function(e){return t.area(e)<0},triangulateShape:function(r,t){var n=[],o=[],l=[];a(r),u(n,r);var f=r.length;t.forEach(a);for(var i=0;i<t.length;i++)o.push(f),f+=t[i].length,u(n,t[i]);var s=e.default.triangulate(n,o);for(i=0;i<s.length;i+=3)l.push(s.slice(i,i+3));return l}};function a(e){var r=e.length;r>2&&e[r-1].equals(e[0])&&e.pop()}function u(e,r){for(var t=0;t<r.length;t++)e.push(r[t].x),e.push(r[t].y)}var n=t;exports.default=n;
    },{"./Earcut":"UqlI"}],"RXSi":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./Geometry")),t=require("./BufferAttribute"),r=o(require("../math/Vec2")),a=o(require("../math/Vec3")),n=o(require("../extras/ShapeUtils"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(o){function i(e,t){var r;return s(this,i),(r=h(this,c(i).call(this))).type="ExtrudeGeometry",r.parameters={options:t},r.shapes=e,r.parse(),r}return p(i,e.default),l(i,[{key:"parse",value:function(){var e=Array.isArray(this.shapes)?this.shapes:[this.shapes],r=this._parse(e,this.parameters.options);this.vertices=r.vertices;for(var a=0;a<r.vertices.length/3;a++)r.indices.push(a);this.setIndex(r.indices),this.addAttribute("position",new t.Float32BufferAttribute(r.vertices,3)),this.addAttribute("uv",new t.Float32BufferAttribute(r.uvs,2)),this.fromBufferGeometry(this),this.computeVertexNormals(),this.addAttribute("normal",new t.Float32BufferAttribute(r.normals,3))}},{key:"_parse",value:function(e,t,r){this.dirty=!0,e=Array.isArray(e)?e:[e],this.scope=this,this.verticesArray=[],this.uvArray=[],this.indices=[],this.normals=[];for(var a=0,n=e.length;a<n;a++){var o=e[a];this.addShape(o,t)}var i,s,u,l=this.verticesArray;return r||(i=this.uvArray,s=this.indices,u=this.normals),{indices:s,vertices:l,normals:u,uvs:i}}},{key:"update",value:function(e,t){this.parameters={options:t},this.shapes=e,this.parse()}},{key:"addAnimation",value:function(e,r){if(this.vertices){var a=e.length;if(a>8)console.error("The number of animation control point can not be greater than 8!");else{for(var n=0;n<a;n++){for(var o=e[n],i=o.shapes,s=o.options,u=this._parse(i,s,!0).vertices,l=0;l<u.length;l++)u[l]=u[l]-this.vertices[l];this.addMorphAttributes("POSITION",new t.Float32BufferAttribute(u,3))}for(var h=r.time,f=[],c=[],p=0;p<a;p++){f.push(p*h/(a-1));for(var v=[],d=0;d<a;d++)v.push(0);v[p]=1,c.push.apply(c,v)}this.morphAnimation.push({input:new t.Float32BufferAttribute(f,1),output:new t.Float32BufferAttribute(c,1)})}}else console.error("Invalid geometry can not add animations!")}},{key:"addShape",value:function(e,t){var o,i=this,s=[],u=void 0!==t.curveSegments?t.curveSegments:12,l=void 0!==t.steps?t.steps:1,h=void 0!==t.depth?t.depth:100,f=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,p=void 0!==t.bevelSize?t.bevelSize:c-2,v=void 0!==t.bevelSegments?t.bevelSegments:3,d=t.extrudePath,y=void 0!==t.UVGenerator?t.UVGenerator:m;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=t.amount);var b,g,x,A,S,w,P,O=!1;d&&(o=d.getSpacedPoints(l),O=!0,f=!1,b=d.computeFrenetFrames(l,!1),g=new a.default,x=new a.default,A=new a.default),f||(v=0,c=0,p=0);var M=e.extractPoints(u),E=M.shape,N=M.holes;if(!n.default.isClockWise(E))for(E=E.reverse(),w=0,P=N.length;w<P;w++)S=N[w],n.default.isClockWise(S)&&(N[w]=S.reverse());var _,I,k,q,T,B=n.default.triangulateShape(E,N),G=E;for(w=0,P=N.length;w<P;w++)S=N[w],E=E.concat(S);function V(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}var j,F=E.length,U=B.length;function L(e,t,a){var n,o,i,s=e.x-t.x,u=e.y-t.y,l=a.x-e.x,h=a.y-e.y,f=s*s+u*u,c=s*h-u*l;if(Math.abs(c)>Number.EPSILON){var p=Math.sqrt(f),v=Math.sqrt(l*l+h*h),d=t.x-u/p,y=t.y+s/p,m=((a.x-h/v-d)*h-(a.y+l/v-y)*l)/(s*h-u*l),b=(n=d+s*m-e.x)*n+(o=y+u*m-e.y)*o;if(b<=2)return new r.default(n,o);i=Math.sqrt(b/2)}else{var g=!1;s>Number.EPSILON?l>Number.EPSILON&&(g=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(g=!0):Math.sign(u)===Math.sign(h)&&(g=!0),g?(n=-u,o=s,i=Math.sqrt(f)):(n=s,o=u,i=Math.sqrt(f/2))}return new r.default(n/i,o/i)}for(var z=[],W=0,C=G.length,J=C-1,R=W+1;W<C;W++,J++,R++)J===C&&(J=0),R===C&&(R=0),z[W]=L(G[W],G[J],G[R]);var H,D,K=[],Q=z.concat();for(w=0,P=N.length;w<P;w++){H=[];for(var X=0,Y=(S=N[w]).length,Z=Y-1,$=X+1;X<Y;X++,Z++,$++)Z===Y&&(Z=0),$===Y&&($=0),H[X]=L(S[X],S[Z],S[$]);K.push(H),Q=Q.concat(H)}for(_=0;_<v;_++){k=_/v,q=c*Math.cos(k*Math.PI/2),I=p*Math.sin(k*Math.PI/2);for(var ee=0,te=G.length;ee<te;ee++)fe((T=V(G[ee],z[ee],I)).x,T.y,-q);for(w=0,P=N.length;w<P;w++){S=N[w],H=K[w];for(var re=0,ae=S.length;re<ae;re++)fe((T=V(S[re],H[re],I)).x,T.y,-q)}}I=p;for(var ne=0;ne<F;ne++)T=f?V(E[ne],Q[ne],I):E[ne],O?(x.copy(b.normals[0]).multiplyScalar(T.x),g.copy(b.binormals[0]).multiplyScalar(T.y),A.copy(o[0]).add(x).add(g),fe(A.x,A.y,A.z)):fe(T.x,T.y,0);for(D=1;D<=l;D++)for(var oe=0;oe<F;oe++)T=f?V(E[oe],Q[oe],I):E[oe],O?(x.copy(b.normals[D]).multiplyScalar(T.x),g.copy(b.binormals[D]).multiplyScalar(T.y),A.copy(o[D]).add(x).add(g),fe(A.x,A.y,A.z)):fe(T.x,T.y,h/l*D);for(_=v-1;_>=0;_--){k=_/v,q=c*Math.cos(k*Math.PI/2),I=p*Math.sin(k*Math.PI/2);for(var ie=0,se=G.length;ie<se;ie++)fe((T=V(G[ie],z[ie],I)).x,T.y,h+q);for(w=0,P=N.length;w<P;w++){S=N[w],H=K[w];for(var ue=0,le=S.length;ue<le;ue++)T=V(S[ue],H[ue],I),O?fe(T.x,T.y+o[l-1].y,o[l-1].x+q):fe(T.x,T.y,h+q)}}function he(e,t){for(var r,a,n=e.length;--n>=0;){r=n,(a=n-1)<0&&(a=e.length-1);var o=0,i=l+2*v;for(o=0;o<i;o++){var s=F*o,u=F*(o+1);pe(t+r+s,t+a+s,t+a+u,t+r+u)}}}function fe(e,t,r){s.push(e),s.push(t),s.push(r)}function ce(e,t,r){ve(e),ve(t),ve(r);var a=i.verticesArray.length/3,n=y.generateTopUV(i.scope,i.verticesArray,a-3,a-2,a-1);de(n[0]),de(n[1]),de(n[2])}function pe(e,t,r,a){ve(e),ve(t),ve(a),ve(t),ve(r),ve(a);var n=i.verticesArray.length/3,o=y.generateSideWallUV(i.scope,i.verticesArray,n-6,n-3,n-2,n-1);de(o[0]),de(o[1]),de(o[3]),de(o[1]),de(o[2]),de(o[3])}function ve(e){i.verticesArray.push(s[3*e+0]),i.verticesArray.push(s[3*e+1]),i.verticesArray.push(s[3*e+2])}function de(e){i.uvArray.push(e.x),i.uvArray.push(e.y)}!function(){var e=i.verticesArray.length/3;if(f){for(var t=0,r=F*t,a=0;a<U;a++)ce((j=B[a])[2]+r,j[1]+r,j[0]+r);r=F*(t=l+2*v);for(var n=0;n<U;n++)ce((j=B[n])[0]+r,j[1]+r,j[2]+r)}else{for(var o=0;o<U;o++)ce((j=B[o])[2],j[1],j[0]);for(var s=0;s<U;s++)ce((j=B[s])[0]+F*l,j[1]+F*l,j[2]+F*l)}i.scope.addGroup(e,i.verticesArray.length/3-e,0)}(),function(){var e=i.verticesArray.length/3,t=0;for(he(G,t),t+=G.length,w=0,P=N.length;w<P;w++)he(S=N[w],t),t+=S.length;i.scope.addGroup(e,i.verticesArray.length/3-e,1)}()}},{key:"toJSON",value:function(){var e=this.toJSON.call(this);return y(this.shapes,this.parameters.options,e)}}]),i}();function y(e,t,r){if(r.shapes=[],Array.isArray(e))for(var a=0,n=e.length;a<n;a++){var o=e[a];r.shapes.push(o.uuid)}else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}exports.default=d;var m={generateTopUV:function(e,t,a,n,o){var i=t[3*a],s=t[3*a+1],u=t[3*n],l=t[3*n+1],h=t[3*o],f=t[3*o+1];return[new r.default(i,s),new r.default(u,l),new r.default(h,f)]},generateSideWallUV:function(e,t,a,n,o,i){var s=t[3*a],u=t[3*a+1],l=t[3*a+2],h=t[3*n],f=t[3*n+1],c=t[3*n+2],p=t[3*o],v=t[3*o+1],d=t[3*o+2],y=t[3*i],m=t[3*i+1],b=t[3*i+2];return Math.abs(u-f)<.01?[new r.default(s,1-l),new r.default(h,1-c),new r.default(p,1-d),new r.default(y,1-b)]:[new r.default(u,1-l),new r.default(f,1-c),new r.default(v,1-d),new r.default(m,1-b)]}};
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec2":"QavS","../math/Vec3":"D3a2","../extras/ShapeUtils":"saEz"}],"jqH5":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Geometry")),t=r(require("./ExtrudeGeometry"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(r){function n(e,t){var r;return o(this,n),(r=s(this,f(n).call(this))).type="TextAccessor",r.shapes=[],r.text=e,r.parameters=t,r.parse(),r}return c(n,e.default),u(n,[{key:"parse",value:function(){this.dirty=!0;var r=this.text,n=this.parameters;this.mergeVertices();var o=n.font;if(!o||!o.isFont)return console.error("minemap.Modeling.TextGeometry: font parameter is not an instance of THREE.Font."),new e.default;this.shapes=o.generateShapes(r,n.size);new t.default(this.shapes,n)}},{key:"update",value:function(e,t){this.shapes=[],this.text=e,this.parameters=t,this.parse()}}]),n}();exports.default=l;
    },{"./Geometry":"YIth","./ExtrudeGeometry":"RXSi"}],"vcmv":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./Geometry")),t=o(require("./ExtrudeGeometry")),n=o(require("./TextAccessor"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(n){function o(e,t){var n;return i(this,o),(n=u(this,f(o).call(this))).type="TextGeometry",n.text=e,n.parameters=t,n.parse(),n}return c(o,e.default),s(o,[{key:"parse",value:function(){this.dirty=!0;var n=this.text,o=this.parameters,r=o.font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new e.default;var i=r.generateShapes(n,o.size);o.depth=void 0!==o.height?o.height:50,void 0===o.bevelThickness&&(o.bevelThickness=10),void 0===o.bevelSize&&(o.bevelSize=8),void 0===o.bevelEnabled&&(o.bevelEnabled=!1);var a=new t.default(i,o);this.geometry=a,Object.assign(this,a)}},{key:"update",value:function(e,t){this.text=e,this.parameters=t,this.parse()}},{key:"addAnimation",value:function(t,n){if(this.geometry){var o=t.length;if(o>8)console.error("The number of animation control point can not be greater than 8!");else{for(var r=[],i=0;i<o;i++){var a=t[i],s=a.shapes,u=a.options,l=u.font;if(!l||!l.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new e.default;var f=l.generateShapes(s,u.size);u.depth=void 0!==u.height?u.height:50,void 0===u.bevelThickness&&(u.bevelThickness=10),void 0===u.bevelSize&&(u.bevelSize=8),void 0===u.bevelEnabled&&(u.bevelEnabled=!1),r.push({shapes:f,options:u})}this.geometry.addAnimation(r,n)}}else console.error("Invalid geometry can not add animations!")}}]),o}();exports.default=b;
    },{"./Geometry":"YIth","./ExtrudeGeometry":"RXSi","./TextAccessor":"jqH5"}],"vaU5":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./Geometry")),e=require("./BufferAttribute"),r=require("../util/projection"),n=u(require("../math/Vec3")),o=require("../util/projection_lnglat"),i=require("../util/projectUtils");function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t,e,r){return(a=s()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&A(o,r.prototype),o}).apply(null,arguments)}function l(t){return y(t)||p(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function y(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}function v(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(r){function o(t,e){var r;return h(this,o),(r=v(this,w(o).call(this))).type="TriangleGeometry",r.indices=[],r.vertices=[],r.uvs=[],r.normals=[],r.index=0,r.coords=t,r.location=e,r.parse(),r}return j(o,t.default),b(o,[{key:"parse",value:function(){var t,r,o;this.dirty=!0;for(var u,c=this.coords,s=this.location,f=[],p=[],y=[],h=c.length,d=0;d<h;d++){var b=(0,i.calcLocalCoords)(c[d],s).toArray();f.push.apply(f,l(b)),p.push(d)}var v=new n.default,m=new n.default,w=a(n.default,l(f.slice(0,3))),j=a(n.default,l(f.slice(3,6))),A=a(n.default,l(f.slice(6,9)));v.subVectors(A,j),m.subVectors(w,j),v.cross(m),v.normalize();var g=v.toArray();y=(y=(y=y.concat(g)).concat(g)).concat(g),u=[.5,0,0,1,1,1],(t=this.vertices).push.apply(t,f),(r=this.uvs).push.apply(r,l(u)),(o=this.indices).push.apply(o,p),this.normals=y,this.index+=3,this.setIndex(this.indices),this.addAttribute("position",new e.Float32BufferAttribute(this.vertices,3)),this.addAttribute("uv",new e.Float32BufferAttribute(this.uvs,2)),this.addAttribute("normal",new e.Float32BufferAttribute(this.normals,3))}},{key:"update",value:function(t,e){this.indices=[],this.vertices=[],this.uvs=[],this.normals=[],this.index=0,this.coords=t,this.location=e,this.parse()}}]),o}();exports.default=g;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../util/projection":"UotF","../math/Vec3":"D3a2","../util/projection_lnglat":"Y8nD","../util/projectUtils":"B4L8"}],"WGGj":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=require("./BufferAttribute"),r=require("../util/projectUtils");function o(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return a(t)||s(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}function p(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?y(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(o){function n(t,r){var o;return c(this,n),(o=p(this,h(n).call(this))).type="RectangleGeometry",o.indices=[],o.vertices=[],o.uvs=[],o.normals=[],o.verticesArray=[],o.coords=t,o.location=r,o.parse(),o.fromBufferGeometry(y(o)),o.computeVertexNormals(),o.addAttribute("normal",new e.Float32BufferAttribute(o.normalVertices,3)),o}return b(n,t.default),l(n,[{key:"parse",value:function(){var t,o,n;this.dirty=!0;for(var u=this.coords,s=this.location,a=[],c=[],f=[],l=u.length,p=0;p<l;p++){var h=(0,r.calcLocalCoords)(u[p],s).toArray();a.push.apply(a,i(h))}c.push(0,1,3,1,2,3),f.push(0,0),f.push(1,0),f.push(1,1),f.push(0,1);var y=0;this.addGroup(y,3,0),y+=3,this.addGroup(y,3,1),(t=this.verticesArray).push.apply(t,a),(o=this.uvs).push.apply(o,f),(n=this.indices).push.apply(n,c),this.setIndex(this.indices),this.addAttribute("position",new e.Float32BufferAttribute(this.verticesArray,3)),this.addAttribute("uv",new e.Float32BufferAttribute(this.uvs,2))}},{key:"update",value:function(t,r){this.indices=[],this.vertices=[],this.uvs=[],this.normals=[],this.verticesArray=[],this.coords=t,this.location=r,this.parse(),this.fromBufferGeometry(this),this.computeVertexNormals(),this.addAttribute("normal",new e.Float32BufferAttribute(this.normalVertices,3))}}]),n}();exports.default=m;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../util/projectUtils":"B4L8"}],"KaoG":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=require("./BufferAttribute"),r=o(require("../math/Vec3")),n=o(require("../math/Vec2"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(o){function i(t,e,r,n,o,a){var s;return u(this,i),(s=f(this,h(i).call(this))).type="TubeDegreeGeometry",s.path=t,s.tubularSegments=e||64,s.radius=r||1,s.radialSegments=n||8,s.closed=a||!1,s.isCap=o||!1,s.parse(),s}return l(i,t.default),s(i,[{key:"getCurrentLinePointDistance",value:function(t){return this.path.cacheArcLengths[Math.round(t*this.path.cacheArcLengths.length)]}},{key:"parse",value:function(){this.dirty=!0;var t=this.path,o=this.tubularSegments,i=this.radius,u=this.radialSegments,a=this.closed,s=this.isCap,f=2*Math.PI*i,c=t.computeFrenetFrames(o,a);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var h,l,p=new r.default,y=new r.default,b=(new n.default,new r.default),d=[],m=[],v=[],x=[],g=this;function z(e){var n=new r.default;n=t.getPointAt(e/o,n),d.push(n.x,n.y,n.z);var a=c.tangents[e];m.push(a.x,a.y,a.z),v.push(.5,.5);var s=c.normals[e],f=c.binormals[e];for(l=0;l<=u;l++){var h=l/u*Math.PI*2,b=0===l?1:-1,x=Math.sin(h),g=-Math.cos(h);y.x=g*s.x+x*f.x,y.y=g*s.y+x*f.y,y.z=g*s.z+x*f.z,y.normalize(),m.push(a.x,a.y,a.z),p.x=n.x+i*y.x,p.y=n.y+i*y.y,p.z=n.z+i*y.z,d.push(p.x,p.y,p.z),v.push(.5*-g+.5,.5-.5*x*b+.5)}}function w(e){b=t.getPointAt(e/o,b);var r=c.normals[e],n=c.binormals[e];for(l=0;l<=u;l++){var a=l/u*Math.PI*2,s=Math.sin(a),h=-Math.cos(a);y.x=h*r.x+s*n.x,y.y=h*r.y+s*n.y,y.z=h*r.z+s*n.z,y.normalize(),m.push(y.x,y.y,y.z),p.x=b.x+i*y.x,p.y=b.y+i*y.y,p.z=b.z+i*y.z,d.push(p.x,p.y,p.z),v.push(g.getCurrentLinePointDistance(e/o)/f,l/u*2)}}!function(){for(h=0;h<o;h++)w(h);w(!1===a?o:0),function(){for(l=1;l<=o;l++)for(h=1;h<=u;h++){var t=(u+1)*(l-1)+(h-1),e=(u+1)*l+(h-1),r=(u+1)*l+h,n=(u+1)*(l-1)+h;x.push(t,e,n),x.push(e,r,n)}}(),s&&(z(0),z(o),function(){var t=(o+1)*(u+1);for(h=0;h<u;h++)x.push(t,t+h+1,t+h+2);var e=(o+2)*(u+1)+1;for(h=0;h<u;h++)x.push(e,e+h+1,e+h+2)}())}(),this.setIndex(x),this.addAttribute("position",new e.Float32BufferAttribute(d,3)),this.addAttribute("normal",new e.Float32BufferAttribute(m,3)),this.addAttribute("uv",new e.Float32BufferAttribute(v,2))}},{key:"update",value:function(t,e,r,n,o,i){this.path=t,this.tubularSegments=e||64,this.radius=r||1,this.radialSegments=n||8,this.closed=i||!1,this.isCap=o||!1,this.parse()}}]),i}();exports.default=y;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../math/Vec2":"QavS"}],"WiIz":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=require("./BufferAttribute"),r=o(require("../math/Vec3")),n=o(require("../math/Vec2"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(o){function i(t,e,r,n,o){var a;return u(this,i),(a=f(this,l(i).call(this))).type="TubeGeometry",a.path=t,a.tubularSegments=e||64,a.radius=r||1,a.radialSegments=n||8,a.closed=o||!1,a.parse(),a}return h(i,t.default),s(i,[{key:"getCurrentLinePointDistance",value:function(t){return this.path.cacheArcLengths[Math.round(t*this.path.cacheArcLengths.length)]}},{key:"parse",value:function(){this.dirty=!0;var t=this.path,o=this.tubularSegments,i=this.radius,u=this.radialSegments,a=this.closed,s=2*Math.PI*i,f=this.path.computeFrenetFrames(this.tubularSegments,this.closed);this.tangents=f.tangents,this.normals=f.normals,this.binormals=f.binormals;var c,l,h=new r.default,p=new r.default,y=(new n.default,new r.default),b=[],d=[],m=[],g=[],v=this;function w(e){y=t.getPointAt(e/o,y);var r=f.normals[e],n=f.binormals[e];for(l=0;l<=u;l++){var a=l/u*Math.PI*2,c=Math.sin(a),g=-Math.cos(a);p.x=g*r.x+c*n.x,p.y=g*r.y+c*n.y,p.z=g*r.z+c*n.z,p.normalize(),d.push(p.x,p.y,p.z),h.x=y.x+i*p.x,h.y=y.y+i*p.y,h.z=y.z+i*p.z,m.push(v.getCurrentLinePointDistance(e/o)/s,l/u*2),b.push(h.x,h.y,h.z)}}!function(){for(c=0;c<o;c++)w(c);w(!1===a?o:0),function(){for(l=1;l<=o;l++)for(c=1;c<=u;c++){var t=(u+1)*(l-1)+(c-1),e=(u+1)*l+(c-1),r=(u+1)*l+c,n=(u+1)*(l-1)+c;g.push(t,e,n),g.push(e,r,n)}}()}(),this.setIndex(g),this.addAttribute("position",new e.Float32BufferAttribute(b,3)),this.addAttribute("normal",new e.Float32BufferAttribute(d,3)),this.addAttribute("uv",new e.Float32BufferAttribute(m,2))}},{key:"update",value:function(t,e,r,n,o){this.path=t,this.tubularSegments=e||64,this.radius=r||1,this.radialSegments=n||8,this.closed=o||!1,this.parse()}}]),i}();exports.default=y;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../math/Vec2":"QavS"}],"oxGd":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=require("./BufferAttribute"),r=o(require("../math/Vec3"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function f(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(r){function o(t,e){var r;u(this,o),(r=f(this,s(o).call(this))).type="ParticleGeometry";c(r);return r.lifecycle=t||8,r.particleNumbers=e||100,r.parse(),r}return l(o,t.default),a(o,[{key:"parse",value:function(){this.dirty=!0;for(var t=this.lifecycle,r=this.particleNumbers,o=[],n=[],u=[],i=[],a=[],f=[],s=[-1,-1,1,-1,1,1,-1,1],c=[0,0,1,0,1,1,0,1],l=function(e){var r=t*Math.random(),l=.5*Math.random()-.25;l/=3;var p=.5*Math.random()-.25;p/=10;var h=.5*Math.random()-.25;h/=3;var b=.1*Math.random(),y=.02*Math.random();l>0&&(y*=-1);var d=.02*Math.random();h>0&&(d*=-1);for(var m=0;m<4;m++)o.push(r),n.push(s[2*m]),n.push(s[2*m+1]),u.push(c[2*m]),u.push(c[2*m+1]),a.push(l),a.push(p+Math.abs(l/2)),a.push(h),f.push(y),f.push(b),f.push(d);i=i.concat([0,1,2,0,2,3].map(function(t){return t+4*e}))},p=0;p<r;p++)l(p);this.setIndex(i),this.addAttribute("lifetimes",new e.Float32BufferAttribute(o,1)),this.addAttribute("triCorners",new e.Float32BufferAttribute(n,2)),this.addAttribute("texCoords",new e.Float32BufferAttribute(u,2)),this.addAttribute("centerOffsets",new e.Float32BufferAttribute(a,3)),this.addAttribute("velocities",new e.Float32BufferAttribute(f,3))}},{key:"update",value:function(t,e){this.lifecycle=t||8,this.particleNumbers=e||100,this.parse()}}]),o}();exports.default=h;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2"}],"ijH6":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=i(require("../math/Vec3")),o=require("../const/constants"),n=require("../util/projectUtils");function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return f(t)||s(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function f(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),t}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(r){function i(t,e,r){var o;return l(this,i),(o=h(this,d(i).call(this)))._w_vertices=t,o._w_anchor=e,o._w_drawMode=r,o._process(),o}return w(i,t.default),_(i,[{key:"_process",value:function(){var t=this;this.dirty=!0;var r=[];this._w_vertices.forEach(function(e){var o=(0,n.calcLocalCoords)(e,t._w_anchor||[0,0]);r.push.apply(r,a(o.toArray()))}),this.addAttribute("position",new e.Float32BufferAttribute(r,3)),"LINE_STRIP"===this._w_drawMode?this.drawMode=o.LineStripDrawMode:"LINE_LOOP"===this._w_drawMode?this.drawMode=o.LineLoopDrawMode:this.drawMode=o.LinesDrawMode;for(var i=[],u=0,c=0;c<r.length-2;c+=3)i.push(u++);this.setIndex(i)}},{key:"update",value:function(t,e,r){this._w_vertices=t||this._w_vertices,this._w_anchor=e||this._w_anchor,this._w_drawMode=r||this._w_drawMode,this._process()}}]),i}();exports.default=v;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../const/constants":"CEMD","../util/projectUtils":"B4L8"}],"JsUP":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Geometry")),e=require("./BufferAttribute"),r=n(require("../math/Vec3")),o=require("../const/constants");function n(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(r){function n(t,e){var r;return u(this,n),(r=f(this,l(n).call(this)))._w_vertices=t,r._w_drawMode=e,r._process(),r}return p(n,t.default),s(n,[{key:"_process",value:function(){this.dirty=!0;var t=[];this._w_vertices.forEach(function(e){t=t.concat(e)}),this.addAttribute("position",new e.Float32BufferAttribute(t,3)),"LINE_STRIP"===this._w_drawMode?this.drawMode=o.LineStripDrawMode:"LINE_LOOP"===this._w_drawMode?this.drawMode=o.LineLoopDrawMode:this.drawMode=o.LinesDrawMode;for(var r=[],n=0,i=0;i<t.length-2;i+=3)r.push(n++);this.setIndex(r)}},{key:"update",value:function(t,e){this._w_vertices=t||this._w_vertices,this._w_drawMode=e||this._w_drawMode,this._process()}}]),n}();exports.default=_;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../const/constants":"CEMD"}],"rFhg":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./Geometry")),e=require("./BufferAttribute"),r=s(require("../math/Vec3")),i=require("../const/constants");function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function n(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(r){function s(t){var e;return h(this,s),(e=n(this,f(s).call(this,t))).hFov=t.hFov,e.wFov=t.wFov,e.widthHeightRatio=t.widthHeightRatio,e.farDistance=t.farDistance,e.gridSamples=t.gridSamples||3,e.isGridSurface=t.isGridSurface,n(e,e.isGridSurface?e.createCameraViewSurfaceLines():e.createCamerViewLines())}return c(s,t.default),u(s,[{key:"update",value:function(t){return this.hFov=t.hFov,this.wFov=t.wFov,this.farDistance=t.farDistance,this.widthHeightRatio=t.widthHeightRatio,this.gridSamples=t.gridSamples||3,this.isGridSurface=t.isGridSurface,this.isGridSurface?this.createCameraViewSurfaceLines():this.createCamerViewLines()}},{key:"createCameraViewSurfaceLines",value:function(){this.dirty=!0,this.line=new t.default;var r=[],s=-this.farDistance*Math.sin((90-this.wFov/2)*i.TRANSFORM.DEG_TO_RAD),a=this.farDistance*Math.cos((90-this.wFov/2)*i.TRANSFORM.DEG_TO_RAD),h=a/this.widthHeightRatio;r.push(0,0,0),r.push(a,h,s),r.push(0,0,0),r.push(-a,h,s),r.push(0,0,0),r.push(-a,-h,s),r.push(0,0,0),r.push(a,-h,s),this.addAttribute("position",new e.Float32BufferAttribute(r,3)),this.drawMode=i.LinesDrawMode;for(var o=[],u=0,n=0;n<r.length-2;n+=3)o.push(u++);return this.setIndex(o),this}},{key:"createCamerViewLines",value:function(){this.dirty=!0,this.line=new t.default;for(var r=[],s=this.farDistance*Math.sin(this.hFov/2*i.TRANSFORM.DEG_TO_RAD),a=this.farDistance*Math.sin(this.wFov/2*i.TRANSFORM.DEG_TO_RAD),h=Math.pow(this.farDistance,2),o=1;o<=this.gridSamples;o++){for(var u=s/this.gridSamples*o,n=1;n<=this.gridSamples;n++){var p=a/this.gridSamples*n,f=a/this.gridSamples*(n-1),c=-Math.sqrt(h-Math.pow(u,2)-Math.pow(p,2)),l=-Math.sqrt(h-Math.pow(u,2)-Math.pow(f,2));if(1===o){var d=-Math.sqrt(h-Math.pow(p,2)),w=-Math.sqrt(h-Math.pow(f,2));r.push(p,0,d),r.push(f,0,w),r.push(-p,0,d),r.push(-f,0,w)}r.push(p,u,c),r.push(f,u,l),r.push(-p,u,c),r.push(-f,u,l);var M=s/this.gridSamples*(o-1);if(l=-Math.sqrt(h-Math.pow(M,2)-Math.pow(p,2)),r.push(p,u,c),r.push(p,M,l),r.push(-p,u,c),r.push(-p,M,l),1===n){var v=-Math.sqrt(h-Math.pow(M,2)),y=-Math.sqrt(h-Math.pow(u,2));r.push(0,u,y),r.push(0,M,v),r.push(0,-u,y),r.push(0,-M,v)}}u=-u;var S=-Math.sqrt(h-Math.pow(s,2)-Math.pow(a,2));r.push(0,0,0),r.push(a,s,S),r.push(0,0,0),r.push(-a,s,S),r.push(0,0,0),r.push(-a,-s,S),r.push(0,0,0),r.push(a,-s,S);for(var m=1;m<=this.gridSamples;m++){var b=a/this.gridSamples*m,g=a/this.gridSamples*(m-1),_=-Math.sqrt(h-Math.pow(u,2)-Math.pow(b,2)),D=-Math.sqrt(h-Math.pow(u,2)-Math.pow(g,2));r.push(b,u,_),r.push(g,u,D),r.push(-b,u,_),r.push(-g,u,D);var O=-s/this.gridSamples*(o-1);D=-Math.sqrt(h-Math.pow(O,2)-Math.pow(b,2)),r.push(b,u,_),r.push(b,O,D),r.push(-b,u,_),r.push(-b,O,D)}}this.addAttribute("position",new e.Float32BufferAttribute(r,3)),this.drawMode=i.LinesDrawMode;for(var F=[],R=0,q=0;q<r.length-2;q+=3)F.push(R++);return this.setIndex(F),this}}]),s}();exports.default=d;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../const/constants":"CEMD"}],"eiY3":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./Geometry")),s=require("./BufferAttribute"),e=a(require("../math/Vec3")),h=require("../const/constants");function a(t){return t&&t.__esModule?t:{default:t}}function r(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function i(t,s){for(var e=0;e<s.length;e++){var h=s[e];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function p(t,s,e){return s&&i(t.prototype,s),e&&i(t,e),t}var u=function(){function e(t){return r(this,e),this.hFov=t.hFov,this.wFov=t.wFov,this.farDistance=t.farDistance,this.gridSamples=t.gridSamples||3,this.createCamerViewLines()}return p(e,[{key:"update",value:function(t){return this.hFov=t.hFov,this.wFov=t.wFov,this.farDistance=t.farDistance,this.gridSamples=t.gridSamples||3,this.createCamerViewLines()}},{key:"createCamerViewLines",value:function(){this.dirty=!0,this.line=new t.default;for(var e=[],a=this.farDistance*Math.sin(this.hFov/2*h.TRANSFORM.DEG_TO_RAD),r=this.farDistance*Math.sin(this.wFov/2*h.TRANSFORM.DEG_TO_RAD),i=Math.pow(this.farDistance,2),p=1;p<=this.gridSamples;p++){for(var u=a/this.gridSamples*p,o=1;o<=this.gridSamples;o++){var n=r/this.gridSamples*o,l=r/this.gridSamples*(o-1),f=-Math.sqrt(i-Math.pow(u,2)-Math.pow(n,2)),M=-Math.sqrt(i-Math.pow(u,2)-Math.pow(l,2));if(1===p){var w=-Math.sqrt(i-Math.pow(n,2)),d=-Math.sqrt(i-Math.pow(l,2));e.push(0,0,0),e.push(n,0,w),e.push(0,0,0),e.push(l,0,d),e.push(0,0,0),e.push(-n,0,w),e.push(0,0,0),e.push(-l,0,d)}e.push(0,0,0),e.push(l,u,M),e.push(0,0,0),e.push(-l,u,M);var c=a/this.gridSamples*(p-1);if(M=-Math.sqrt(i-Math.pow(c,2)-Math.pow(n,2)),e.push(0,0,0),e.push(n,u,f),e.push(0,0,0),e.push(n,c,M),e.push(0,0,0),e.push(-n,u,f),e.push(0,0,0),e.push(-n,c,M),1===o){var v=-Math.sqrt(i-Math.pow(c,2)),m=-Math.sqrt(i-Math.pow(u,2));e.push(0,0,0),e.push(0,u,m),e.push(0,0,0),e.push(0,c,v),e.push(0,0,0),e.push(0,-u,m),e.push(0,0,0),e.push(0,-c,v)}}u=-u;for(var g=1;g<=this.gridSamples;g++){var S=r/this.gridSamples*g,q=r/this.gridSamples*(g-1),F=-Math.sqrt(i-Math.pow(u,2)-Math.pow(S,2)),D=-Math.sqrt(i-Math.pow(u,2)-Math.pow(q,2));e.push(0,0,0),e.push(q,u,D),e.push(0,0,0),e.push(-q,u,D);var b=-a/this.gridSamples*(p-1);D=-Math.sqrt(i-Math.pow(b,2)-Math.pow(S,2)),e.push(0,0,0),e.push(S,u,F),e.push(0,0,0),e.push(S,b,D),e.push(0,0,0),e.push(-S,u,F),e.push(0,0,0),e.push(-S,b,D)}}this.line.addAttribute("position",new s.Float32BufferAttribute(e,3)),this.line.drawMode=h.LinesDrawMode;for(var y=[],_=0,A=0;A<e.length-2;A+=3)y.push(_++);return this.line.setIndex(y),this.line}}]),e}();exports.default=u;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../const/constants":"CEMD"}],"ZXHO":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Geometry")),e=o(require("./CylinderGeometry")),i=require("./BufferAttribute"),s=o(require("../math/Vec3")),r=require("../const/constants");function o(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function p(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R=function(e){function s(t){var e;return u(this,s),(e=p(this,f(s).call(this,t))).hFov=t.hFov,e.wFov=t.wFov,e.widthHeightRatio=t.widthHeightRatio,e.farDistance=t.farDistance,e.gridSamples=2*t.gridSamples||6,p(e,e.createCameraViewSurface())}return l(s,t.default),n(s,[{key:"update",value:function(t){return this.hFov=t.hFov||this.hFov,this.wFov=t.wFov||this.wFov,this.farDistance=t.farDistance||this.farDistance,this.widthHeightRatio=t.widthHeightRatio||this.widthHeightRatio,this.gridSamples=2*t.gridSamples||this.gridSamples,this.createCameraViewSurface()}},{key:"createCameraViewSurface",value:function(){this.dirty=!0;var t=-this.farDistance*Math.sin((90-this.wFov/2)*r.TRANSFORM.DEG_TO_RAD),e=this.farDistance*Math.cos((90-this.wFov/2)*r.TRANSFORM.DEG_TO_RAD),s=e/this.widthHeightRatio,o=[],h=0,u=[];u.push(0,0,0),o.push(h++),u.push(e,s,t),o.push(h++),u.push(e,-s,t),o.push(h++),u.push(0,0,0),o.push(h++),u.push(-e,s,t),o.push(h++),u.push(-e,-s,t),o.push(h++);for(var a=1;a<=this.gridSamples/2;a++){var n=this.wFov*(a-1)/this.gridSamples,p=this.wFov*a/this.gridSamples,c=Math.sin(n*r.TRANSFORM.DEG_TO_RAD)*this.farDistance,f=-Math.cos(n*r.TRANSFORM.DEG_TO_RAD)*this.farDistance,l=Math.sin(p*r.TRANSFORM.DEG_TO_RAD)*this.farDistance,d=-Math.cos(p*r.TRANSFORM.DEG_TO_RAD)*this.farDistance;u.push(0,0,0),o.push(h++),u.push(c,-s,f),o.push(h++),u.push(l,-s,d),o.push(h++),u.push(c,s,f),u.push(l,s,d),u.push(l,-s,d),u.push(c,-s,f),o.push(h),o.push(h+1),o.push(h+2),o.push(h),o.push(h+2),o.push(h+3),h+=4,u.push(-c,s,f),u.push(-l,s,d),u.push(-l,-s,d),u.push(-c,-s,f),o.push(h),o.push(h+1),o.push(h+2),o.push(h),o.push(h+2),o.push(h+3),h+=4}for(var R=1;R<=this.gridSamples/2;R++){var D=this.wFov*(R-1)/this.gridSamples,v=this.wFov*R/this.gridSamples,y=Math.sin(D*r.TRANSFORM.DEG_TO_RAD)*this.farDistance,_=-Math.cos(D*r.TRANSFORM.DEG_TO_RAD)*this.farDistance,w=Math.sin(v*r.TRANSFORM.DEG_TO_RAD)*this.farDistance,O=-Math.cos(v*r.TRANSFORM.DEG_TO_RAD)*this.farDistance;u.push(0,0,0),o.push(h++),u.push(-w,-s,O),o.push(h++),u.push(-y,-s,_),o.push(h++)}return this.setIndex(o),this.drawMode=r.TrianglesDrawMode,this.addAttribute("position",new i.Float32BufferAttribute(u,3)),this}}]),s}();exports.default=R;
    },{"./Geometry":"YIth","./CylinderGeometry":"dnv6","./BufferAttribute":"QWCA","../math/Vec3":"D3a2","../const/constants":"CEMD"}],"d3f1":[function(require,module,exports) {
        "use strict";function e(e,t,x){x=x||2;var i,u,v,y,o,p,l,a=t&&t.length,h=a?t[0]*x:e.length,s=n(e,0,h,x,!0),c=[];if(!s||s.next===s.prev)return c;if(a&&(s=f(e,t,s,x)),e.length>80*x){i=v=e[0],u=y=e[1];for(var Z=x;Z<h;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<u&&(u=p),o>v&&(v=o),p>y&&(y=p);l=0!==(l=Math.max(v-i,y-u))?1/l:0}return r(s,c,x,i,u,l),c}function n(e,n,t,r,x){var i,u;if(x===A(e,n,t,r)>0)for(i=n;i<t;i+=r)u=k(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=k(i,e[i],e[i+1],u);return u&&g(u,u.next)&&(j(u),u=u.next),u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!g(r,r.next)&&0!==d(r.prev,r,r.next))r=r.next;else{if(j(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&l(e,y,o,p);for(var h,s,c=e;e.prev!==e.next;)if(h=e.prev,s=e.next,p?i(e,y,o,p):x(e))n.push(h.i/f),n.push(e.i/f),n.push(s.i/f),j(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=u(e,n,f),n,f,y,o,p,2):2===a&&v(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(d(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(c(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&d(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(d(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,y=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,o=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=h(v,f,n,t,r),l=h(y,o,n,t,r),a=e.prevZ,s=e.nextZ;a&&a.z>=p&&s&&s.z<=l;){if(a!==e.prev&&a!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&d(a.prev,a,a.next)>=0)return!1;if(a=a.prevZ,s!==e.prev&&s!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,s.x,s.y)&&d(s.prev,s,s.next)>=0)return!1;s=s.nextZ}for(;a&&a.z>=p;){if(a!==e.prev&&a!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&d(a.prev,a,a.next)>=0)return!1;a=a.prevZ}for(;s&&s.z<=l;){if(s!==e.prev&&s!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,s.x,s.y)&&d(s.prev,s,s.next)>=0)return!1;s=s.nextZ}return!0}function u(e,n,t){var r=e;do{var x=r.prev,i=r.next.next;!g(x,i)&&w(x,r,r.next,i)&&b(x,i)&&b(i,x)&&(n.push(x.i/t),n.push(r.i/t),n.push(i.i/t),j(r),j(r.next),r=e=i),r=r.next}while(r!==e);return r}function v(e,n,x,i,u,v){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&Z(f,y)){var o=m(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,u,v),void r(o,n,x,i,u,v)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,p=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(s(f));for(p.sort(y),u=0;u<p.length;u++)o(p[u],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=m(n,e);t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t.prev;var f,y=t,o=t.x,p=t.y,l=1/0;for(r=t.next;r!==y;)x>=r.x&&r.x>=o&&x!==r.x&&c(i<p?x:u,i,o,p,i<p?u:x,i,r.x,r.y)&&((f=Math.abs(i-r.y)/(x-r.x))<l||f===l&&r.x>t.x)&&b(r,e)&&(t=r,l=f),r=r.next;return t}function l(e,n,t,r){var x=e;do{null===x.z&&(x.z=h(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,a(x)}function a(e){var n,t,r,x,i,u,v,f,y=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<y&&(v++,r=r.nextZ);n++);for(f=y;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(u>1);return e}function h(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function s(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function c(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function Z(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!z(e,n)&&b(e,n)&&b(n,e)&&M(e,n)}function d(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function g(e,n){return e.x===n.x&&e.y===n.y}function w(e,n,t,r){return!!(g(e,n)&&g(t,r)||g(e,r)&&g(t,n))||d(e,n,t)>0!=d(e,n,r)>0&&d(t,r,e)>0!=d(t,r,n)>0}function z(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&w(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function b(e,n){return d(e.prev,e,e.next)<0?d(e,n,e.next)>=0&&d(e,e.prev,n)>=0:d(e,n,e.prev)<0||d(e,e.next,n)<0}function M(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function m(e,n){var t=new q(e.i,e.x,e.y),r=new q(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function k(e,n,t,r){var x=new q(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function j(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function q(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}module.exports=e,module.exports.default=e,e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(A(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var y=n[v]*t,o=v<f-1?n[v+1]*t:e.length;u-=Math.abs(A(e,y,o,t))}var p=0;for(v=0;v<r.length;v+=3){var l=r[v]*t,a=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[l]-e[h])*(e[a+1]-e[l+1])-(e[l]-e[a])*(e[h+1]-e[l+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t};
    },{}],"f63w":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=i(require("earcut")),n=require("../util/projectUtils"),o=i(require("../math/Vec3"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return c(t)||f(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),t}function y(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(o){function i(t,e){var r;return l(this,i),(r=y(this,b(i).call(this))).type="PolygonGeometry",r._w_coords=t,r._w_location=e,r.parse(),r}return _(i,t.default),h(i,[{key:"parse",value:function(){var t=this._parse(this._w_coords,this._w_location);this.indices=t.index_final,this.vertices=t.vertices_final,this.setIndex(t.index_final),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices_final,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs_final,2)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals_final,3))}},{key:"_parse",value:function(t,e,o){this.dirty=!0;for(var i=e,a=[],s=[],f=[],c=[],l=[],p=[],h=t.length,y=0;y<h;y++){var d=(0,n.calcLocalCoords)(t[y],i);a.push([d.x,d.y,d.z]),f.push(d.x,d.z),c.push([d.x,d.z])}for(var b=(0,r.default)(f).reverse(),_=[],v=0;v<b.length;v+=3){var m=b[v],A=b[v+1],g=b[v+2];if(s.push.apply(s,u(a[m]).concat(u(a[A]),u(a[g]))),!o){l.push.apply(l,u(c[m]).concat(u(c[A]),u(c[g])));var O=w([a[m],a[A],a[g]]);p.push.apply(p,u(O).concat(u(O),u(O))),_.push(v,v+1,v+2)}}return{vertices_final:s,uvs_final:l,normals_final:p,index_final:_}}},{key:"update",value:function(t,e){this._w_coords=t||this._w_coords,this._w_location=e||this._w_location,this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var n=t.length;if(n>8)console.error("The number of animation control point can not be greater than 8!");else{for(var o=0;o<n;o++){for(var i=t[o],a=i.coords,u=i.anchor,s=this._parse(a,u,!0).vertices_final,f=0;f<s.length;f++)s[f]=s[f]-this.vertices[f];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(s,3))}for(var c=r.time,l=[],p=[],h=0;h<n;h++){l.push(h*c/(n-1));for(var y=[],d=0;d<n;d++)y.push(0);y[h]=1,p.push.apply(p,y)}this.morphAnimation.push({input:new e.Float32BufferAttribute(l,1),output:new e.Float32BufferAttribute(p,1)})}}else console.error("Invalid geometry can not add animations!")}}]),i}();function w(t){var e=new o.default(t[0][0]-t[1][0],t[0][1]-t[1][1],t[0][2]-t[1][2]),r=new o.default(t[2][0]-t[1][0],t[2][1]-t[1][1],t[2][2]-t[1][2]),n=new o.default;return n.crossVectors(e,r),n.normalize(),n.toArray()}exports.default=m;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","earcut":"d3f1","../util/projectUtils":"B4L8","../math/Vec3":"D3a2"}],"pz15":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=i(require("earcut")),n=require("../util/projectUtils"),o=i(require("../math/Vec3"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return l(t)||s(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),t}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(n){function o(t){var e;return c(this,o),(e=y(this,b(o).call(this))).type="PolygonGeometry",e._w_coords=t,e.parse(),e}return v(o,t.default),h(o,[{key:"parse",value:function(){var t=this._parse(this._w_coords);this.indices=t.index_final,this.vertices=t.vertices_final,this.setIndex(t.index_final),this.addAttribute("position",new e.Float32BufferAttribute(t.vertices_final,3)),this.addAttribute("uv",new e.Float32BufferAttribute(t.uvs_final,2)),this.addAttribute("normal",new e.Float32BufferAttribute(t.normals_final,3))}},{key:"_parse",value:function(t,e){this.dirty=!0;for(var n=t,o=[],i=[],u=[],f=[],s=[],l=[],c=t.length,p=0;p<c;p++)o.push(t[p][0],t[p][2]),i.push([t[p][0],t[p][2]]);for(var h=(0,r.default)(o).reverse(),y=0;y<h.length;y+=3){var d=h[y],b=h[y+1],v=h[y+2];if(u.push.apply(u,a(n[d]).concat(a(n[b]),a(n[v]))),!e){f.push.apply(f,a(i[d]).concat(a(i[b]),a(i[v])));var _=w([n[d],n[b],n[v]]);s.push.apply(s,a(_).concat(a(_),a(_))),l.push(y,y+1,y+2)}}return{vertices_final:u,uvs_final:f,normals_final:s,index_final:l}}},{key:"update",value:function(t){this._w_coords=t||this._w_coords,this.parse()}},{key:"addAnimation",value:function(t,r){if(this.vertices){var n=t.length;if(n>8)console.error("The number of animation control point can not be greater than 8!");else{for(var o=0;o<n;o++){for(var i=t[o].coords,u=this._parse(i,!0).vertices_final,a=0;a<u.length;a++)u[a]=u[a]-this.vertices[a];this.addMorphAttributes("POSITION",new e.Float32BufferAttribute(u,3))}for(var f=r.time,s=[],l=[],c=0;c<n;c++){s.push(c*f/(n-1));for(var p=[],h=0;h<n;h++)p.push(0);p[c]=1,l.push.apply(l,p)}this.morphAnimation.push({input:new e.Float32BufferAttribute(s,1),output:new e.Float32BufferAttribute(l,1)})}}else console.error("Invalid geometry can not add animations!")}}]),o}();function w(t){var e=new o.default(t[0][0]-t[1][0],t[0][1]-t[1][1],t[0][2]-t[1][2]),r=new o.default(t[2][0]-t[1][0],t[2][1]-t[1][1],t[2][2]-t[1][2]),n=new o.default;return n.crossVectors(e,r),n.normalize(),n.toArray()}exports.default=m;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","earcut":"d3f1","../util/projectUtils":"B4L8","../math/Vec3":"D3a2"}],"Zaz3":[function(require,module,exports) {
        "use strict";function r(r,t){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function t(r,t,e){var n=t[0],u=t[1],o=e[0]-n,f=e[1]-u;if(0!==o||0!==f){var a=((r[0]-n)*o+(r[1]-u)*f)/(o*o+f*f);a>1?(n=e[0],u=e[1]):a>0&&(n+=o*a,u+=f*a)}return(o=r[0]-n)*o+(f=r[1]-u)*f}function e(t,e){for(var n,u=t[0],o=[u],f=1,a=t.length;f<a;f++)r(n=t[f],u)>e&&(o.push(n),u=n);return u!==n&&o.push(n),o}function n(r,e,u,o,f){for(var a,i=o,v=e+1;v<u;v++){var s=t(r[v],r[e],r[u]);s>i&&(a=v,i=s)}i>o&&(a-e>1&&n(r,e,a,o,f),f.push(r[a]),u-a>1&&n(r,a,u,o,f))}function u(r,t){var e=r.length-1,u=[r[0]];return n(r,0,e,t,u),u.push(r[e]),u}function o(r,t,n){if(r.length<=2)return r;var o=void 0!==t?t*t:1;return r=u(r=n?r:e(r,o),o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var f=o;exports.default=f;
    },{}],"lxpE":[function(require,module,exports) {
        "use strict";function t(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function r(t,r){return t[0]*r[0]+t[1]*r[1]}function n(t,r){const n=r[0],e=r[1],o=r[2],u=Math.sqrt(n*n+e*e+o*o);return t[0]=n/u,t[1]=e/u,t[2]=o/u,t}function e(t,r){const n=r[0],e=r[1],o=Math.sqrt(n*n+e*e);return t[0]=n/o,t[1]=e/o,t}function o(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function u(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function s(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t}function c(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function i(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t}function f(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function p(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t}function a(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function x(t,r){const n=r[0],e=r[1],o=r[2],u=Math.sqrt(n*n+e*e+o*o);return t[0]=n/u,t[1]=e/u,t[2]=o/u,t}function l(t,r,n){var e=r[0],o=r[1],u=r[2],s=n[0],c=n[1],i=n[2];return t[0]=o*i-u*c,t[1]=u*s-e*i,t[2]=e*c-o*s,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dot=t,exports.v2Dot=r,exports.normalize=n,exports.v2Normalize=e,exports.scale=o,exports.mul=u,exports.scaleAndAdd=s,exports.add=c,exports.v2Add=i,exports.sub=f,exports.v2Sub=p,exports.v3Sub=a,exports.v3Normalize=x,exports.v3Cross=l,exports.slerp=v,exports.lineIntersection=M,exports.area=h,exports.triangleArea=b;const d=[];function v(r,e,u,c){const i=t(e,u),f=Math.acos(i)*c;return s(d,u,e,-i),n(d,d),o(r,e,Math.cos(f)),s(r,r,d,Math.sin(f)),r}function M(t,r,n,e,o,u,s,c,i,f){const p=s-o,a=c-u,x=(p*(r-u)-a*(t-o))/(a*(n-t)-p*(e-r));return i[f]=t+x*(n-t),i[f+1]=r+x*(e-r),x}function h(t,r,n){if(n-r<3)return 0;let e=0;for(let o=2*(n-1),u=2*r;u<2*n;){const r=t[o],n=t[o+1],s=t[u],c=t[u+1];o=u,u+=2,e+=r*c-s*n}return e}function b(t,r,n,e,o,u){return(n-t)*(u-e)-(e-r)*(o-n)}
    },{}],"Rf5O":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.triangulate=i,exports.flatten=l,exports.offsetPolygon=a,exports.extrudePolygon=S,exports.extrudePolyline=w,exports.extrudeGeoJSON=R;var t=o(require("earcut")),e=o(require("./simplify")),n=require("./math");function o(t){return t&&t.__esModule?t:{default:t}}function i(e,n,o=2){return(0,t.default)(e,n,o)}function l(e){return t.default.flatten(e)}const r=[],s=[],h=[];function c(t,e,o,i,l,c,a,u){const f=null!=a;let d=l,g=null;f&&(g=new Uint32Array(i-o));for(let v=o;v<i;v++){const l=v===i-1?o:v+1,p=v===o?i-1:v-1,x=t[2*p],m=t[2*p+1],y=t[2*v],b=t[2*v+1],M=t[2*l],S=t[2*l+1];if(r[0]=y-x,r[1]=b-m,s[0]=M-y,s[1]=S-b,(0,n.v2Normalize)(r,r),(0,n.v2Normalize)(s,s),f&&(g[v]=d),u||v!==o)if(u||v!==i-1){(0,n.v2Add)(h,s,r);const t=h[1];h[1]=-h[0],h[0]=t,(0,n.v2Normalize)(h,h);const o=(0,n.v2Dot)(h,s),i=Math.sqrt(1-o*o),l=c*Math.min(10,1/i),u=c*o<0;if(f&&1/i>a&&u){const t=y+h[0]*c,n=b+h[1]*c,o=Math.acos(i)/2,l=Math.tan(o)*Math.abs(c);e[2*d]=t+h[1]*l,e[2*d+1]=n-h[0]*l,e[2*++d]=t-h[1]*l,e[2*d+1]=n+h[0]*l,d++}else e[2*d]=y+h[0]*l,e[2*d+1]=b+h[1]*l,d++}else h[0]=r[1],h[1]=-r[0],(0,n.v2Normalize)(h,h),e[2*d]=y+h[0]*c,e[2*d+1]=b+h[1]*c,d++;else h[0]=s[1],h[1]=-s[0],(0,n.v2Normalize)(h,h),e[2*d]=y+h[0]*c,e[2*d+1]=b+h[1]*c,d++}return g}function a(t,e,n,o,i){const l=null!=o?[]:new Float32Array(t.length);if(c(t,l,0,e&&e.length?e[0]:t.length/2,0,n,o,i,!1),e)for(let r=0;r<e.length;r++){const s=e[r];c(t,l,s,e[r+1]||t.length/2,null!=o?l.length/2:s,n,o,i)}return l}function u(t,e,n,o){for(let i=0;i<Math.floor((o-n)/2);i++)for(let l=0;l<e;l++){const r=(i+n)*e+l,s=(o-i-1)*e+l,h=t[r];t[r]=t[s],t[s]=h}return t}function f(t,e){let o=t.length/2,i=0,l=e&&e.length?e[0]:o;(0,n.area)(t,i,l)>0&&u(t,2,i,l);for(let r=1;r<(e?e.length:0)+1;r++)i=e[r-1],l=e[r]||o,(0,n.area)(t,i,l)<0&&u(t,2,i,l)}function d(t){t.depth=t.depth||1,t.bevelSize=t.bevelSize||0,t.bevelSegments=null==t.bevelSegments?2:t.bevelSegments,t.smoothSide=t.smoothSide||!1,t.smoothBevel=t.smoothBevel||!1,t.simplify=t.simplify||0,"number"==typeof t.depth&&(t.bevelSize=Math.min(t.bevelSegments>0?t.bevelSize:0,t.depth/2)),t.bevelSize>0||(t.bevelSegments=0),t.bevelSegments=Math.round(t.bevelSegments);const e=t.boundingRect;if(t.translate=t.translate||[0,0],t.scale=t.scale||[1,1],t.fitRect){let n=null==t.fitRect.x?e.x||0:t.fitRect.x,o=null==t.fitRect.y?e.y||0:t.fitRect.y,i=t.fitRect.width,l=t.fitRect.height;null==i?null!=l?i=l/e.height*e.width:(i=e.width,l=e.height):null==l&&(l=i/e.width*e.height),t.scale=[i/e.width,l/e.height],t.translate=[(n-e.x)*t.scale[0],(o-e.y)*t.scale[1]]}}function g(t,e){function o(t,e,n,o){t[0]=e,t[1]=n,t[2]=o}const i=[],l=[],r=[],s=[],h=[],c=[],a=t.length,u=new Float32Array(e.length);for(let d=0;d<a;){const a=3*t[d++],f=3*t[d++],g=3*t[d++];o(i,e[a],e[a+1],e[a+2]),o(l,e[f],e[f+1],e[f+2]),o(r,e[g],e[g+1],e[g+2]),(0,n.v3Sub)(s,i,l),(0,n.v3Sub)(h,l,r),(0,n.v3Cross)(c,s,h);for(let t=0;t<3;t++)u[a+t]=u[a+t]+c[t],u[f+t]=u[f+t]+c[t],u[g+t]=u[g+t]+c[t]}for(var f=0;f<u.length;)o(c,u[f],u[f+1],u[f+2]),(0,n.v3Normalize)(c,c),u[f++]=c[0],u[f++]=c[1],u[f++]=c[2];return u}const v=[[0,0],[1,0],[1,1],[0,0],[1,1],[0,1]];function p(t,{vertices:e,topVertices:o,depth:i,rect:l},r,s,h,c){const a=s-r,u=c.smoothSide?1:2,f=a*u,d=c.smoothBevel?1:2,g=Math.min(i/2,c.bevelSize),p=c.bevelSegments,x=h.vertex,m=Math.max(l.width,l.height);if(g>0){const l=[0,0,1],s=[],c=[0,0,-1],y=[];let b=0,M=new Float32Array(a);for(let S=0;S<2;S++){const w=0===S?i-g:g;for(let i=0;i<=p*d;i++){let z,R,A=0;for(let q=0;q<a;q++){for(let v=0;v<u;v++){let u=2*((q+v)%a+r);s[0]=e[u]-o[u],s[1]=e[u+1]-o[u+1],s[2]=0;const x=Math.sqrt(s[0]*s[0]+s[1]*s[1]);s[0]/=x,s[1]/=x;const b=(Math.floor(i/d)+i%d)/p;0===S?(0,n.slerp)(y,l,s,b):(0,n.slerp)(y,s,c,b);const B=0===S?b:1-b,O=g*Math.sin(B*Math.PI/2),P=x*Math.cos(B*Math.PI/2),F=g*x/Math.sqrt(O*O+P*P),N=y[0]*F+o[u],j=y[1]*F+o[u+1],L=y[2]*F+w;if(t.position[3*h.vertex]=N,t.position[3*h.vertex+1]=j,t.position[3*h.vertex+2]=L,(q>0||v>0)&&(A+=Math.sqrt((z-N)*(z-N)+(R-j)*(R-j))),i>0||S>0){let e=3*(h.vertex-f),n=t.position[e],o=t.position[e+1],i=t.position[e+2];M[q]+=Math.sqrt((n-N)*(n-N)+(o-j)*(o-j)+(i-L)*(i-L))}t.uv[2*h.vertex]=A/m,t.uv[2*h.vertex+1]=M[q]/m,z=N,R=j,h.vertex++}if(d>1&&i%d||1===d&&i>=1)for(let e=0;e<6;e++){const n=(v[e][0]+q*u)%f,o=v[e][1]+b;t.indices[h.index++]=(o-1)*f+n+x}}b++}}}else for(let n=0;n<2;n++){const o=0===n?i-g:g;let l,s,c=0;for(let n=0;n<a;n++)for(let i=0;i<u;i++){const u=2*((n+i)%a+r),f=e[u],d=e[u+1];t.position[3*h.vertex]=f,t.position[3*h.vertex+1]=d,t.position[3*h.vertex+2]=o,(n>0||i>0)&&(c+=Math.sqrt((l-f)*(l-f)+(s-d)*(s-d))),t.uv[2*h.vertex]=c/m,t.uv[2*h.vertex+1]=o/m,l=f,s=d,h.vertex++}}const y=g>0?p*d+1:1;for(let n=0;n<a;n++)for(let e=0;e<6;e++){const o=(v[e][0]+n*u)%f,i=v[e][1]+y;t.indices[h.index++]=(i-1)*f+o+x}}function x({indices:t,vertices:e,topVertices:n,rect:o,depth:i},l,r,s){if(e.length<=4)return;const h=r.vertex,c=t.length;for(let u=0;u<c;u++)l.indices[r.index++]=h+t[u];const a=Math.max(o.width,o.height);for(let u=0;u<(s.excludeBottom?1:2);u++)for(let t=0;t<n.length;t+=2){const e=n[t],s=n[t+1];l.position[3*r.vertex]=e,l.position[3*r.vertex+1]=s,l.position[3*r.vertex+2]=(1-u)*i,l.uv[2*r.vertex]=(e-o.x)/a,l.uv[2*r.vertex+1]=(s-o.y)/a,r.vertex++}if(!s.excludeBottom){const n=e.length/2;for(let e=0;e<c;e+=3)for(let o=0;o<3;o++)l.indices[r.index++]=h+n+t[e+2-o]}}function m(t,e){let n=0,o=0;for(let r=0;r<t.length;r++){const{indices:i,vertices:l,holes:s,depth:h}=t[r],c=l.length/2,a=Math.min(h/2,e.bevelSize)>0?e.bevelSegments:0;n+=i.length*(e.excludeBottom?1:2),o+=c*(e.excludeBottom?1:2);const u=2+2*a;let f=0,d=0;for(let t=0;t<(s?s.length:0)+1;t++){0===t?d=s&&s.length?s[0]:c:(f=s[t-1],d=s[t]||c),n+=6*(d-f)*(u-1);const i=(d-f)*(e.smoothSide?1:2);o+=i*u+(e.smoothBevel?0:a*i*2)}}const i={position:new Float32Array(3*o),indices:new(o>65535?Uint32Array:Uint16Array)(n),uv:new Float32Array(2*o)},l={vertex:0,index:0};for(let r=0;r<t.length;r++)x(t[r],i,l,e);for(let r=0;r<t.length;r++){const{holes:n,vertices:o}=t[r],s=o.length/2;let h=0,c=n&&n.length?n[0]:s;if(p(i,t[r],h,c,l,e),n)for(let a=0;a<n.length;a++)h=n[a],c=n[a+1]||s,p(i,t[r],h,c,l,e)}for(let r=0;r<i.uv.length;r++){const t=i.uv[r];t>0&&Math.round(t)===t?i.uv[r]=1:i.uv[r]=t%1}return i.normal=g(i.indices,i.position),i.boundingRect=t[0]&&t[0].rect,i}function y(t,e,o){const i=o.lineWidth,l=t.length,r=new Float32Array(2*l),s=o.translate||[0,0],h=o.scale||[1,1];for(let n=0,c=0;n<l;n++)r[c++]=t[n][0]*h[0]+s[0],r[c++]=t[n][1]*h[1]+s[1];(0,n.area)(r,0,l)<0&&u(r,2,0,l);const f=[],d=[],g=o.miterLimit,v=c(r,d,0,l,0,-i/2,g,!1);u(r,2,0,l);const p=c(r,f,0,l,0,-i/2,g,!1),x=(f.length+d.length)/2,m=new Float32Array(2*x);let y=0;const b=d.length/2;for(let n=0;n<d.length;n++)m[y++]=d[n];for(let n=0;n<f.length;n++)m[y++]=f[n];const M=new(x>65535?Uint32Array:Uint16Array)(3*(2*(l-1)+(x-2*l)));let S=0;for(let n=0;n<l-1;n++){const t=n+1;M[S++]=b-1-v[n],M[S++]=b-1-v[n]-1,M[S++]=p[n]+1+b,M[S++]=b-1-v[n],M[S++]=p[n]+1+b,M[S++]=p[n]+b,p[t]-p[n]==2?(M[S++]=p[n]+2+b,M[S++]=p[n]+1+b,M[S++]=b-v[t]-1):v[t]-v[n]==2&&(M[S++]=p[t]+b,M[S++]=b-1-(v[n]+1),M[S++]=b-1-(v[n]+2))}const w=o.bevelSize>0?a(m,[],o.bevelSize,null,!0):m,z=o.boundingRect;return{vertices:m,indices:M,topVertices:w,rect:{x:z.x*h[0]+s[0],y:z.y*h[1]+s[1],width:z.width*h[0],height:z.height*h[1]},depth:"function"==typeof o.depth?o.depth(e):o.depth,holes:[]}}function b(t,e){const n=[];for(let o=0;o<t.length;o++){const i=t[o],l=[],r=i.length;let s=i[r-1][0],h=i[r-1][1],c=0;for(let t=0;t<r;t++){let n=i[t][0],o=i[t][1];const r=n-s,a=o-h;(c+=Math.sqrt(r*r+a*a))>e&&(l.push(i[t]),c=0),s=n,h=o}l.length>=3&&n.push(l)}return n.length>0?n:null}function M(t,n){const o=[];for(let i=0;i<t.length;i++){let l=t[i];(l=(0,e.default)(l,n,!0)).length>=3&&o.push(l)}return o.length>0?o:null}function S(e,n){n=Object.assign({},n);const o=[1/0,1/0],l=[-1/0,-1/0];for(let t=0;t<e.length;t++)z(e[t][0],o,l);n.boundingRect=n.boundingRect||{x:o[0],y:o[1],width:l[0]-o[0],height:l[1]-o[1]},d(n);const r=[],s=n.translate||[0,0],h=n.scale||[1,1],c=n.boundingRect,u={x:c.x*h[0]+s[0],y:c.y*h[1]+s[1],width:c.width*h[0],height:c.height*h[1]},g=Math.min(c.width,c.height)/1e5;for(let d=0;d<e.length;d++){let o=b(e[d],g);if(!o)continue;const l=n.simplify/Math.max(h[0],h[1]);if(l>0&&(o=M(o,l)),!o)continue;const{vertices:c,holes:v,dimensions:p}=t.default.flatten(o);for(let t=0;t<c.length;)c[t]=c[t++]*h[0]+s[0],c[t]=c[t++]*h[1]+s[1];if(f(c,v),2!==p)throw new Error("Only 2D polygon points are supported");const x=n.bevelSize>0?a(c,v,n.bevelSize,null,!0):c,m=i(x,v,p);r.push({indices:m,vertices:c,topVertices:x,holes:v,rect:u,depth:"function"==typeof n.depth?n.depth(d):n.depth})}return m(r,n)}function w(t,n){n=Object.assign({},n);const o=[1/0,1/0],i=[-1/0,-1/0];for(let e=0;e<t.length;e++)z(t[e],o,i);n.boundingRect=n.boundingRect||{x:o[0],y:o[1],width:i[0]-o[0],height:i[1]-o[1]},d(n);const l=n.scale||[1,1];null==n.lineWidth&&(n.lineWidth=1),null==n.miterLimit&&(n.miterLimit=2);const r=[];for(let s=0;s<t.length;s++){let o=t[s];const i=n.simplify/Math.max(l[0],l[1]);i>0&&(o=(0,e.default)(o,i,!0)),r.push(y(o,s,n))}return m(r,n)}function z(t,e,n){for(let o=0;o<t.length;o++)e[0]=Math.min(t[o][0],e[0]),e[1]=Math.min(t[o][1],e[1]),n[0]=Math.max(t[o][0],n[0]),n[1]=Math.max(t[o][1],n[1])}function R(t,e){e=Object.assign({},e);const n=[],o=[],i=[],l=[],r=[1/0,1/0],s=[-1/0,-1/0];for(let c=0;c<t.features.length;c++){const e=t.features[c].geometry;if(e&&e.coordinates)switch(e.type){case"LineString":n.push(e.coordinates),i.push(c),z(e.coordinates,r,s);break;case"MultiLineString":for(let t=0;t<e.coordinates.length;t++)n.push(e.coordinates[t]),i.push(c),z(e.coordinates[t],r,s);break;case"Polygon":o.push(e.coordinates),l.push(c),z(e.coordinates[0],r,s);break;case"MultiPolygon":for(let t=0;t<e.coordinates.length;t++)o.push(e.coordinates[t]),l.push(c),z(e.coordinates[t][0],r,s)}}e.boundingRect=e.boundingRect||{x:r[0],y:r[1],width:s[0]-r[0],height:s[1]-r[1]};const h=e.depth;return{polyline:w(n,Object.assign(e,{depth:function(e){return"function"==typeof h?h(t.features[i[e]]):h}})),polygon:S(o,Object.assign(e,{depth:function(e){return"function"==typeof h?h(t.features[l[e]]):h}}))}}
    },{"earcut":"d3f1","./simplify":"Zaz3","./math":"lxpE"}],"axpt":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Geometry")),e=require("./BufferAttribute"),r=require("../util/projectUtils"),o=i(require("../math/Vec3")),n=require("geometry-extrude");function i(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(o){function i(t,e,r){var o;return s(this,i),(o=c(this,p(i).call(this))).type="ExtrudePolygonDegreeGeometry",o._w_coords=t,o._w_location=r,o._w_extrudeHeight=e||0,o.parse(),o}return h(i,t.default),f(i,[{key:"parse",value:function(){this.dirty=!0;for(var t=this._w_coords,o=this._w_location,i=[],u=t.length,s=0;s<u;s++){var a=(0,r.calcLocalCoords)(t[s],o);i.push([a.x,a.z])}for(var f=[[i]],c=(0,n.extrudePolygon)(f,{depth:this._w_extrudeHeight}),l=[],p=0;p<c.indices.length;p++)l.push(c.indices[p]);for(var h=[],d=0;d<c.position.length;d+=3)h.push(c.position[d],c.position[d+2],c.position[d+1]);for(var y=[],_=0;_<c.uv.length;_++)y.push(c.uv[_]);for(var b=[],w=0;w<c.normal.length;w++)b.push(c.normal[w]);this.setIndex(l),this.addAttribute("position",new e.Float32BufferAttribute(h,3)),this.addAttribute("uv",new e.Float32BufferAttribute(y,2)),this.addAttribute("normal",new e.Float32BufferAttribute(b,3))}},{key:"update",value:function(t,e,r){this._w_coords=t||this._w_coords,this._w_location=r||this._w_location,this._w_extrudeHeight=e||this._w_extrudeHeight||0,this.parse()}}]),i}();function _(t){var e=new o.default(t[0][0]-t[1][0],t[0][1]-t[1][1],t[0][2]-t[1][2]),r=new o.default(t[2][0]-t[1][0],t[2][1]-t[1][1],t[2][2]-t[1][2]),n=new o.default;return n.crossVectors(e,r),n.normalize(),n.toArray()}exports.default=y;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../util/projectUtils":"B4L8","../math/Vec3":"D3a2","geometry-extrude":"Rf5O"}],"e7mZ":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./Geometry")),e=require("./BufferAttribute"),r=require("../util/projectUtils"),o=u(require("../math/Vec3")),n=require("geometry-extrude");function u(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(r){function o(t,e){var r;return f(this,o),(r=c(this,p(o).call(this))).type="ExtrudePolygonGeometry",r._w_coords=t,r._w_extrudeHeight=e||0,r.parse(),r}return h(o,t.default),a(o,[{key:"parse",value:function(){this.dirty=!0;for(var t=this._w_coords,r=[],o=t.length,u=0;u<o;u++){var i=t[u];r.push([i.x,i.z])}for(var f=[[r]],s=(0,n.extrudePolygon)(f,{depth:this._w_extrudeHeight}),a=[],c=0;c<s.indices.length;c++)a.push(s.indices[c]);for(var l=[],p=0;p<s.position.length;p+=3)l.push(s.position[p],s.position[p+2],s.position[p+1]);for(var h=[],d=0;d<s.uv.length;d++)h.push(s.uv[d]);for(var y=[],b=0;b<s.normal.length;b++)y.push(s.normal[b]);this.setIndex(a),this.addAttribute("position",new e.Float32BufferAttribute(l,3)),this.addAttribute("uv",new e.Float32BufferAttribute(h,2)),this.addAttribute("normal",new e.Float32BufferAttribute(y,3))}},{key:"update",value:function(t,e){this._w_coords=t||this._w_coords,this._w_extrudeHeight=e||this._w_extrudeHeight||0,this.parse()}}]),o}();function b(t){var e=new o.default(t[0][0]-t[1][0],t[0][1]-t[1][1],t[0][2]-t[1][2]),r=new o.default(t[2][0]-t[1][0],t[2][1]-t[1][1],t[2][2]-t[1][2]),n=new o.default;return n.crossVectors(e,r),n.normalize(),n.toArray()}exports.default=y;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA","../util/projectUtils":"B4L8","../math/Vec3":"D3a2","geometry-extrude":"Rf5O"}],"LcpS":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Geometry")),r=require("./BufferAttribute");function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function o(t,r){for(var e=0;e<r.length;e++){var i=r[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,r,e){return r&&o(t.prototype,r),e&&o(t,e),t}function s(t,r){return!r||"object"!==i(r)&&"function"!=typeof r?u(t):r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&f(t,r)}function f(t,r){return(f=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}var l=function(e){function i(){var t;return n(this,i),(t=s(this,h(i).call(this))).type="CylinderBufferGeometry",t.indices=[],t.currentIndex=0,t.setIndex(t.indices),t.addAttribute("position",new r.Float32BufferAttribute([],3)),t.addAttribute("normal",new r.Float32BufferAttribute([],3)),t.addAttribute("uv",new r.Float32BufferAttribute([],2)),t}return c(i,t.default),a(i,[{key:"addGeometry",value:function(t){this.attributes.position.array=this.attributes.position.array.concat(t.attributes.position.array),this.attributes.position.count=this.attributes.position.array.length/this.attributes.position.itemSize,this.attributes.normal.array=this.attributes.normal.array.concat(t.attributes.normal.array),this.attributes.normal.count=this.attributes.normal.array.length/this.attributes.normal.itemSize,this.attributes.uv.array=this.attributes.uv.array.concat(t.attributes.uv.array),this.attributes.uv.count=this.attributes.uv.array.length/this.attributes.uv.itemSize;for(var r=0;r<t.indices.length;r++)this.indices.push(this.currentIndex+t.indices[r]);if(this.currentIndex=this.attributes.position.count,this.setIndex(this.indices),t.morphTargets.length>0)if(0===this.morphTargets.length)for(var e=0;e<t.morphTargets.length;e++)this.morphTargets.push(t.morphTargets[e]);else for(var i=0;i<this.morphTargets.length;i++)this.morphTargets[i].POSITION.array=this.morphTargets[i].POSITION.array.concat(t.morphTargets[i].POSITION.array),this.morphTargets[i].POSITION.count=this.morphTargets[i].POSITION.array.length/this.morphTargets[i].POSITION.itemSize;0===this.morphAnimation.length&&t.morphAnimation.length>0&&this.morphAnimation.push(t.morphAnimation[0])}}]),i}();exports.default=l;
    },{"./Geometry":"YIth","./BufferAttribute":"QWCA"}],"GYKy":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../const/constants"),i=e(require("../math/Color"));function e(t){return t&&t.__esModule?t:{default:t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function l(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}var a=function(){function e(n){s(this,e),this.name=n&&n.name||"material",this.type="Material",this.fog=!0,this.lights=!0,this.blending=t.NormalBlending,this.side=t.FrontSide,this.flatShading=!1,this.vertexColors=t.NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=t.SrcAlphaFactor,this.blendDst=t.OneMinusSrcAlphaFactor,this.blendEquation=t.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=t.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.color=new i.default(16777215),this.map=null,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0,this.setValues(n),this.isMaterial=!0,this.dirty=!0}return l(e,[{key:"setDirty",value:function(t){this.dirty=t}},{key:"update",value:function(t){this.setValues(t)}},{key:"setValues",value:function(t){if(void 0!==t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e=t[i];if(void 0===e){console.warn("Material: '".concat(i,"' parameter is undefined."));continue}var s=this[i];if(void 0===s){console.warn("".concat(this.type,": '").concat(i,"' is not a property of this material."));continue}s&&s.isColor?s.set(e):s&&s.isVector3&&e&&e.isVector3?s.copy(e):this[i]=e}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var i=t.clippingPlanes,e=null;if(null!==i){var s=i.length;e=new Array(s);for(var n=0;n!==s;++n)e[n]=i[n].clone()}return this.clippingPlanes=e,this.shadowSide=t.shadowSide,this}}]),e}();exports.default=a;
    },{"../const/constants":"CEMD","../math/Color":"FdPe"}],"fwN4":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Material")),e=n(require("../math/Color"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=a(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(n){function o(t){var n;return r(this,o),(n=c(this,p(o).call(this))).type="LineBasicMaterial",n.color=new e.default(16777215),n.linewidth=1,n.linecap="round",n.linejoin="round",n.lights=!1,n.isLineBasicMaterial=!0,n.setValues(t),n}return s(o,t.default),u(o,[{key:"copy",value:function(t){return f(p(o.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}]),o}();exports.default=b;
    },{"./Material":"GYKy","../math/Color":"FdPe"}],"s1RF":[function(require,module,exports) {
        "use strict";function r(r){var e={};for(var o in r)for(var i in e[o]={},r[o]){var s=r[o][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture)?e[o][i]=s.clone():Array.isArray(s)?e[o][i]=s.slice():e[o][i]=s}return e}function e(e){for(var o={},i=0;i<e.length;i++){var s=r(e[i]);for(var t in s)o[t]=s[t]}return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneUniforms=r,exports.mergeUniforms=e,exports.UniformsUtils=void 0;var o={clone:r,merge:e};exports.UniformsUtils=o;
    },{}],"tyxd":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./Material")),t=require("../util/UniformsUtils");function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=l(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(r){function n(e){var t;return i(this,n),(t=s(this,c(n).call(this))).type="ShaderMaterial",t.defines={},t.uniforms={},t.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",t.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",t.linewidth=1,t.wireframe=!1,t.wireframeLinewidth=1,t.fog=!1,t.lights=!1,t.clipping=!1,t.skinning=!1,t.morphTargets=!1,t.morphNormals=!1,t.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},t.index0AttributeName=void 0,t.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),t.setValues(e)),t.isShaderMaterial=!0,t}return p(n,e.default),a(n,[{key:"copy",value:function(e){return f(c(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=(0,t.cloneUniforms)(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this}}]),n}();exports.default=d;
    },{"./Material":"GYKy","../util/UniformsUtils":"s1RF"}],"mA6U":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Material")),e=o(require("./ShaderMaterial")),i=o(require("../math/Color")),r=o(require("../math/Vec2"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var r=p(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=["precision highp float;","","attribute vec3 position;","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute vec2 uv;","attribute float counters;","","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","\t float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","","}"],m=["#extension GL_OES_standard_derivatives : enable","precision mediump float;","","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","}"];function b(t,e){return void 0===t?e:t}var x=function(e){function r(t){var e;return n(this,r),t=t||{},(e=u(this,h(r).call(this))).lineWidth=b(t.lineWidth,1),e.map=b(t.map,null),e.useMap=b(t.useMap,0)?1:0,e.alphaMap=b(t.alphaMap,null),e.useAlphaMap=b(t.useAlphaMap,0)?1:0,e.color=b(t.color,new i.default(16777215)),e.opacity=b(t.opacity,1),e.sizeAttenuation=b(t.sizeAttenuation,1)?1:0,e.near=b(t.near,1),e.far=b(t.far,1),e.dashArray=b(t.dashArray,0),e.dashOffset=b(t.dashOffset,0),e.dashRatio=b(t.dashRatio,.5),e.useDash=0!==e.dashArray?1:0,e.visibility=b(t.visibility,1),e.alphaTest=b(t.alphaTest,0)?1:0,e.repeat=b(t.repeat,[1,1]),e.type="MeshLineMaterial",e}return v(r,t.default),l(r,[{key:"copy",value:function(t){return f(h(r.prototype),"copy",this).call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.near=t.near,this.far=t.far,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this}}]),r}();exports.default=x;
    },{"./Material":"GYKy","./ShaderMaterial":"tyxd","../math/Color":"FdPe","../math/Vec2":"QavS"}],"mM0X":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Material")),e=r(require("../math/Color"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=a(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){return void 0===t?e:t}var h=function(e){function r(t){var e;return n(this,r),(e=c(this,p(r).call(this))).type="ParticleMaterial",e.isParitcleMaterial=!0,e.particleColor=b(t.particleColor,[0,0,0,1]),e.position=[0,0,0],e.clockTime=b(t.clockTime,3),e.map=b(t.map,null),e}return y(r,t.default),u(r,[{key:"copy",value:function(t){return f(p(r.prototype),"copy",this).call(this,t),this}}]),r}();exports.default=h;
    },{"./Material":"GYKy","../math/Color":"FdPe"}],"yDKA":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../const/constants");function a(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var t=function t(r,i){a(this,t),this.name="",this.image={src:r};var p=r.search(/\.jpe?g($|\?)/i)>0||0===r.search(/^data:image\/jpeg/);this.format=p?e.RGBFormat:e.RGBAFormat,this.flipY=!0,this.wrapS=i&&i.repeat?e.RepeatWrapping:e.ClampToEdgeWrapping,this.wrapT=i&&i.repeat?e.RepeatWrapping:e.ClampToEdgeWrapping,this.magFilter=e.LinearFilter,this.minFilter=e.LinearMipMapLinearFilter};exports.default=t;
    },{"../const/constants":"CEMD"}],"ltan":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../const/constants"),e=o(require("../geometry/Geometry")),a=o(require("../material/Material"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function o(i,n,s){r(this,o),this.dirty=!0,this.type="Node",this.geometry=void 0!==i?i:new e.default,this.material=void 0!==n?n:new a.default,this.drawMode=t.TrianglesDrawMode,i.drawMode&&(this.drawMode=i.drawMode),s&&(s.location&&(this.location=s.location),s.rotation&&(this.rotation=s.rotation),s.scale&&(this.scale=s.scale),s.translation&&(this.translation=s.translation),s.name&&(this.name=s.name),s.flowTexture&&(this.flowTexture=s.flowTexture))};exports.default=i;
    },{"../const/constants":"CEMD","../geometry/Geometry":"YIth","../material/Material":"GYKy"}],"wTdW":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../geometry/BufferAttribute"),i=e(require("../geometry/Geometry")),s=e(require("../math/Vec3"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function a(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function o(t,i,s){return i&&a(t.prototype,i),s&&a(t,s),t}var h=function(){function s(){r(this,s),this.dirty=!0,this.counters=[],this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.normals=[],this.directions=[],this.ratios=[],this.geometry=new i.default,this.widthCallback=null}return o(s,[{key:"setGeometry",value:function(t,s){if(this.dirty=!0,this.widthCallback=s,this.positions=[],this.counters=[],t instanceof i.default)for(var e=0;e<t.vertices.length;e++){var r=t.vertices[e],a=e/t.vertices.length;this.positions.push(r.x,r.y,r.z),this.positions.push(r.x,r.y,r.z),this.counters.push(a),this.counters.push(a)}if(t instanceof Float32Array||t instanceof Array)for(var o=0;o<t.length;o+=3){var h=o/t.length;this.positions.push(t[o],t[o+1],t[o+2]),this.positions.push(t[o],t[o+1],t[o+2]),this.counters.push(h),this.counters.push(h)}this.process()}},{key:"compareV3",value:function(t,i){var s=6*t,e=6*i;return this.positions[s]===this.positions[e]&&this.positions[s+1]===this.positions[e+1]&&this.positions[s+2]===this.positions[e+2]}},{key:"copyV3",value:function(t){var i=6*t;return[this.positions[i],this.positions[i+1],this.positions[i+2]]}},{key:"process",value:function(i){var s,e,r=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.normals=[],this.directions=[],this.ratios=[];for(var a=0;a<r;a++)this.side.push(1),this.side.push(-1);for(var o=0;o<r;o++)s=this.widthCallback?this.widthCallback(o/(r-1)):1,this.width.push(s),this.width.push(s);for(var h=0;h<r;h++)this.uvs.push(h/(r-1),0),this.uvs.push(h/(r-1),1);e=this.compareV3(0,r-1)?this.copyV3(r-2):this.copyV3(0),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(var n=0;n<r-1;n++)e=this.copyV3(n),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(var u=1;u<r;u++)e=this.copyV3(u),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);e=this.compareV3(r-1,0)?this.copyV3(1):this.copyV3(r-1),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);for(var p=0;p<r-1;p++){var d=2*p;this.indices_array.push(d,d+1,d+2),this.indices_array.push(d+2,d+1,d+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.normal.copyArray(new Float32Array(this.normals)),this.attributes.normal.needsUpdate=!0,this.attributes.direction.copyArray(new Float32Array(this.directions)),this.attributes.direction.needsUpdate=!0,this.attributes.ratio.copyArray(new Float32Array(this.ratios)),this.attributes.ratio.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new t.BufferAttribute(new Float32Array(this.positions),3),previous:new t.BufferAttribute(new Float32Array(this.previous),3),next:new t.BufferAttribute(new Float32Array(this.next),3),side:new t.BufferAttribute(new Float32Array(this.side),1),width:new t.BufferAttribute(new Float32Array(this.width),1),uv:new t.BufferAttribute(new Float32Array(this.uvs),2),normal:new t.BufferAttribute(new Float32Array(this.normals),3),direction:new t.BufferAttribute(new Float32Array(this.directions),3),ratio:new t.BufferAttribute(new Float32Array(this.ratios),1),index:new t.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new t.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("normal",this.attributes.normal),this.geometry.addAttribute("direction",this.attributes.direction),this.geometry.addAttribute("ratio",this.attributes.ratio),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)}},{key:"advance",value:function(t){var i=this.attributes.position.array,s=this.attributes.previous.array,e=this.attributes.next.array,r=i.length;n(i,0,s,0,r),n(i,6,i,0,r-6),i[r-6]=t.x,i[r-5]=t.y,i[r-4]=t.z,i[r-3]=t.x,i[r-2]=t.y,i[r-1]=t.z,n(i,6,e,0,r-6),e[r-6]=t.x,e[r-5]=t.y,e[r-4]=t.z,e[r-3]=t.x,e[r-2]=t.y,e[r-1]=t.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0}}]),s}();function n(t,i,s,e,r){var a;if(t=t.subarray||t.slice?t:t.buffer,s=s.subarray||s.slice?s:s.buffer,t=i?t.subarray?t.subarray(i,r&&i+r):t.slice(i,r&&i+r):t,s.set)s.set(t,e);else for(a=0;a<t.length;a++)s[a+e]=t[a];return s}exports.default=h;
    },{"../geometry/BufferAttribute":"QWCA","../geometry/Geometry":"YIth","../math/Vec3":"D3a2"}],"Rw3X":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../geometry/BufferAttribute"),i=r(require("../geometry/Geometry")),s=require("../util/projectUtils"),e=r(require("../math/Vec3"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return h(t)||n(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(t){if(Array.isArray(t)){for(var i=0,s=new Array(t.length);i<t.length;i++)s[i]=t[i];return s}}function u(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function p(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function y(t,i,s){return i&&p(t.prototype,i),s&&p(t,s),t}var c=function(){function e(){u(this,e),this.dirty=!0,this.counters=[],this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.normals=[],this.directions=[],this.ratios=[],this.geometry=new i.default,this.widthCallback=null}return y(e,[{key:"setGeometry",value:function(t,e,r){if(this.dirty=!0,this.widthCallback=r,this.anchor=e,this.positions=[],this.counters=[],t instanceof i.default)if(e instanceof Float32Array||e instanceof Array)for(var a=0;a<t.vertices.length;a++){var n,h,u=t.vertices[a],p=a/t.vertices.length,y=(0,s.calcLocalCoords)([u.x,u.y,u.z],e);(n=this.positions).push.apply(n,o(y.toArray())),(h=this.positions).push.apply(h,o(y.toArray())),this.counters.push(p),this.counters.push(p)}else for(var c=0;c<t.vertices.length;c++){var d=t.vertices[c],l=c/t.vertices.length;this.positions.push(d.x,d.y,d.z),this.positions.push(d.x,d.y,d.z),this.counters.push(l),this.counters.push(l)}if(t instanceof Float32Array||t instanceof Array)if(e instanceof Float32Array||e instanceof Array)for(var f=0;f<t.length;f+=3){var b,v,A=f/t.length,w=(0,s.calcLocalCoords)([t[f],t[f+1],t[f+2]],e);(b=this.positions).push.apply(b,o(w.toArray())),(v=this.positions).push.apply(v,o(w.toArray())),this.counters.push(A),this.counters.push(A)}else for(var x=0;x<t.length;x+=3){var g=x/t.length;this.positions.push(t[x],t[x+1],t[x+2]),this.positions.push(t[x],t[x+1],t[x+2]),this.counters.push(g),this.counters.push(g)}this.process()}},{key:"compareV3",value:function(t,i){var s=6*t,e=6*i;return this.positions[s]===this.positions[e]&&this.positions[s+1]===this.positions[e+1]&&this.positions[s+2]===this.positions[e+2]}},{key:"copyV3",value:function(t){var i=6*t;return[this.positions[i],this.positions[i+1],this.positions[i+2]]}},{key:"process",value:function(i){var s,e,r=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.normals=[],this.directions=[];for(var o=0;o<r;o++)this.side.push(1),this.side.push(-1);for(var a=0;a<r;a++)s=this.widthCallback?this.widthCallback(a/(r-1)):1,this.width.push(s),this.width.push(s);for(var n=0;n<r;n++)this.uvs.push(n/(r-1),0),this.uvs.push(n/(r-1),1);e=this.compareV3(0,r-1)?this.copyV3(r-2):this.copyV3(0),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(var h=0;h<r-1;h++)e=this.copyV3(h),this.previous.push(e[0],e[1],e[2]),this.previous.push(e[0],e[1],e[2]);for(var u=1;u<r;u++)e=this.copyV3(u),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);e=this.compareV3(r-1,0)?this.copyV3(1):this.copyV3(r-1),this.next.push(e[0],e[1],e[2]),this.next.push(e[0],e[1],e[2]);for(var p=0;p<r-1;p++){var y=2*p;this.indices_array.push(y,y+1,y+2),this.indices_array.push(y+2,y+1,y+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new t.BufferAttribute(new Float32Array(this.positions),3),previous:new t.BufferAttribute(new Float32Array(this.previous),3),next:new t.BufferAttribute(new Float32Array(this.next),3),side:new t.BufferAttribute(new Float32Array(this.side),1),width:new t.BufferAttribute(new Float32Array(this.width),1),uv:new t.BufferAttribute(new Float32Array(this.uvs),2),index:new t.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new t.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)}},{key:"advance",value:function(t){var i=this.attributes.position.array,s=this.attributes.previous.array,e=this.attributes.next.array,r=i.length;d(i,0,s,0,r),d(i,6,i,0,r-6),i[r-6]=t.x,i[r-5]=t.y,i[r-4]=t.z,i[r-3]=t.x,i[r-2]=t.y,i[r-1]=t.z,d(i,6,e,0,r-6),e[r-6]=t.x,e[r-5]=t.y,e[r-4]=t.z,e[r-3]=t.x,e[r-2]=t.y,e[r-1]=t.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0}}]),e}();function d(t,i,s,e,r){var o;if(t=t.subarray||t.slice?t:t.buffer,s=s.subarray||s.slice?s:s.buffer,t=i?t.subarray?t.subarray(i,r&&i+r):t.slice(i,r&&i+r):t,s.set)s.set(t,e);else for(o=0;o<t.length;o++)s[o+e]=t[o];return s}exports.default=c;
    },{"../geometry/BufferAttribute":"QWCA","../geometry/Geometry":"YIth","../util/projectUtils":"B4L8","../math/Vec3":"D3a2"}],"rz58":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("../const/constants"),a={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},t={1000:a.REPEAT,1001:a.CLAMP_TO_EDGE,1003:a.NEAREST,1004:a.NEAREST_MIPMAP_NEAREST,1005:a.NEAREST_MIPMAP_LINEAR,1006:a.LINEAR,1007:a.LINEAR_MIPMAP_NEAREST,1008:a.LINEAR_MIPMAP_LINEAR},r=!1;function n(e){var a={asset:{version:"2.0",generator:"MineMapModeling.GLTFExporter"}},t={byteOffset:0,buffers:[],pending:[],nodeMap:new Map,skins:[],extensionsUsed:{},cachedData:{attributes:new Map,materials:new Map,textures:new Map,images:new Map},cachedCanvas:null};i(t,a,e);var r=N(t.buffers);return a.buffers?(a.buffers[0].byteLength=r.length,a.buffers[0].data=[r],a):null}function i(e,a,t){a.scenes||(a.scenes=[],a.scene=0);var r={nodes:[]};""!==t.name&&(r.name=t.name),t.userData&&Object.keys(t.userData).length>0&&(r.extras=JSON.parse(JSON.stringify(t.userData))),a.scenes.push(r);for(var n=[],i=0,o=t.children.length;i<o;i++){var l=s(e,a,t.children[i]);null!==l&&n.push(l)}n.length>0&&(r.nodes=n)}function s(e,a,t){a.nodes||(a.nodes=[]);var r={};t.location&&(r.location=t.location),t.rotation&&(r.rotation=t.rotation),t.scale&&(r.scale=t.scale),t.translation&&(r.translation=t.translation),""!==t.name&&(r.name=String(t.name)),t.flowTexture&&(r.flowTexture=t.flowTexture),t.userData&&Object.keys(t.userData).length>0&&(r.extras=JSON.parse(JSON.stringify(t.userData)));var n=o(e,a,t);null!==n&&(r.mesh=n),a.nodes.push(r);var i=a.nodes.length-1;return e.nodeMap.set(t,i),i}function o(t,r,n){var i,s=n.geometry;i=n.drawMode===e.TrianglesDrawMode||s.drawMode===e.TrianglesDrawMode?a.TRIANGLES:n.drawMode===e.TriangleStripDrawMode||s.drawMode===e.TriangleStripDrawMode?a.TRIANGLE_STRIP:n.drawMode===e.TriangleFanDrawMode||s.drawMode===e.TriangleFanDrawMode?a.TRIANGLE_FAN:n.drawMode===e.LinesDrawMode||s.drawMode===e.LinesDrawMode?a.LINES:n.drawMode===e.LineStripDrawMode||s.drawMode===e.LineStripDrawMode?a.LINE_STRIP:n.drawMode===e.LineLoopDrawMode||s.drawMode===e.LineLoopDrawMode?a.LINE_LOOP:a.TRIANGLES;var o={},u={},h=[],d=[],m={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},p=s.getAttribute("normal");for(var f in s.attributes){var g=s.attributes[f];if("MORPH"!==(f=m[f]||f.toUpperCase()).substr(0,5)){var E=l(t,r,g,s);null!==E&&(u[f]=E)}}for(var N=0;N<s.morphTargets.length;N++){var A=l(t,r,s.morphTargets[N].POSITION,s);if(A){var M={POSITION:A};d.push(M)}}for(var T=0;T<s.morphAnimation.length;T++){var v=s.morphAnimation[T];r.animations?r.animations.push({channels:[{sampler:0,target:{node:r.nodes.length,path:"weights"}}],samplers:[{input:l(t,r,v.input),interpolation:"LINEAR",output:l(t,r,v.output)}],name:"MorphAnimation"}):r.animations=[{channels:[{sampler:0,target:{node:r.nodes.length,path:"weights"}}],samplers:[{input:l(t,r,v.input),interpolation:"LINEAR",output:l(t,r,v.output)}],name:"MorphAnimation"}]}if(void 0!==p&&s.addAttribute("normal",p),0===Object.keys(u).length)return null;var R=Object.keys(s.userData).length>0?JSON.parse(JSON.stringify(s.userData)):void 0,I=Array.isArray(n.material);if(I&&0===s.groups.length)return null;for(var S=I?n.material:[n.material],w=I?s.groups:[{materialIndex:0,start:void 0,count:void 0}],y=0,_=w.length;y<_;y++){var b={mode:i,attributes:u};R&&(b.extras=R),d.length>0&&(b.targets=d,1===d.length?b.weights=[0]:2===d.length&&(b.weights=[0,0])),null!==s.index&&(b.indices=l(t,r,s.index,s,w[y].start,w[y].count));var L=c(t,r,S[w[y].materialIndex]);null!==L&&(b.material=L),h.push(b)}return o.primitives=h,r.meshes||(r.meshes=[]),r.meshes.push(o),r.meshes.length-1}function l(e,t,r,n,i,s){var o;if(r.array.constructor===Float32Array)o=a.FLOAT;else if(r.array.constructor===Uint32Array)o=a.UNSIGNED_INT;else if(r.array.constructor===Uint16Array)o=a.UNSIGNED_SHORT;else{if(r.array.constructor!==Uint8Array)throw new Error("GLTFExporter: Unsupported bufferAttribute component type.");o=a.UNSIGNED_BYTE}if(void 0===i&&(i=0),void 0===s&&(s=r.count),void 0!==n&&null===n.index){var l=i+s,h=n.drawRange.count===1/0?r.count:n.drawRange.start+n.drawRange.count;i=Math.max(i,n.drawRange.start),(s=Math.min(l,h)-i)<0&&(s=0)}if(0===s)return null;var c,d=f(r,i,s);void 0!==n&&(c=r===n.index?a.ELEMENT_ARRAY_BUFFER:a.ARRAY_BUFFER);var m=u(e,t,r,o,i,s,c),p={bufferView:m.id,byteOffset:m.byteOffset,componentType:o,count:s,max:d.max,min:d.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[r.itemSize]};return t.accessors||(t.accessors=[]),t.accessors.push(p),t.accessors.length-1}function u(e,t,r,n,i,s,o){var l;t.bufferViews||(t.bufferViews=[]),l=n===a.UNSIGNED_BYTE?1:n===a.UNSIGNED_SHORT?2:4;for(var u=g(s*r.itemSize*l),c=new DataView(new ArrayBuffer(u)),d=0,m=i;m<i+s;m++)for(var p=0;p<r.itemSize;p++){var f=r.array[m*r.itemSize+p];n===a.FLOAT?c.setFloat32(d,f,!0):n===a.UNSIGNED_INT?c.setUint32(d,f,!0):n===a.UNSIGNED_SHORT?c.setUint16(d,f,!0):n===a.UNSIGNED_BYTE&&c.setUint8(d,f),d+=l}var E={buffer:h(e,t,c.buffer),byteOffset:e.byteOffset,byteLength:u};return void 0!==o&&(E.target=o),o===a.ARRAY_BUFFER&&(E.byteStride=r.itemSize*l),e.byteOffset+=u,t.bufferViews.push(E),{id:t.bufferViews.length-1,byteLength:0}}function h(e,a,t){return a.buffers||(a.buffers=[{byteLength:0}]),e.buffers.push(new Uint8Array(t)),0}function c(a,t,r){if(a.cachedData.materials.has(r))return a.cachedData.materials.get(r);t.materials||(t.materials=[]);var n={pbrMetallicRoughness:{}};"MeshLineMaterial"===r.type&&(n.materialParams=r),"AirLineMaterial"===r.type&&(n.materialParams=r),"ParticleMaterial"===r.type&&(n.materialParams=r);var i=r.color.toArray().concat([r.opacity]);E(i,[1,1,1,1])||(n.pbrMetallicRoughness.baseColorFactor=i),n.pbrMetallicRoughness.metallicFactor=0,n.pbrMetallicRoughness.roughnessFactor=.9,r.map&&(n.pbrMetallicRoughness.baseColorTexture={index:d(a,t,r.map)}),r.alphaMap&&(n.pbrMetallicRoughness.alphaTexture={index:d(a,t,r.alphaMap)}),n.alphaMode="BLEND",(r.transparent||r.alphaTest>0)&&(n.alphaMode=r.opacity<1?"BLEND":"MASK",r.alphaTest>0&&.5!==r.alphaTest&&(n.alphaCutoff=r.alphaTest)),r.side===e.DoubleSide&&(n.doubleSided=!0),""!==r.name&&(n.name=r.name),Object.keys(r.userData).length>0&&(n.extras=JSON.parse(JSON.stringify(r.userData))),t.materials.push(n);var s=t.materials.length-1;return a.cachedData.materials.set(r,s),s}function d(e,a,t){if(e.cachedData.textures.has(t))return e.cachedData.textures.get(t);a.textures||(a.textures=[]);var r={sampler:m(e,a,t),source:p(e,a,t.image,t.format,t.flipY)};a.textures.push(r);var n=a.textures.length-1;return e.cachedData.textures.set(t,n),n}function m(e,a,r){a.samplers||(a.samplers=[]);var n={magFilter:t[r.magFilter],minFilter:t[r.minFilter],wrapS:t[r.wrapS],wrapT:t[r.wrapT]};return a.samplers.push(n),a.samplers.length-1}function p(a,t,n,i,s){a.cachedData.images.has(n)||a.cachedData.images.set(n,{});var o=a.cachedData.images.get(n),l=i===e.RGBAFormat?"image/png":"image/jpeg",u="".concat(l,":flipY/").concat(s.toString());if(void 0!==o[u])return o[u];t.images||(t.images=[]);var h={mimeType:l};if(r){var c=a.cachedCanvas||document.createElement("canvas");a.cachedCanvas=c,c.width=n.width,c.height=n.height;var d=c.getContext("2d");!0===s&&(d.translate(0,c.height),d.scale(1,-1)),d.drawImage(n,0,0,c.width,c.height),h.uri=c.toDataURL(l)}else h.uri=n.src;t.images.push(h);var m=t.images.length-1;return o[u]=m,m}function f(e,a,t){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},n=a;n<a+t;n++)for(var i=0;i<e.itemSize;i++){var s=e.array[n*e.itemSize+i];r.min[i]=Math.min(r.min[i],s),r.max[i]=Math.max(r.max[i],s)}return r}function g(e){return 4*Math.ceil(e/4)}function E(e,a){return e.length===a.length&&e.every(function(e,t){return e===a[t]})}function N(e){var a=0,t=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){a+=i.value.length}}catch(f){r=!0,n=f}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}var o=new Uint8Array(a),l=0,u=!0,h=!1,c=void 0;try{for(var d,m=e[Symbol.iterator]();!(u=(d=m.next()).done);u=!0){var p=d.value;o.set(p,l),l+=p.length}}catch(f){h=!0,c=f}finally{try{u||null==m.return||m.return()}finally{if(h)throw c}}return o}
    },{"../const/constants":"CEMD"}],"KFXj":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=e||window.fetch;function t(t,s,i){if(t){var f=[];s.forEach(function(t){f.push(e(t).then(function(e){return e.json()}).then(function(e){return{gltf:e,name:r(t)}}))}),Promise.all(f).then(function(e){n(t,e),i(t)})}}function n(e,t){for(var n=e.nodes.length,r=e.meshes.length,i=e.materials.length,f=e.accessors.length,a=e.bufferViews.length,u=e.buffers.length,o=function(o){var c=JSON.parse(JSON.stringify({name:t[o].name})),h=t[o].gltf;h.buffers.forEach(function(t){var n=new Uint8Array(s(t.uri));e.buffers.push({data:[n],byteLength:n.length})}),h.bufferViews.forEach(function(t){e.bufferViews.push({buffer:t.buffer+u,byteOffset:t.byteOffset,byteLength:t.byteLength,target:t.target,byteStride:t.byteStride})}),h.accessors.forEach(function(t){e.accessors.push({bufferView:t.bufferView+a,componentType:t.componentType,count:t.count,max:t.max,min:t.min,type:t.type})}),h.materials.forEach(function(t){e.materials.push(t)}),h.meshes.forEach(function(t){var n=[];t.primitives.forEach(function(e){var t={};for(var r in e.attributes)t[r]=e.attributes[r]+f;n.push({mode:e.mode,material:e.material+i,indices:e.indices+f,attributes:t})}),e.meshes.push({primitives:n})}),h.nodes.forEach(function(t){var s={extras:c};void 0!==t.mesh&&(s.mesh=t.mesh+r),t.children&&(s.children=t.children.map(function(e){return e+n})),Object.assign(t,s),e.nodes.push(t)}),h.scenes.forEach(function(t){e.scenes.push({nodes:t.nodes.map(function(e){return e+n})})});var l=h.buffers.length;u+=l;var m=h.bufferViews.length;a+=m;var b=h.accessors.length;f+=b;var d=h.materials.length;i+=d;var g=h.meshes.length;r+=g;var p=h.nodes.length;n+=p},c=0;c<t.length;c++)o(c)}function r(e){return e=(e=e.substring(e.lastIndexOf("/")+1)).substring(0,e.lastIndexOf("."))}function s(e){return window.atob(e.substring(e.indexOf(",")+1)).split("").map(function(e){return e.charCodeAt(0)})}
    },{}],"JAHL":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../util/GLTFExporter")),e=i(require("../util/GLTFConcat")),o=require("../util/util");function i(t){return t&&t.__esModule?t:{default:t}}function n(t){return s(t)||a(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,o){return e&&l(t.prototype,e),o&&l(t,o),t}var u=0,f={sourceId:"modeling-scene".concat(u++),layerId:"modeling-scene".concat(u++),modelFolder:"./",translation:[0,0,0],scale:[1,1,1],rotation:[0,0,0],location:[0,0]},h=function(){function i(t){d(this,i),this.name=t.name||"",this.type="Scene",this.children=[],this.isAdded=!1,this.layerId="",this.sourceId="",this.options=t,this.staticGltfUrl=[],this.outputGltfData=t.outputGltfData||!1}return c(i,[{key:"add",value:function(t){this.children.push(t)}},{key:"clone",value:function(t){this.children=t.children,this.options.translation=t.options.translation,this.options.scale=t.options.scale,this.options.location=t.options.location,this.options.rotation=t.options.rotation}},{key:"update",value:function(t){for(var e=!1,o=0;o<this.children.length;o++)this.children[o].geometry.dirty&&(e=!0,this.children[o].geometry.setDirty(!1)),this.children[o].material.dirty&&(e=!0,this.children[o].material.setDirty(!1));e&&this._processUpdate(t)}},{key:"removeNode",value:function(t,e){for(var o=!1,i=0;i<this.children.length;i++)if(this.children[i]===e){o=!0,this.children.splice(i,1);break}o&&this._processUpdate(t)}},{key:"_processUpdate",value:function(o){var i=this,n=(0,t.default)(this);(0,e.default)(n,this.staticGltfUrl,function(t){var e=o.getSource(i.sourceId);e&&e.setGltfData({data:t,modelFolder:e.modelFolder})})}},{key:"removeFrom",value:function(t){this.isAdded&&(t.removeLayer(this.layerId),t.removeSource(this.sourceId),this.isAdded=!1)}},{key:"addStaticGltf",value:function(t){var e;(e=this.staticGltfUrl).push.apply(e,n(t))}},{key:"addTo",value:function(i,n,r){var a=this;if(!this.isAdded){this.options=(0,o.extend)({},this.options);var s=(0,t.default)(this);if(!s)return;(0,e.default)(s,this.staticGltfUrl,function(t){i.addSource(a.options.sourceId,{type:"3d-model",data:t,modelFolder:a.options.modelFolder,translation:a.options.translation||[0,0,0],scale:a.options.scale,rotation:a.options.rotation,location:a.options.location,respectiveTransformation:!!a.options.respectiveTransformation,configuration:JSON.stringify(a.options.configuration),noBox:!0,debug:a.options.debug||!1,noQuery:!!a.options.noQuery}),n?i.addLayer({type:"3d-model",id:a.options.layerId,source:a.options.sourceId,clipGround:!0}):i.addLayer({type:"3d-model",id:a.options.layerId,source:a.options.sourceId}),a.sourceId=a.options.sourceId,a.layerId=a.options.layerId,a.isAdded=!0,r&&r()})}}},{key:"downloadGltf",value:function(){var e=(0,t.default)(this),o=e.buffers[0];e.buffers[0].uri="data:application/octet-stream;base64,"+p(o.data[0],o.byteLength),delete e.buffers[0].data;var i=document.createElement("a");i.download="scene.gltf",i.style.display="none";var n=new Blob([JSON.stringify(e)]);i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),i}();function p(t,e){for(var o="",i=t,n=e,r=0;r<n;r++)o+=String.fromCharCode(i[r]);return window.btoa(o)}exports.default=h;
    },{"../util/GLTFExporter":"rz58","../util/GLTFConcat":"KFXj","../util/util":"Lkln"}],"Wl9r":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../../math/Math")),e=r(require("../../math/Vec3")),n=r(require("../../math/Mat4"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var s=function(){function r(){i(this,r),this.type="Curve",this.arcLengthDivisions=200}return o(r,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)}},{key:"getPoints",value:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}},{key:"getSpacedPoints",value:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=t;n++)a+=(e=this.getPoint(n/t)).distanceTo(i),r.push(a),i=e;return this.cacheArcLengths=r,r}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(t,e){var n,r=this.getLengths(),i=0,a=r.length;n=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(a-1)}},{key:"getTangent",value:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()}},{key:"getTangentAt",value:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)}},{key:"computeFrenetFrames",value:function(r,i){var a,o,s,u=new e.default,c=[],h=[],l=[],g=new e.default,f=new n.default;for(a=0;a<=r;a++)o=a/r,c[a]=this.getTangentAt(o),c[a].normalize();h[0]=new e.default,l[0]=new e.default;var v=Number.MAX_VALUE,p=Math.abs(c[0].x),d=Math.abs(c[0].y),y=Math.abs(c[0].z);for(p<=v&&(v=p,u.set(1,0,0)),d<=v&&(v=d,u.set(0,1,0)),y<=v&&u.set(0,0,1),g.crossVectors(c[0],u).normalize(),h[0].crossVectors(c[0],g),l[0].crossVectors(c[0],h[0]),a=1;a<=r;a++)h[a]=h[a-1].clone(),l[a]=l[a-1].clone(),g.crossVectors(c[a-1],c[a]),g.length()>Number.EPSILON&&(g.normalize(),s=Math.acos(t.default.clamp(c[a-1].dot(c[a]),-1,1)),h[a].applyMatrix4(f.makeRotationAxis(g,s))),l[a].crossVectors(c[a],h[a]);if(!0===i)for(s=Math.acos(t.default.clamp(h[0].dot(h[r]),-1,1)),s/=r,c[0].dot(g.crossVectors(h[0],h[r]))>0&&(s=-s),a=1;a<=r;a++)h[a].applyMatrix4(f.makeRotationAxis(c[a],s*a)),l[a].crossVectors(c[a],h[a]);return{tangents:c,normals:h,binormals:l}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}},{key:"fromJSON",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}]),r}();exports.default=s;
    },{"../../math/Math":"dVwR","../../math/Vec3":"D3a2","../../math/Mat4":"BQ9h"}],"MSFx":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../../math/Vec3")),e=o(require("../core/Curve"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}function s(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,o){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=a(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(){var t=0,e=0,o=0,n=0;function r(r,i,u,s){t=r,e=u,o=-3*r+3*i-2*u-s,n=2*r-2*i+u+s}return{initCatmullRom:function(t,e,o,n,i){r(e,o,i*(o-t),i*(n-e))},initNonuniformCatmullRom:function(t,e,o,n,i,u,s){var c=(e-t)/i-(o-t)/(i+u)+(o-e)/u,l=(o-e)/u-(n-e)/(u+s)+(n-o)/s;r(e,o,c*=u,l*=u)},calc:function(r){var i=r*r;return t+e*r+o*i+n*(i*r)}}}var v=new t.default,d=new y,m=new y,b=new y,w=function(o){function n(t,e,o,i){var u;return r(this,n),(u=s(this,f(n).call(this))).type="CatmullRomCurve3",u.points=t||[],u.closed=e||!1,u.curveType=o||"centripetal",u.tension=i||.5,u}return p(n,e.default),u(n,[{key:"getPoint",value:function(e,o){var n,r,i,u,s=o||new t.default,c=this.points,l=c.length,a=(l-(this.closed?0:1))*e,f=Math.floor(a),p=a-f;if(this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/l)+1)*l:0===p&&f===l-1&&(f=l-2,p=1),this.closed||f>0?n=c[(f-1)%l]:(v.subVectors(c[0],c[1]).add(c[0]),n=v),r=c[f%l],i=c[(f+1)%l],this.closed||f+2<l?u=c[(f+2)%l]:(v.subVectors(c[l-1],c[l-2]).add(c[l-1]),u=v),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,y=Math.pow(n.distanceToSquared(r),h),w=Math.pow(r.distanceToSquared(i),h),O=Math.pow(i.distanceToSquared(u),h);w<1e-4&&(w=1),y<1e-4&&(y=w),O<1e-4&&(O=w),d.initNonuniformCatmullRom(n.x,r.x,i.x,u.x,y,w,O),m.initNonuniformCatmullRom(n.y,r.y,i.y,u.y,y,w,O),b.initNonuniformCatmullRom(n.z,r.z,i.z,u.z,y,w,O)}else"catmullrom"===this.curveType&&(d.initCatmullRom(n.x,r.x,i.x,u.x,this.tension),m.initCatmullRom(n.y,r.y,i.y,u.y,this.tension),b.initCatmullRom(n.z,r.z,i.z,u.z,this.tension));return s.set(d.calc(p),m.calc(p),b.calc(p)),s}},{key:"copy",value:function(t){l(f(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,o=t.points.length;e<o;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},{key:"toJSON",value:function(){var t=l(f(n.prototype),"toJSON",this).call(this,this);t.points=[];for(var e=0,o=this.points.length;e<o;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}},{key:"fromJSON",value:function(e){l(f(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var o=0,r=e.points.length;o<r;o++){var i=e.points[o];this.points.push((new t.default).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}();exports.default=w;
    },{"../../math/Vec3":"D3a2","../core/Curve":"Wl9r"}],"TREz":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../../math/Vec3")),e=r(require("../core/Curve")),n=require("../../util/projectUtils");function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function u(t,e,n){return(u=i()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&g(o,n.prototype),o}).apply(null,arguments)}function c(t){return a(t)||s(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=m(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(){var t=0,e=0,n=0,r=0;function o(o,i,u,c){t=o,e=u,n=-3*o+3*i-2*u-c,r=2*o-2*i+u+c}return{initCatmullRom:function(t,e,n,r,i){o(e,n,i*(n-t),i*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,i,u,c){var l=(e-t)/i-(n-t)/(i+u)+(n-e)/u,s=(n-e)/u-(r-e)/(u+c)+(r-n)/c;o(e,n,l*=u,s*=u)},calc:function(o){var i=o*o;return t+e*o+n*i+r*(i*o)}}}var R=new t.default,T=new O,S=new O,C=new O,j=function(r){function o(e,r,i,l,s,a){var p;if(f(this,o),(p=h(this,b(o).call(this))).type="CatmullRomCurve3Degree",p.isCatmullRomCurve3=!0,p.points=[],r){if(!i)return console.error("Anchor is required!"),h(p);for(var y=0;y<e.length;y++){var d=e[y];d instanceof t.default&&(d=d.toArray());var v=(0,n.calcLocalCoords)(d,i);p.points.push(v)}}else e[0]instanceof t.default?p.points=e||[]:e[0]instanceof Array&&(p.points=Array.from(e,function(e){return u(t.default,c(e))}));return p.closed=l||!1,p.curveType=s||"centripetal",p.tension=a||.5,p}return w(o,e.default),y(o,[{key:"getPoint",value:function(e,n){var r,o,i,u,c=n||new t.default,l=this.points,s=l.length,a=(s-(this.closed?0:1))*e,f=Math.floor(a),p=a-f;if(this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/s)+1)*s:0===p&&f===s-1&&(f=s-2,p=1),this.closed||f>0?r=l[(f-1)%s]:(R.subVectors(l[0],l[1]).add(l[0]),r=R),o=l[f%s],i=l[(f+1)%s],this.closed||f+2<s?u=l[(f+2)%s]:(R.subVectors(l[s-1],l[s-2]).add(l[s-1]),u=R),"centripetal"===this.curveType||"chordal"===this.curveType){var y="chordal"===this.curveType?.5:.25,h=Math.pow(r.distanceToSquared(o),y),d=Math.pow(o.distanceToSquared(i),y),v=Math.pow(i.distanceToSquared(u),y);d<1e-4&&(d=1),h<1e-4&&(h=d),v<1e-4&&(v=d),T.initNonuniformCatmullRom(r.x,o.x,i.x,u.x,h,d,v),S.initNonuniformCatmullRom(r.y,o.y,i.y,u.y,h,d,v),C.initNonuniformCatmullRom(r.z,o.z,i.z,u.z,h,d,v)}else"catmullrom"===this.curveType&&(T.initCatmullRom(r.x,o.x,i.x,u.x,this.tension),S.initCatmullRom(r.y,o.y,i.y,u.y,this.tension),C.initCatmullRom(r.z,o.z,i.z,u.z,this.tension));return c.set(T.calc(p),S.calc(p),C.calc(p)),c}},{key:"copy",value:function(t){v(b(o.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},{key:"toJSON",value:function(){var t=v(b(o.prototype),"toJSON",this).call(this,this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}},{key:"fromJSON",value:function(e){v(b(o.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push((new t.default).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),o}();exports.default=j;
    },{"../../math/Vec3":"D3a2","../core/Curve":"Wl9r","../../util/projectUtils":"B4L8"}],"ZdQW":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../../math/Vec2")),e=r(require("../core/Curve"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(r){function o(e,r){var u;return n(this,o),(u=c(this,a(o).call(this))).type="LineCurve",u.isLineCurve=!0,u.v1=e||new t.default,u.v2=r||new t.default,u}return l(o,e.default),i(o,[{key:"getPoint",value:function(e,r){var o=r||new t.default;return 1===e?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(e).add(this.v1)),o}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"getTangent",value:function(){return this.v2.clone().sub(this.v1).normalize()}},{key:"copy",value:function(t){return e.default.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=e.default.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return e.default.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),o}();exports.default=y;
    },{"../../math/Vec2":"QavS","../core/Curve":"Wl9r"}],"ua4g":[function(require,module,exports) {
        "use strict";function r(r,n,t,e,u){var o=.5*(e-n),i=.5*(u-t),c=r*r;return(2*t-2*e+o+i)*(r*c)+(-3*t+3*e-2*o-i)*c+o*r+t}function n(r,n){var t=1-r;return t*t*n}function t(r,n){return 2*(1-r)*r*n}function e(r,n){return r*r*n}function u(r,u,o,i){return n(r,u)+t(r,o)+e(r,i)}function o(r,n){var t=1-r;return t*t*t*n}function i(r,n){var t=1-r;return 3*t*t*r*n}function c(r,n){return 3*(1-r)*r*r*n}function f(r,n){return r*r*r*n}function a(r,n,t,e,u){return o(r,n)+i(r,t)+c(r,e)+f(r,u)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CatmullRom=r,exports.QuadraticBezier=u,exports.CubicBezier=a;
    },{}],"aLCQ":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../core/Curve")),e=o(require("../core/Interpolations")),r=o(require("../../math/Vec2"));function o(t){return t&&t.__esModule?t:{default:t}}function i(e,o,i,v){t.default.call(this),this.type="CubicBezierCurve",this.v0=e||new r.default,this.v1=o||new r.default,this.v2=i||new r.default,this.v3=v||new r.default}i.prototype=Object.create(t.default.prototype),i.prototype.constructor=i,i.prototype.isCubicBezierCurve=!0,i.prototype.getPoint=function(t,o){var i=o||new r.default,v=this.v0,u=this.v1,s=this.v2,a=this.v3;return i.set((0,e.default)(t,v.x,u.x,s.x,a.x),(0,e.default)(t,v.y,u.y,s.y,a.y)),i},i.prototype.copy=function(e){return t.default.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},i.prototype.toJSON=function(){var e=t.default.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},i.prototype.fromJSON=function(e){return t.default.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};var v=i;exports.default=v;
    },{"../core/Curve":"Wl9r","../core/Interpolations":"ua4g","../../math/Vec2":"QavS"}],"R04e":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../core/Curve")),a=i(require("../../math/Vec2"));function i(t){return t&&t.__esModule?t:{default:t}}function s(a,i,s,e,o,h,r,n){t.default.call(this),this.type="EllipseCurve",this.aX=a||0,this.aY=i||0,this.xRadius=s||1,this.yRadius=e||1,this.aStartAngle=o||0,this.aEndAngle=h||2*Math.PI,this.aClockwise=r||!1,this.aRotation=n||0}s.prototype=Object.create(t.default.prototype),s.prototype.constructor=s,s.prototype.isEllipseCurve=!0,s.prototype.getPoint=function(t,i){for(var s=i||new a.default,e=2*Math.PI,o=this.aEndAngle-this.aStartAngle,h=Math.abs(o)<Number.EPSILON;o<0;)o+=e;for(;o>e;)o-=e;o<Number.EPSILON&&(o=h?0:e),!0!==this.aClockwise||h||(o===e?o=-e:o-=e);var r=this.aStartAngle+t*o,n=this.aX+this.xRadius*Math.cos(r),l=this.aY+this.yRadius*Math.sin(r);if(0!==this.aRotation){var u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=n-this.aX,c=l-this.aY;n=p*u-c*d+this.aX,l=p*d+c*u+this.aY}return s.set(n,l)},s.prototype.copy=function(a){return t.default.prototype.copy.call(this,a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this},s.prototype.toJSON=function(){var a=t.default.prototype.toJSON.call(this);return a.aX=this.aX,a.aY=this.aY,a.xRadius=this.xRadius,a.yRadius=this.yRadius,a.aStartAngle=this.aStartAngle,a.aEndAngle=this.aEndAngle,a.aClockwise=this.aClockwise,a.aRotation=this.aRotation,a},s.prototype.fromJSON=function(a){return t.default.prototype.fromJSON.call(this,a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this};var e=s;exports.default=e;
    },{"../core/Curve":"Wl9r","../../math/Vec2":"QavS"}],"mXGw":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../core/Curve")),e=require("../core/Interpolations"),r=o(require("../../math/Vec2"));function o(t){return t&&t.__esModule?t:{default:t}}function i(e,o,i){t.default.call(this),this.type="QuadraticBezierCurve",this.v0=e||new r.default,this.v1=o||new r.default,this.v2=i||new r.default}i.prototype=Object.create(t.default.prototype),i.prototype.constructor=i,i.prototype.isQuadraticBezierCurve=!0,i.prototype.getPoint=function(t,o){var i=o||new r.default,a=this.v0,u=this.v1,p=this.v2;return i.set((0,e.QuadraticBezier)(t,a.x,u.x,p.x),(0,e.QuadraticBezier)(t,a.y,u.y,p.y)),i},i.prototype.copy=function(e){return t.default.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},i.prototype.toJSON=function(){var e=t.default.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},i.prototype.fromJSON=function(e){return t.default.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};var a=i;exports.default=a;
    },{"../core/Curve":"Wl9r","../core/Interpolations":"ua4g","../../math/Vec2":"QavS"}],"xbcK":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../core/Curve")),e=r(require("../core/Interpolations")),o=r(require("../../math/Vec2"));function r(t){return t&&t.__esModule?t:{default:t}}function n(e){t.default.call(this),this.type="SplineCurve",this.points=e||[]}n.prototype=Object.create(t.default.prototype),n.prototype.constructor=n,n.prototype.isSplineCurve=!0,n.prototype.getPoint=function(t,r){var n=r||new o.default,p=this.points,i=(p.length-1)*t,s=Math.floor(i),u=i-s,l=p[0===s?s:s-1],a=p[s],h=p[s>p.length-2?p.length-1:s+1],f=p[s>p.length-3?p.length-1:s+2];return n.set((0,e.default)(u,l.x,a.x,h.x,f.x),(0,e.default)(u,l.y,a.y,h.y,f.y)),n},n.prototype.copy=function(e){t.default.prototype.copy.call(this,e),this.points=[];for(var o=0,r=e.points.length;o<r;o++){var n=e.points[o];this.points.push(n.clone())}return this},n.prototype.toJSON=function(){var e=t.default.prototype.toJSON.call(this);e.points=[];for(var o=0,r=this.points.length;o<r;o++){var n=this.points[o];e.points.push(n.toArray())}return e},n.prototype.fromJSON=function(e){t.default.prototype.fromJSON.call(this,e),this.points=[];for(var r=0,n=e.points.length;r<n;r++){var p=e.points[r];this.points.push((new o.default).fromArray(p))}return this};var p=n;exports.default=p;
    },{"../core/Curve":"Wl9r","../core/Interpolations":"ua4g","../../math/Vec2":"QavS"}],"iVWg":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CatmullRomCurve3",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"LineCurve1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"CubicBezierCurve",{enumerable:!0,get:function(){return u.CubicBezierCurve}}),Object.defineProperty(exports,"EllipseCurve",{enumerable:!0,get:function(){return t.EllipseCurve}}),Object.defineProperty(exports,"QuadraticBezierCurve",{enumerable:!0,get:function(){return i.QuadraticBezierCurve}}),Object.defineProperty(exports,"SplineCurve",{enumerable:!0,get:function(){return n.SplineCurve}});var e=l(require("./CatmullRomCurve3")),r=l(require("./LineCurve1")),u=require("./CubicBezierCurve"),t=require("./EllipseCurve"),i=require("./QuadraticBezierCurve"),n=require("./SplineCurve");function l(e){return e&&e.__esModule?e:{default:e}}
    },{"./CatmullRomCurve3":"MSFx","./LineCurve1":"ZdQW","./CubicBezierCurve":"aLCQ","./EllipseCurve":"R04e","./QuadraticBezierCurve":"mXGw","./SplineCurve":"xbcK"}],"xqhU":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("./Curve")),e=s(require("../curves/Curves"));function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r();if(e&&e.has(t))return e.get(t);var s={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=u?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(s,n,o):s[n]=t[n]}return s.default=t,e&&e.set(t,s),s}function u(t){return t&&t.__esModule?t:{default:t}}function n(){t.default.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}n.prototype=Object.assign(Object.create(t.default.prototype),{constructor:n,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);t.equals(r)||this.curves.push(new e.LineCurve1(r,t))},getPoint:function(t){for(var e=t*this.getLength(),r=this.getCurveLengths(),s=0;s<r.length;){if(r[s]>=e){var u=r[s]-e,n=this.curves[s],o=n.getLength(),i=0===o?0:1-u/o;return n.getPointAt(i)}s++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,r=0,s=this.curves.length;r<s;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,r=[],s=0,u=this.curves;s<u.length;s++)for(var n=u[s],o=n&&n.isEllipseCurve?2*t:n&&(n.isLineCurve||n.isLineCurve3)?1:n&&n.isSplineCurve?t*n.points.length:t,i=n.getPoints(o),h=0;h<i.length;h++){var c=i[h];e&&e.equals(c)||(r.push(c),e=c)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){t.default.prototype.copy.call(this,e),this.curves=[];for(var r=0,s=e.curves.length;r<s;r++){var u=e.curves[r];this.curves.push(u.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=t.default.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var r=0,s=this.curves.length;r<s;r++){var u=this.curves[r];e.curves.push(u.toJSON())}return e},fromJSON:function(r){t.default.prototype.fromJSON.call(this,r),this.autoClose=r.autoClose,this.curves=[];for(var s=0,u=r.curves.length;s<u;s++){var n=r.curves[s];this.curves.push((new e[n.type]).fromJSON(n))}return this}});var o=n;exports.default=o;
    },{"./Curve":"Wl9r","../curves/Curves":"iVWg"}],"VFQ1":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../../math/Vec2")),e=o(require("../core/Curve"));function o(t){return t&&t.__esModule?t:{default:t}}function r(o,r){e.default.call(this),this.type="LineCurve",this.v1=o||new t.default,this.v2=r||new t.default}r.prototype=Object.create(e.default.prototype),r.prototype.constructor=r,r.prototype.isLineCurve=!0,r.prototype.getPoint=function(e,o){var r=o||new t.default;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},r.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},r.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},r.prototype.copy=function(t){return e.default.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},r.prototype.toJSON=function(){var t=e.default.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},r.prototype.fromJSON=function(t){return e.default.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this};var i=r;exports.default=i;
    },{"../../math/Vec2":"QavS","../core/Curve":"Wl9r"}],"qV6g":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../math/Vec2")),e=s(require("./CurvePath")),r=s(require("../curves/EllipseCurve")),n=s(require("../curves/SplineCurve")),i=s(require("../curves/CubicBezierCurve")),u=s(require("../curves/QuadraticBezierCurve")),o=s(require("../curves/LineCurve"));function s(t){return t&&t.__esModule?t:{default:t}}function c(r){e.default.call(this),this.type="Path",this.currentPoint=new t.default,r&&this.setFromPoints(r)}c.prototype=Object.assign(Object.create(e.default.prototype),{constructor:c,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(e,r){var n=new o.default(this.currentPoint.clone(),new t.default(e,r));this.curves.push(n),this.currentPoint.set(e,r)},quadraticCurveTo:function(e,r,n,i){var o=new u.default(this.currentPoint.clone(),new t.default(e,r),new t.default(n,i));this.curves.push(o),this.currentPoint.set(n,i)},bezierCurveTo:function(e,r,n,u,o,s){var c=new i.default(this.currentPoint.clone(),new t.default(e,r),new t.default(n,u),new t.default(o,s));this.curves.push(c),this.currentPoint.set(o,s)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),r=new n.default(e);this.curves.push(r),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,r,n,i,u){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,r,n,i,u)},absarc:function(t,e,r,n,i,u){this.absellipse(t,e,r,r,n,i,u)},ellipse:function(t,e,r,n,i,u,o,s){var c=this.currentPoint.x,a=this.currentPoint.y;this.absellipse(t+c,e+a,r,n,i,u,o,s)},absellipse:function(t,e,n,i,u,o,s,c){var a=new r.default(t,e,n,i,u,o,s,c);if(this.curves.length>0){var l=a.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(a);var h=a.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return e.default.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=e.default.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return e.default.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}});var a=c;exports.default=a;
    },{"../../math/Vec2":"QavS","./CurvePath":"xqhU","../curves/EllipseCurve":"R04e","../curves/SplineCurve":"xbcK","../curves/CubicBezierCurve":"aLCQ","../curves/QuadraticBezierCurve":"mXGw","../curves/LineCurve":"VFQ1"}],"hlAM":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Path")),e=o(require("../../math/Math"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,o){return e&&u(t.prototype,e),o&&u(t,o),t}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(o){function r(t){var o;return n(this,r),(o=l(this,f(r).call(this))).uuid=e.default.generateUUID(),o.type="Shape",o.holes=[],o}return a(r,t.default),i(r,[{key:"getPointsHoles",value:function(t){for(var e=[],o=0,r=this.holes.length;o<r;o++)e[o]=this.holes[o].getPoints(t);return e}},{key:"extractPoints",value:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}},{key:"copy",value:function(e){t.default.prototype.copy.call(this,e),this.holes=[];for(var o=0,r=e.holes.length;o<r;o++){var n=e.holes[o];this.holes.push(n.clone())}return this}},{key:"toJSON",value:function(){var e=t.default.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var o=0,r=this.holes.length;o<r;o++){var n=this.holes[o];e.holes.push(n.toJSON())}return e}},{key:"fromJSON",value:function(e){t.default.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var o=0,r=e.holes.length;o<r;o++){var n=e.holes[o];this.holes.push((new t.default).fromJSON(n))}return this}}]),r}();exports.default=h;
    },{"./Path":"qV6g","../../math/Math":"dVwR"}],"IB2q":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../../math/Color")),t=n(require("./Path")),r=n(require("./Shape")),u=n(require("../ShapeUtils"));function n(e){return e&&e.__esModule?e:{default:e}}function i(){this.type="ShapePath",this.color=new e.default,this.subPaths=[],this.currentPath=null}Object.assign(i.prototype,{moveTo:function(e,r){this.currentPath=new t.default,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,r)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,r,u){this.currentPath.quadraticCurveTo(e,t,r,u)},bezierCurveTo:function(e,t,r,u,n,i){this.currentPath.bezierCurveTo(e,t,r,u,n,i)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],u=0,n=e.length;u<n;u++){var i=e[u],h=new r.default;h.curves=i.curves,t.push(h)}return t}function i(e,t){for(var r=t.length,u=!1,n=r-1,i=0;i<r;n=i++){var h=t[n],s=t[i],o=s.x-h.x,a=s.y-h.y;if(Math.abs(a)>Number.EPSILON){if(a<0&&(h=t[i],o=-o,s=t[n],a=-a),e.y<h.y||e.y>s.y)continue;if(e.y===h.y){if(e.x===h.x)return!0}else{var f=a*(e.x-h.x)-o*(e.y-h.y);if(0===f)return!0;if(f<0)continue;u=!u}}else{if(e.y!==h.y)continue;if(s.x<=e.x&&e.x<=h.x||h.x<=e.x&&e.x<=s.x)return!0}}return u}var h,s,o,a=u.default.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===t)return n(f);var l=[];if(1===f.length)return s=f[0],(o=new r.default).curves=s.curves,l.push(o),l;var c=!a(f[0].getPoints());c=e?!c:c;var v,p,x=[],P=[],d=[],g=0;P[g]=void 0,d[g]=[];for(var y=0,T=f.length;y<T;y++)h=a(v=(s=f[y]).getPoints()),(h=e?!h:h)?(!c&&P[g]&&g++,P[g]={s:new r.default,p:v},P[g].s.curves=s.curves,c&&g++,d[g]=[]):d[g].push({h:s,p:v[0]});if(!P[0])return n(f);if(P.length>1){for(var b=!1,q=[],C=0,m=P.length;C<m;C++)x[C]=[];for(C=0,m=P.length;C<m;C++)for(var w=d[C],S=0;S<w.length;S++){for(var _=w[S],M=!0,O=0;O<P.length;O++)i(_.p,P[O].p)&&(C!==O&&q.push({froms:C,tos:O,hole:S}),M?(M=!1,x[O].push(_)):b=!0);M&&x[C].push(_)}q.length>0&&(b||(d=x))}y=0;for(var j=P.length;y<j;y++){o=P[y].s,l.push(o);for(var z=0,N=(p=d[y]).length;z<N;z++)o.holes.push(p[z].h)}return l}});var h=i;exports.default=h;
    },{"../../math/Color":"FdPe","./Path":"qV6g","./Shape":"hlAM","../ShapeUtils":"saEz"}],"MUBi":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./ShapePath"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){this.type="Font",this.data=e}function a(e,t,r){for(var a=Array.from?Array.from(e):String(e).split(""),n=t/r.resolution,i=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*n,s=[],u=0,f=0,l=0;l<a.length;l++){var p=a[l];if("\n"===p)u=0,f-=i;else{var h=o(p,n,u,f,r);u+=h.offsetX,s.push(h.path)}}return s}function o(t,r,a,o,n){var i=n.glyphs[t]||n.glyphs["?"];if(i){var s,u,f,l,p,h,c,d,v=new e.default;if(i.o)for(var y=i._cachedOutline||(i._cachedOutline=i.o.split(" ")),g=0,b=y.length;g<b;){switch(y[g++]){case"m":s=y[g++]*r+a,u=y[g++]*r+o,v.moveTo(s,u);break;case"l":s=y[g++]*r+a,u=y[g++]*r+o,v.lineTo(s,u);break;case"q":f=y[g++]*r+a,l=y[g++]*r+o,p=y[g++]*r+a,h=y[g++]*r+o,v.quadraticCurveTo(p,h,f,l);break;case"b":f=y[g++]*r+a,l=y[g++]*r+o,p=y[g++]*r+a,h=y[g++]*r+o,c=y[g++]*r+a,d=y[g++]*r+o,v.bezierCurveTo(p,h,c,d,f,l)}}return{offsetX:i.ha*r,path:v}}}Object.assign(r.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var r=[],o=a(e,t,this.data),n=0,i=o.length;n<i;n++)Array.prototype.push.apply(r,o[n].toShapes());return r}});var n=r;exports.default=n;
    },{"./ShapePath":"IB2q"}],"pTUC":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cache=void 0;var e={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};exports.Cache=e;
    },{}],"rwCF":[function(require,module,exports) {
        "use strict";function o(o,t,r){var n=this,i=!1,e=0,s=0,a=void 0;this.onStart=void 0,this.onLoad=o,this.onProgress=t,this.onError=r,this.itemStart=function(o){s++,!1===i&&void 0!==n.onStart&&n.onStart(o,e,s),i=!0},this.itemEnd=function(o){e++,void 0!==n.onProgress&&n.onProgress(o,e,s),e===s&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(o){void 0!==n.onError&&n.onError(o)},this.resolveURL=function(o){return a?a(o):o},this.setURLModifier=function(o){return a=o,this}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadingManager=o,exports.DefaultLoadingManager=void 0;var t=new o;exports.DefaultLoadingManager=t;
    },{}],"RWVK":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileLoader=n;var e=require("./Cache"),r=require("./LoadingManager"),t={};function n(e){this.manager=void 0!==e?e:r.DefaultLoadingManager}Object.assign(n.prototype,{load:function(r,n,a,i){void 0===r&&(r=""),void 0!==this.path&&(r=this.path+r),r=this.manager.resolveURL(r);var s=this,o=e.Cache.get(r);if(void 0!==o)return s.manager.itemStart(r),setTimeout(function(){n&&n(o),s.manager.itemEnd(r)},0),o;if(void 0===t[r]){var d=r.match(/^data:(.*?)(;base64)?,(.*)$/);if(d){var h=d[1],u=!!d[2],m=d[3];m=window.decodeURIComponent(m),u&&(m=window.atob(m));try{var p,v=(this.responseType||"").toLowerCase();switch(v){case"arraybuffer":case"blob":for(var c=new Uint8Array(m.length),f=0;f<m.length;f++)c[f]=m.charCodeAt(f);p="blob"===v?new Blob([c.buffer],{type:h}):c.buffer;break;case"document":var g=new DOMParser;p=g.parseFromString(m,h);break;case"json":p=JSON.parse(m);break;default:p=m}window.setTimeout(function(){n&&n(p),s.manager.itemEnd(r)},0)}catch(w){window.setTimeout(function(){i&&i(w),s.manager.itemEnd(r),s.manager.itemError(r)},0)}}else{t[r]=[],t[r].push({onLoad:n,onProgress:a,onError:i});var l=new XMLHttpRequest;for(var E in l.open("GET",r,!0),l.addEventListener("load",function(n){var a=this.response;e.Cache.add(r,a);var i=t[r];if(delete t[r],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,d=i.length;o<d;o++){(h=i[o]).onLoad&&h.onLoad(a)}s.manager.itemEnd(r)}else{for(o=0,d=i.length;o<d;o++){var h;(h=i[o]).onError&&h.onError(n)}s.manager.itemEnd(r),s.manager.itemError(r)}},!1),l.addEventListener("progress",function(e){for(var n=t[r],a=0,i=n.length;a<i;a++){var s=n[a];s.onProgress&&s.onProgress(e)}},!1),l.addEventListener("error",function(e){var n=t[r];delete t[r];for(var a=0,i=n.length;a<i;a++){var o=n[a];o.onError&&o.onError(e)}s.manager.itemEnd(r),s.manager.itemError(r)},!1),void 0!==this.responseType&&(l.responseType=this.responseType),void 0!==this.withCredentials&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)l.setRequestHeader(E,this.requestHeader[E]);l.send(null)}return s.manager.itemStart(r),l}t[r].push({onLoad:n,onProgress:a,onError:i})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});
    },{"./Cache":"pTUC","./LoadingManager":"rwCF"}],"mTyU":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../extras/core/Font")),t=require("./FileLoader"),r=require("./LoadingManager");function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}var u=function(){function a(e){n(this,a),this.manager=void 0!==e?e:r.DefaultLoadingManager}return i(a,[{key:"load",value:function(e,r,a,n){var o=this,i=new t.FileLoader(this.manager);i.setPath(this.path),i.load(e,function(e){var t;try{t=JSON.parse(e)}catch(n){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),t=JSON.parse(e.substring(65,e.length-2))}var a=o.parse(t);r&&r(a)},a,n)}},{key:"parse",value:function(t){return new e.default(t)}},{key:"setPath",value:function(e){return this.path=e,this}}]),a}();exports.default=u;
    },{"../extras/core/Font":"MUBi","./FileLoader":"RWVK","./LoadingManager":"rwCF"}],"NnSn":[function(require,module,exports) {
        var define;
        var t;!function(e,a,i){"undefined"!=typeof module&&module.exports?module.exports=i():"function"==typeof t&&t.amd?t(i):a.h337=i()}(0,this,function(){var t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var e=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t.xField||t.defaultXField,this._yField=t.yField||t.defaultYField,this._valueField=t.valueField||t.defaultValueField,t.radius&&(this._cfgRadius=t.radius)},a=t.defaultRadius;return e.prototype={_organiseData:function(t,e){var i=t[this._xField],n=t[this._yField],r=this._radi,s=this._data,h=this._max,o=this._min,d=t[this._valueField]||1,u=t.radius||this._cfgRadius||a;s[i]||(s[i]=[],r[i]=[]),s[i][n]?s[i][n]+=d:(s[i][n]=d,r[i][n]=u);var l=s[i][n];return l>h?(e?this.setDataMax(l):this._max=l,!1):l<o?(e?this.setDataMin(l):this._min=l,!1):{x:i,y:n,value:d,radius:u,min:o,max:h}},_unOrganizeData:function(){var t=[],e=this._data,a=this._radi;for(var i in e)for(var n in e[i])t.push({x:i,y:n,radius:a[i][n],value:e[i][n]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var t=arguments[0],e=t.length;e--;)this.addData.call(this,t[e]);else{var a=this._organiseData(arguments[0],!0);a&&(0===this._data.length&&(this._min=this._max=a.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[a]}))}return this},setData:function(t){var e=t.data,a=e.length;this._data=[],this._radi=[];for(var i=0;i<a;i++)this._organiseData(e[i],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),a=function(){var t=function(t){var e=t.gradient||t.defaultGradient,a=document.createElement("canvas"),i=a.getContext("2d");a.width=256,a.height=1;var n=i.createLinearGradient(0,0,256,1);for(var r in e)n.addColorStop(r,e[r]);return i.fillStyle=n,i.fillRect(0,0,256,1),i.getImageData(0,0,256,1).data},e=function(t,e){var a=document.createElement("canvas"),i=a.getContext("2d"),n=t,r=t;if(a.width=a.height=2*t,1==e)i.beginPath(),i.arc(n,r,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{var s=i.createRadialGradient(n,r,t*e,n,r,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*t,2*t)}return a};function a(e){var a=e.container,i=this.shadowCanvas=document.createElement("canvas"),n=this.canvas=e.canvas||document.createElement("canvas"),r=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});n.className="heatmap-canvas",this._width=n.width=i.width=e.width||+r.width.replace(/px/,""),this._height=n.height=i.height=e.height||+r.height.replace(/px/,""),this.shadowCtx=i.getContext("2d"),this.ctx=n.getContext("2d"),n.style.cssText=i.style.cssText="position:absolute;left:0;top:0;",a.style.position="relative",a.appendChild(n),this._palette=t(e),this._templates={},this._setStyles(e)}return a.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(function(t){for(var e=[],a=t.min,i=t.max,n=t.radi,r=(t=t.data,Object.keys(t)),s=r.length;s--;)for(var h=r[s],o=Object.keys(t[h]),d=o.length;d--;){var u=o[d],l=t[h][u],_=n[h][u];e.push({x:h,y:u,value:l,radius:_})}return{min:a,max:i,data:e}}(t)),this._colorize())},_updateGradient:function(e){this._palette=t(e)},updateConfig:function(t){t.gradient&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){for(var a=this._min=t.min,i=this._max=t.max,n=(t=t.data||[]).length,r=1-this._blur;n--;){var s,h=t[n],o=h.x,d=h.y,u=h.radius,l=Math.min(h.value,i),_=o-u,c=d-u,f=this.shadowCtx;this._templates[u]?s=this._templates[u]:this._templates[u]=s=e(u,r);var g=(l-a)/(i-a);f.globalAlpha=g<.01?.01:g,f.drawImage(s,_,c),_<this._renderBoundaries[0]&&(this._renderBoundaries[0]=_),c<this._renderBoundaries[1]&&(this._renderBoundaries[1]=c),_+2*u>this._renderBoundaries[2]&&(this._renderBoundaries[2]=_+2*u),c+2*u>this._renderBoundaries[3]&&(this._renderBoundaries[3]=c+2*u)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],a=this._renderBoundaries[2]-t,i=this._renderBoundaries[3]-e,n=this._width,r=this._height,s=this._opacity,h=this._maxOpacity,o=this._minOpacity,d=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+a>n&&(a=n-t),e+i>r&&(i=r-e);for(var u=this.shadowCtx.getImageData(t,e,a,i),l=u.data,_=l.length,c=this._palette,f=3;f<_;f+=4){var g,m=l[f],p=4*m;if(p)g=s>0?s:m<h?m<o?o:m:h,l[f-3]=c[p],l[f-2]=c[p+1],l[f-1]=c[p+2],l[f]=d?c[p+3]:g}u.data=l,this.ctx.putImageData(u,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e=this.shadowCtx.getImageData(t.x,t.y,1,1).data[3],a=this._max,i=this._min;return Math.abs(a-i)*(e/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},a}(),i=function(){var e=!1;return"canvas2d"===t.defaultRenderer&&(e=a),e}(),n={merge:function(){for(var t={},e=arguments.length,a=0;a<e;a++){var i=arguments[a];for(var n in i)t[n]=i[n]}return t}},r=function(){var a=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,a){var i=this.cStore;i[t]||(i[t]=[]),i[t].push(function(t){return e.call(a,t)})},emit:function(t,e){var a=this.cStore;if(a[t])for(var i=a[t].length,n=0;n<i;n++){(0,a[t][n])(e)}}},t}(),r=function(t){var e=t._renderer,a=t._coordinator,i=t._store;a.on("renderpartial",e.renderPartial,e),a.on("renderall",e.renderAll,e),a.on("extremachange",function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config.gradient||t._config.defaultGradient})}),i.setCoordinator(a)};function s(){var s=this._config=n.merge(t,arguments[0]||{});if(this._coordinator=new a,s.plugin){var h=s.plugin;if(!t.plugins[h])throw new Error("Plugin '"+h+"' not found. Maybe it was not registered.");var o=t.plugins[h];this._renderer=new o.renderer(s),this._store=new o.store(s)}else this._renderer=new i(s),this._store=new e(s);r(this)}return s.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=n.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},s}();return{create:function(t){return new r(t)},register:function(e,a){t.plugins[e]=a}}});
    },{}],"br2u":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("../geometry/Geometry")),e=require("../geometry/BufferAttribute"),r=require("../util/projection"),o=require("../util/projection_lnglat"),n=require("../const/constants"),i=u(require("../../lib/heatmap.min")),a=u(require("../material/Material")),s=u(require("../texture/Texture"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),t}var v=512,g=function(){function t(e,r,o,i,a){if(d(this,t),this.dirty=!0,this.drawMode=n.TrianglesDrawMode,this.initCanvas(o),this.gridSamples=o&&o.gridSamples||v,this._gridZoom=v/this.gridSamples,this.name=i,this._bounds=o&&o.bounds||null,this.heightFactor=r,this.isMercator=a,1===e.length){var s=this.getHeatmap(e[0],r,a);this.indices=s.indices,this.vertices=s.vertices}else if(e.length>1&&(!o||!o.morphAnimation))for(var u=0;u<e.length;u++)this.getHeatmap(e[u],r,a)}return b(t,[{key:"initCanvas",value:function(t){if(!this.heatmapInstance){var e=document.createElement("div");e.style.width="".concat(v,"px"),e.style.height="".concat(v,"px"),e.style.display="none",document.body.appendChild(e),this.canvasDom=e,this.heatmapInstance=i.default.create(Object.assign({container:e},t||{}))}}},{key:"getHeatmap",value:function(t,e,n,i){for(var u,c,f,h,l,p=0;p<t.features.length;p++){var m=t.features[p].geometry.coordinates,d=t.features[p].properties.mag;(!u||m[0]<u)&&(u=m[0]),(!c||m[1]<c)&&(c=m[1]),(!f||m[0]>f)&&(f=m[0]),(!h||m[1]>h)&&(h=m[1]),(!l||d>l)&&(l=d)}this._bounds&&(f=this._bounds.tr[0],h=this._bounds.tr[1],u=this._bounds.bl[0],c=this._bounds.bl[1]);var y=(n?r.project:o.project)([u,c]),b=(n?r.project:o.project)([f,c]),v=(n?r.project:o.project)([u,h]),g=[(b[0]+y[0])/2,(v[1]+y[1])/2];this.centerMecator=g,this.location=(n?r.unproject:o.unproject)(g);for(var w=b[0]-y[0],A=y[1]-v[1],O=1.2*Math.max(A,w),x=[g[0]-O/2,g[1]+O/2],M=[],S=0;S<t.features.length;S++){var I=t.features[S].geometry.coordinates,q=t.features[S].properties.mag,B=(n?r.project:o.project)(I);M.push(j(B,x,O,q))}this.heatmapInstance.setData({max:l,data:M}),this.heatmapInstance.repaint();var F,P,T=[],D=[],E=[],k=[],C=O,H=O,Z=this.gridSamples,N=this.gridSamples,R=C/2,G=H/2,L=Math.floor(Z)||1,U=Math.floor(N)||1,V=L+1,z=U+1,J=C/L,K=H/U;for(P=0;P<z;P++){var Q=P*K-G;for(F=0;F<V;F++){var W=F*J-R,X=this.heatmapInstance.getValueAt({x:F*this._gridZoom,y:P*this._gridZoom});D.push(W,X*e,-Q),i||(E.push(0,0,1),k.push(F/L),k.push(P/U))}}if(!i)for(P=0;P<U;P++)for(F=0;F<L;F++){var Y=F+V*P,$=F+V*(P+1),tt=F+1+V*(P+1),et=F+1+V*P;T.push($,Y,et),T.push(tt,$,et)}if(!this.geometry){var rt=this.canvasDom.getElementsByTagName("canvas")[0];this.geometry=new _(T,D,E,k),this.material=new a.default({map:new s.default(rt.toDataURL())})}return{indices:T,vertices:D,normals:E,uvs:k}}},{key:"addAnimation",value:function(t,r){if(this.geometry){var o=t.length;if(o>8)console.error("The number of animation control point can not be greater than 8!");else{for(var n=0;n<o;n++){for(var i=this.getHeatmap(t[n][0],this.heightFactor,this.isMercator,!0).vertices,a=0;a<i.length;a++)i[a]=i[a]-this.vertices[a];this.geometry.addMorphAttributes("POSITION",new e.Float32BufferAttribute(i,3))}for(var s=r.time,u=[],c=[],f=0;f<o;f++){u.push(f*s/(o-1));for(var h=[],l=0;l<o;l++)h.push(0);h[f]=1,c.push.apply(c,h)}this.geometry.morphAnimation.push({input:new e.Float32BufferAttribute(u,1),output:new e.Float32BufferAttribute(c,1)})}}else console.error("Invalid geometry can not add animations!")}}]),t}();exports.default=g;var _=function(r){function o(t,r,n,i){var a;return d(this,o),(a=f(this,l(o).call(this))).setIndex(t),a.addAttribute("position",new e.Float32BufferAttribute(r,3)),a.addAttribute("normal",new e.Float32BufferAttribute(n,3)),a.addAttribute("uv",new e.Float32BufferAttribute(i,2)),a}return p(o,t.default),o}();function j(t,e,r,o){var n=t[0]-e[0],i=e[1]-t[1];return{x:parseInt(n/r*v,10),y:parseInt(i/r*v,10),value:o}}
    },{"../geometry/Geometry":"YIth","../geometry/BufferAttribute":"QWCA","../util/projection":"UotF","../util/projection_lnglat":"Y8nD","../const/constants":"CEMD","../../lib/heatmap.min":"NnSn","../material/Material":"GYKy","../texture/Texture":"yDKA"}],"OTq9":[function(require,module,exports) {
        function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}var r=function(t){function r(i){if(n[i])return n[i].exports;var e=n[i]={exports:{},id:i,loaded:!1};return t[i].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var n={};return r.m=t,r.c=n,r.p="",r(0)}([function(t,r,n){"use strict";t.exports=n(1)},function(r,n,i){"use strict";var e="function"==typeof Symbol&&"symbol"==t(Symbol.iterator)?function(r){return t(r)}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":t(r)};!function(){function t(t,r,n,i,e){void 0===e&&(e=.5);var o=l.projectionratio(e,t),s=1-o,u={x:o*r.x+s*i.x,y:o*r.y+s*i.y},a=l.abcratio(e,t);return{A:{x:n.x+(n.x-u.x)/a,y:n.y+(n.y-u.y)/a},B:n,C:u}}var n=Math.abs,o=Math.min,s=Math.max,u=Math.cos,a=Math.sin,c=Math.acos,f=Math.sqrt,h=Math.PI,x={x:0,y:0,z:0},l=i(2),y=i(3),p=function(t){var r=t&&t.forEach?t:[].slice.call(arguments),i=!1;if("object"===e(r[0])){i=r.length;var o=[];r.forEach(function(t){["x","y","z"].forEach(function(r){void 0!==t[r]&&o.push(t[r])})}),r=o}var s=!1,u=r.length;if(i){if(i>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(6!==u&&8!==u&&9!==u&&12!==u&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var a=!s&&(9===u||12===u)||t&&t[0]&&void 0!==t[0].z;this._3d=a;for(var c=[],f=0,h=a?3:2;f<u;f+=h){var x={x:r[f],y:r[f+1]};a&&(x.z=r[f+2]),c.push(x)}this.order=c.length-1,this.points=c;var y=["x","y"];a&&y.push("z"),this.dims=y,this.dimlen=y.length,function(t){for(var r=t.order,i=t.points,e=l.align(i,{p1:i[0],p2:i[r]}),o=0;o<e.length;o++)if(n(e[o].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};p.fromSVG=function(t){var r=t.match(/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g).map(parseFloat);return/[cq]/.test(t)?(r=r.map(function(t,n){return n<2?t:t+r[n%2]}),new p(r)):new p(r)},p.quadraticFromPoints=function(r,n,i,e){if(void 0===e&&(e=.5),0===e)return new p(n,n,i);if(1===e)return new p(r,n,n);var o=t(2,r,n,i,e);return new p(r,o.A,i)},p.cubicFromPoints=function(r,n,i,e,o){void 0===e&&(e=.5);var s=t(3,r,n,i,e);void 0===o&&(o=l.dist(n,s.C));var u=o*(1-e)/e,a=l.dist(r,i),c=(i.x-r.x)/a,f=(i.y-r.y)/a,h=o*c,x=o*f,y=u*c,v=u*f,m=n.x-h,d=n.y-x,g=n.x+y,z=n.y+v,b=s.A,_=b.x+(m-b.x)/(1-e),w=b.y+(d-b.y)/(1-e),S=b.x+(g-b.x)/e,E=b.y+(z-b.y)/e,M={x:r.x+(_-r.x)/e,y:r.y+(w-r.y)/e},k={x:i.x+(S-i.x)/(1-e),y:i.y+(E-i.y)/(1-e)};return new p(r,M,k,i)};var v=function(){return l};p.getUtils=v,p.prototype={getUtils:v,valueOf:function(){return this.toString()},toString:function(){return l.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var r=this.points,n=["M",r[0].x,r[0].y,2===this.order?"Q":"C"],i=1,e=r.length;i<e;i++)n.push(r[i].x),n.push(r[i].y);return n.join(" ")},update:function(){this.dpoints=[];for(var t=this.points,r=t.length,n=r-1;r>1;r--,n--){for(var i,e=[],o=0;o<n;o++)i={x:n*(t[o+1].x-t[o].x),y:n*(t[o+1].y-t[o].y)},this._3d&&(i.z=n*(t[o+1].z-t[o].z)),e.push(i);this.dpoints.push(e),t=e}this.computedirection()},computedirection:function(){var t=this.points,r=l.angle(t[0],t[this.order],t[1]);this.clockwise=r>0},length:function(){return l.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[];for(var r=0;r<=t;r++)this._lut.push(this.compute(r/t));return this._lut},on:function(t,r){r=r||5;for(var n,i=this.getLUT(),e=[],o=0,s=0;s<i.length;s++)n=i[s],l.dist(n,t)<r&&(e.push(n),o+=s/i.length);return!!e.length&&o/e.length},project:function(t){var r=this.getLUT(),n=r.length-1,i=l.closest(r,t),e=i.mdist,o=i.mpos;if(0===o||o===n){var s=o/n,u=this.compute(s);return u.t=s,u.d=e,u}var a,c,f,h=(o+1)/n,x=.1/n;for(e+=1,a=s=(o-1)/n;s<h+x;s+=x)c=this.compute(s),(f=l.dist(t,c))<e&&(e=f,a=s);return(c=this.compute(a)).t=a,c.d=e,c},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var r=this.points,n=1-t;if(1===this.order)return c={x:n*r[0].x+t*r[1].x,y:n*r[0].y+t*r[1].y},this._3d&&(c.z=n*r[0].z+t*r[1].z),c;if(this.order<4){var i,e,o,s=n*n,u=t*t,a=0;2===this.order?(r=[r[0],r[1],r[2],x],i=s,e=n*t*2,o=u):3===this.order&&(i=s*n,e=s*t*3,o=n*u*3,a=t*u);var c={x:i*r[0].x+e*r[1].x+o*r[2].x+a*r[3].x,y:i*r[0].y+e*r[1].y+o*r[2].y+a*r[3].y};return this._3d&&(c.z=i*r[0].z+e*r[1].z+o*r[2].z+a*r[3].z),c}for(var f=JSON.parse(JSON.stringify(this.points));f.length>1;){for(var h=0;h<f.length-1;h++)f[h]={x:f[h].x+(f[h+1].x-f[h].x)*t,y:f[h].y+(f[h+1].y-f[h].y)*t},void 0!==f[h].z&&(f[h]=f[h].z+(f[h+1].z-f[h].z)*t);f.splice(f.length-1,1)}return f[0]},raise:function(){for(var t,r,n=this.points,i=[n[0]],e=n.length,o=1;o<e;o++)t=n[o],r=n[o-1],i[o]={x:(e-o)/e*t.x+o/e*r.x,y:(e-o)/e*t.y+o/e*r.y};return i[e]=n[e-1],new p(i)},derivative:function(t){var r,n,i=1-t,e=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],x],r=i,n=t),3===this.order&&(r=i*i,n=i*t*2,e=t*t);var s={x:r*o[0].x+n*o[1].x+e*o[2].x,y:r*o[0].y+n*o[1].y+e*o[2].y};return this._3d&&(s.z=r*o[0].z+n*o[1].z+e*o[2].z),s},inflections:function(){return l.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var r=this.derivative(t),n=f(r.x*r.x+r.y*r.y);return{x:-r.y/n,y:r.x/n}},__normal3:function(t){var r=this.derivative(t),n=this.derivative(t+.01),i=f(r.x*r.x+r.y*r.y+r.z*r.z),e=f(n.x*n.x+n.y*n.y+n.z*n.z);r.x/=i,r.y/=i,r.z/=i,n.x/=e,n.y/=e,n.z/=e;var o={x:n.y*r.z-n.z*r.y,y:n.z*r.x-n.x*r.z,z:n.x*r.y-n.y*r.x},s=f(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=s,o.y/=s,o.z/=s;var u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:u[0]*r.x+u[1]*r.y+u[2]*r.z,y:u[3]*r.x+u[4]*r.y+u[5]*r.z,z:u[6]*r.x+u[7]*r.y+u[8]*r.z}},hull:function(t){var r,n=this.points,i=[],e=[],o=0,s=0,u=0;for(e[o++]=n[0],e[o++]=n[1],e[o++]=n[2],3===this.order&&(e[o++]=n[3]);n.length>1;){for(i=[],s=0,u=n.length-1;s<u;s++)r=l.lerp(t,n[s],n[s+1]),e[o++]=r,i.push(r);n=i}return e},split:function(t,r){if(0===t&&r)return this.split(r).left;if(1===r)return this.split(t).right;var n=this.hull(t),i={left:new p(2===this.order?[n[0],n[3],n[5]]:[n[0],n[4],n[7],n[9]]),right:new p(2===this.order?[n[5],n[4],n[2]]:[n[9],n[8],n[6],n[3]]),span:n};return i.left._t1=l.map(0,0,1,this._t1,this._t2),i.left._t2=l.map(t,0,1,this._t1,this._t2),i.right._t1=l.map(t,0,1,this._t1,this._t2),i.right._t2=l.map(1,0,1,this._t1,this._t2),r?(r=l.map(r,t,1,0,1),i.right.split(r).left):i},extrema:function(){var t,r,n=this.dims,i={},e=[];return n.forEach(function(n){r=function(t){return t[n]},t=this.dpoints[0].map(r),i[n]=l.droots(t),3===this.order&&(t=this.dpoints[1].map(r),i[n]=i[n].concat(l.droots(t))),i[n]=i[n].filter(function(t){return t>=0&&t<=1}),e=e.concat(i[n].sort(l.numberSort))}.bind(this)),e=e.sort(l.numberSort).filter(function(t,r){return e.indexOf(t)===r}),i.values=e,i},bbox:function(){var t=this.extrema(),r={};return this.dims.forEach(function(n){r[n]=l.getminmax(this,n,t[n])}.bind(this)),r},overlaps:function(t){var r=this.bbox(),n=t.bbox();return l.bboxoverlap(r,n)},offset:function(t,r){if(void 0!==r){var n=this.get(t),i=this.normal(t),e={c:n,n:i,x:n.x+i.x*r,y:n.y+i.y*r};return this._3d&&(e.z=n.z+i.z*r),e}if(this._linear){var o=this.normal(0),s=this.points.map(function(r){var n={x:r.x+t*o.x,y:r.y+t*o.y};return r.z&&i.z&&(n.z=r.z+t*o.z),n});return[new p(s)]}return this.reduce().map(function(r){return r.scale(t)})},simple:function(){if(3===this.order){var t=l.angle(this.points[0],this.points[3],this.points[1]),r=l.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&r<0||t<0&&r>0)return!1}var i=this.normal(0),e=this.normal(1),o=i.x*e.x+i.y*e.y;return this._3d&&(o+=i.z*e.z),n(c(o))<h/3},reduce:function(){var t,r,i=0,e=0,o=.01,s=[],u=[],a=this.extrema().values;for(-1===a.indexOf(0)&&(a=[0].concat(a)),-1===a.indexOf(1)&&a.push(1),i=a[0],t=1;t<a.length;t++)e=a[t],(r=this.split(i,e))._t1=i,r._t2=e,s.push(r),i=e;return s.forEach(function(t){for(i=0,e=0;e<=1;)for(e=i+o;e<=1+o;e+=o)if(!(r=t.split(i,e)).simple()){if(n(i-(e-=o))<o)return[];(r=t.split(i,e))._t1=l.map(i,0,1,t._t1,t._t2),r._t2=l.map(e,0,1,t._t1,t._t2),u.push(r),i=e;break}i<1&&((r=t.split(i,1))._t1=l.map(i,0,1,t._t1,t._t2),r._t2=t._t2,u.push(r))}),u},scale:function(t){var r=this.order,n=!1;if("function"==typeof t&&(n=t),n&&2===r)return this.raise().scale(n);var i=this.clockwise,e=n?n(0):t,o=n?n(1):t,s=[this.offset(0,10),this.offset(1,10)],u=l.lli4(s[0],s[0].c,s[1],s[1].c);if(!u)throw new Error("cannot scale this curve. Try reducing it first.");var a=this.points,c=[];return[0,1].forEach(function(t){var n=c[t*r]=l.copy(a[t*r]);n.x+=(t?o:e)*s[t].n.x,n.y+=(t?o:e)*s[t].n.y}.bind(this)),n?([0,1].forEach(function(e){if(2!==this.order||!e){var o=a[e+1],s={x:o.x-u.x,y:o.y-u.y},h=n?n((e+1)/r):t;n&&!i&&(h=-h);var x=f(s.x*s.x+s.y*s.y);s.x/=x,s.y/=x,c[e+1]={x:o.x+h*s.x,y:o.y+h*s.y}}}.bind(this)),new p(c)):([0,1].forEach(function(t){if(2!==this.order||!t){var n=c[t*r],i=this.derivative(t),e={x:n.x+i.x,y:n.y+i.y};c[t+1]=l.lli4(n,e,u,a[t+1])}}.bind(this)),new p(c))},outline:function(t,r,n,i){function e(t,r,n,i,e){return function(o){var s=i/n,u=(i+e)/n,a=r-t;return l.map(o,0,1,t+s*a,t+u*a)}}r=void 0===r?t:r;var o,s=this.reduce(),u=s.length,a=[],c=[],f=0,h=this.length(),x=void 0!==n&&void 0!==i;s.forEach(function(o){_=o.length(),x?(a.push(o.scale(e(t,n,h,f,_))),c.push(o.scale(e(-r,-i,h,f,_)))):(a.push(o.scale(t)),c.push(o.scale(-r))),f+=_}),c=c.map(function(t){return(o=t.points)[3]?t.points=[o[3],o[2],o[1],o[0]]:t.points=[o[2],o[1],o[0]],t}).reverse();var p=a[0].points[0],v=a[u-1].points[a[u-1].points.length-1],m=c[u-1].points[c[u-1].points.length-1],d=c[0].points[0],g=l.makeline(m,p),z=l.makeline(v,d),b=[g].concat(a).concat([z]).concat(c),_=b.length;return new y(b)},outlineshapes:function(t,r,n){r=r||t;for(var i=this.outline(t,r).curves,e=[],o=1,s=i.length;o<s/2;o++){var u=l.makeshape(i[o],i[s-o],n);u.startcap.virtual=o>1,u.endcap.virtual=o<s/2-1,e.push(u)}return e},intersects:function(t,r){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof p&&(t=t.reduce()),this.curveintersects(this.reduce(),t,r)):this.selfintersects(r)},lineIntersects:function(t){var r=o(t.p1.x,t.p2.x),n=o(t.p1.y,t.p2.y),i=s(t.p1.x,t.p2.x),e=s(t.p1.y,t.p2.y),u=this;return l.roots(this.points,t).filter(function(t){var o=u.get(t);return l.between(o.x,r,i)&&l.between(o.y,n,e)})},selfintersects:function(t){var r,n,i,e,o=this.reduce(),s=o.length-2,u=[];for(r=0;r<s;r++)i=o.slice(r,r+1),e=o.slice(r+2),n=this.curveintersects(i,e,t),u=u.concat(n);return u},curveintersects:function(t,r,n){var i=[];t.forEach(function(t){r.forEach(function(r){t.overlaps(r)&&i.push({left:t,right:r})})});var e=[];return i.forEach(function(t){var r=l.pairiteration(t.left,t.right,n);r.length>0&&(e=e.concat(r))}),e},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,r,i,e){var o=(e-i)/4,s=this.get(i+o),u=this.get(e-o),a=l.dist(t,r),c=l.dist(t,s),f=l.dist(t,u);return n(c-a)+n(f-a)},_iterate:function(t,r){var n,i=0,e=1;do{n=0,e=1;var o,s,c,f,h,x=this.get(i),y=!1,p=!1,v=e,m=1;do{if(p=y,f=c,v=(i+e)/2,0,o=this.get(v),s=this.get(e),(c=l.getccenter(x,o,s)).interval={start:i,end:e},y=this._error(c,x,i,e)<=t,(h=p&&!y)||(m=e),y){if(e>=1){if(c.interval.end=m=1,f=c,e>1){var d={x:c.x+c.r*u(c.e),y:c.y+c.r*a(c.e)};c.e+=l.angle({x:c.x,y:c.y},d,this.get(1))}break}e+=(e-i)/2}else e=v}while(!h&&n++<100);if(n>=100)break;f=f||c,r.push(f),i=m}while(e<1);return r}},r.exports=p}()},function(t,r,n){"use strict";!function(){var r=Math.abs,i=Math.cos,e=Math.sin,o=Math.acos,s=Math.atan2,u=Math.sqrt,a=Math.pow,c=function(t){return t<0?-a(-t,1/3):a(t,1/3)},f=Math.PI,h=2*f,x=f/2,l=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER,p={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,r){var n=r(t),i=n.x*n.x+n.y*n.y;return void 0!==n.z&&(i+=n.z*n.z),u(i)},between:function(t,r,n){return r<=t&&t<=n||p.approximately(t,r)||p.approximately(t,n)},approximately:function(t,n,i){return r(t-n)<=(i||1e-6)},length:function(t){var r,n,i=0,e=p.Tvalues.length;for(r=0;r<e;r++)n=.5*p.Tvalues[r]+.5,i+=p.Cvalues[r]*p.arcfn(n,t);return.5*i},map:function(t,r,n,i,e){return i+(e-i)*((t-r)/(n-r))},lerp:function(t,r,n){var i={x:r.x+t*(n.x-r.x),y:r.y+t*(n.y-r.y)};return r.z&&n.z&&(i.z=r.z+t*(n.z-r.z)),i},pointToString:function(t){var r=t.x+"/"+t.y;return void 0!==t.z&&(r+="/"+t.z),r},pointsToString:function(t){return"["+t.map(p.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,r,n){var i=r.x-t.x,e=r.y-t.y,o=n.x-t.x,u=n.y-t.y;return s(i*u-e*o,i*o+e*u)},round:function(t,r){var n=""+t,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+r))},dist:function(t,r){var n=t.x-r.x,i=t.y-r.y;return u(n*n+i*i)},closest:function(t,r){var n,i,e=a(2,63);return t.forEach(function(t,o){(i=p.dist(r,t))<e&&(e=i,n=o)}),{mdist:e,mpos:n}},abcratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var i=a(t,n)+a(1-t,n);return r((i-1)/i)},projectionratio:function(t,r){if(2!==r&&3!==r)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var n=a(1-t,r);return n/(a(t,r)+n)},lli8:function(t,r,n,i,e,o,s,u){var a=(t-n)*(o-u)-(r-i)*(e-s);return 0!=a&&{x:((t*i-r*n)*(e-s)-(t-n)*(e*u-o*s))/a,y:((t*i-r*n)*(o-u)-(r-i)*(e*u-o*s))/a}},lli4:function(t,r,n,i){var e=t.x,o=t.y,s=r.x,u=r.y,a=n.x,c=n.y,f=i.x,h=i.y;return p.lli8(e,o,s,u,a,c,f,h)},lli:function(t,r){return p.lli4(t,t.c,r,r.c)},makeline:function(t,r){var i=n(1),e=t.x,o=t.y,s=r.x,u=r.y,a=(s-e)/3,c=(u-o)/3;return new i(e,o,e+a,o+c,e+2*a,o+2*c,s,u)},findbbox:function(t){var r=l,n=l,i=y,e=y;return t.forEach(function(t){var o=t.bbox();r>o.x.min&&(r=o.x.min),n>o.y.min&&(n=o.y.min),i<o.x.max&&(i=o.x.max),e<o.y.max&&(e=o.y.max)}),{x:{min:r,mid:(r+i)/2,max:i,size:i-r},y:{min:n,mid:(n+e)/2,max:e,size:e-n}}},shapeintersections:function(t,r,n,i,e){if(!p.bboxoverlap(r,i))return[];var o=[],s=[t.startcap,t.forward,t.back,t.endcap],u=[n.startcap,n.forward,n.back,n.endcap];return s.forEach(function(r){r.virtual||u.forEach(function(i){if(!i.virtual){var s=r.intersects(i,e);s.length>0&&(s.c1=r,s.c2=i,s.s1=t,s.s2=n,o.push(s))}})}),o},makeshape:function(t,r,n){var i=r.points.length,e=t.points.length,o=p.makeline(r.points[i-1],t.points[0]),s=p.makeline(t.points[e-1],r.points[0]),u={startcap:o,forward:t,back:r,endcap:s,bbox:p.findbbox([o,t,r,s])},a=p;return u.intersections=function(t){return a.shapeintersections(u,u.bbox,t,t.bbox,n)},u},getminmax:function(t,r,n){if(!n)return{min:0,max:0};var i,e,o=l,s=y;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var u=0,a=n.length;u<a;u++)i=n[u],(e=t.get(i))[r]<o&&(o=e[r]),e[r]>s&&(s=e[r]);return{min:o,mid:(o+s)/2,max:s,size:s-o}},align:function(t,r){var n=r.p1.x,o=r.p1.y,u=-s(r.p2.y-o,r.p2.x-n);return t.map(function(t){return{x:(t.x-n)*i(u)-(t.y-o)*e(u),y:(t.x-n)*e(u)+(t.y-o)*i(u)}})},roots:function(t,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=t.length-1,e=p.align(t,r),s=function(t){return 0<=t&&t<=1};if(2===n){if(0!==(l=(y=e[0].y)-2*(v=e[1].y)+(m=e[2].y))){var a=-u(v*v-y*m),f=-y+v;return[-(a+f)/l,-(-a+f)/l].filter(s)}return v!==m&&0===l?[(2*v-m)/2*(v-m)].filter(s):[]}var x,l,y,v,m,d=e[0].y,g=e[1].y,z=e[2].y,b=(e=(3*(v=(-3*d+3*g)/(l=3*g-d-3*z+e[3].y))-(y=(3*d-6*g+3*z)/l)*y)/3)/3,_=(2*y*y*y-9*y*v+27*(m=d/l))/27,w=_/2,S=w*w+b*b*b;if(S<0){var E=-e/3,M=u(E*E*E),k=-_/(2*M),O=o(k<-1?-1:k>1?1:k),T=2*c(M);return[T*i(O/3)-y/3,T*i((O+h)/3)-y/3,T*i((O+2*h)/3)-y/3].filter(s)}if(0===S)return[2*(x=w<0?c(-w):-c(w))-y/3,-x-y/3].filter(s);var N=u(S);return[(x=c(-w+N))-c(w+N)-y/3].filter(s)},droots:function(t){if(3===t.length){var r=t[0],n=t[1],i=t[2],e=r-2*n+i;if(0!==e){var o=-u(n*n-r*i),s=-r+n;return[-(o+s)/e,-(-o+s)/e]}return n!==i&&0===e?[(2*n-i)/(2*(n-i))]:[]}if(2===t.length)return(r=t[0])!==(n=t[1])?[r/(r-n)]:[]},inflections:function(t){if(t.length<4)return[];var r=p.align(t,{p1:t[0],p2:t.slice(-1)[0]}),n=r[2].x*r[1].y,i=r[3].x*r[1].y,e=r[1].x*r[2].y,o=18*(-3*n+2*i+3*e-(h=r[3].x*r[2].y)),s=18*(3*n-i-3*e),u=18*(e-n);if(p.approximately(o,0)){if(!p.approximately(s,0)){var a=-u/s;if(0<=a&&a<=1)return[a]}return[]}var c=s*s-4*o*u,f=Math.sqrt(c),h=2*o;return p.approximately(h,0)?[]:[(f-s)/h,-(s+f)/h].filter(function(t){return 0<=t&&t<=1})},bboxoverlap:function(t,n){var i,e,o,s,u,a=["x","y"],c=a.length;for(i=0;i<c;i++)if(o=t[e=a[i]].mid,s=n[e].mid,u=(t[e].size+n[e].size)/2,r(o-s)>=u)return!1;return!0},expandbox:function(t,r){r.x.min<t.x.min&&(t.x.min=r.x.min),r.y.min<t.y.min&&(t.y.min=r.y.min),r.z&&r.z.min<t.z.min&&(t.z.min=r.z.min),r.x.max>t.x.max&&(t.x.max=r.x.max),r.y.max>t.y.max&&(t.y.max=r.y.max),r.z&&r.z.max>t.z.max&&(t.z.max=r.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,r,n){var i=t.bbox(),e=r.bbox(),o=1e5,s=n||.5;if(i.x.size+i.y.size<s&&e.x.size+e.y.size<s)return[(o*(t._t1+t._t2)/2|0)/o+"/"+(o*(r._t1+r._t2)/2|0)/o];var u=t.split(.5),a=r.split(.5),c=[{left:u.left,right:a.left},{left:u.left,right:a.right},{left:u.right,right:a.right},{left:u.right,right:a.left}];c=c.filter(function(t){return p.bboxoverlap(t.left.bbox(),t.right.bbox())});var f=[];return 0===c.length?f:(c.forEach(function(t){f=f.concat(p.pairiteration(t.left,t.right,s))}),f=f.filter(function(t,r){return f.indexOf(t)===r}))},getccenter:function(t,r,n){var o,u=r.x-t.x,a=r.y-t.y,c=n.x-r.x,f=n.y-r.y,l=u*i(x)-a*e(x),y=u*e(x)+a*i(x),v=c*i(x)-f*e(x),m=c*e(x)+f*i(x),d=(t.x+r.x)/2,g=(t.y+r.y)/2,z=(r.x+n.x)/2,b=(r.y+n.y)/2,_=d+l,w=g+y,S=z+v,E=b+m,M=p.lli8(d,g,_,w,z,b,S,E),k=p.dist(M,t),O=s(t.y-M.y,t.x-M.x),T=s(r.y-M.y,r.x-M.x),N=s(n.y-M.y,n.x-M.x);return O<N?((O>T||T>N)&&(O+=h),O>N&&(o=N,N=O,O=o)):N<T&&T<O?(o=N,N=O,O=o):N+=h,M.s=O,M.e=N,M.r=k,M},numberSort:function(t,r){return t-r}};t.exports=p}()},function(t,r,n){"use strict";!function(){var r=n(2),i=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};i.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(t){return r.pointsToString(t.points)}).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,r){return t+r})},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,n=t[0].bbox(),i=1;i<t.length;i++)r.expandbox(n,t[i].bbox());return n},offset:function(t){var r=[];return this.curves.forEach(function(n){r=r.concat(n.offset(t))}),new i(r)}},t.exports=i}()}]);module.exports=r;
    },{}],"kEHL":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=y;var t=a(require("./bezier")),r=require("./util"),e=a(require("../math/Vec3")),n=a(require("../math/Mat3"));function a(t){return t&&t.__esModule?t:{default:t}}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function u(t,r,e){return(u=o()?Reflect.construct:function(t,r,e){var n=[null];n.push.apply(n,r);var a=new(Function.bind.apply(t,n));return e&&f(a,e.prototype),a}).apply(null,arguments)}function f(t,r){return(f=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function l(t){return p(t)||c(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t){if(Array.isArray(t)){for(var r=0,e=new Array(t.length);r<t.length;r++)e[r]=t[r];return e}}function y(a,o,f,i,c){var p=[],y=[];(0,r.transformECEFToGeographic)(p,a,c),(0,r.transformECEFToGeographic)(y,o,c);for(var s=new e.default(p[0]-y[0],p[1]-y[1],p[2]-y[2]).length()/2,d=i+(c-Math.sqrt(c*c-s*s)),v=t.default.cubicFromPoints({x:-s,y:0},{x:0,y:d},{x:s,y:0},.5,s/2.5).getLUT(f),h=[],m=0;m<v.length;m++)h.push([v[m].x,v[m].y,0]);var g=[(p[0]+y[0])/2,(p[1]+y[1])/2,(p[2]+y[2])/2],w=new e.default(g[0]-y[0],g[1]-y[1],g[2]-y[2]);w.normalize();var x=new e.default(0-g[0],0-g[1],0-g[2]);x.normalize();var b=[0-p[0],0-p[1],0-p[2]],z=[0-y[0],0-y[1],0-y[2]],_=new e.default(b[1]*z[2]-b[2]*z[1],b[2]*z[0]-b[0]*z[2],b[0]*z[1]-b[1]*z[0]);_.normalize();var A=new n.default;A.set(-1,0,0,0,-1,0,0,0,-1);var M=new n.default;M.set(w.x,x.x,_.x,w.y,x.y,_.y,w.z,x.z,_.z);var j=new n.default;j.multiplyMatrices(A,M);for(var q=[],E=0;E<=f;E++){var F=u(e.default,l(h[E]));F.applyMatrix3(j),F.add(u(e.default,g)),q.push([F.x,F.y,F.z])}for(var O=0,R=[],P=0;P<q.length;P++)for(var T=0;T<q[0].length;T++)R[O++]=q[P][T];return new Float32Array(R)}
    },{"./bezier":"OTq9","./util":"Lkln","../math/Vec3":"D3a2","../math/Mat3":"bpLD"}],"bm7S":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../util/bezierLine")),i=require("../geometry/BufferAttribute"),e=n(require("../geometry/Geometry")),s=n(require("../material/MeshLineMaterial")),r=n(require("../math/Color")),o=require("../const/constants");function n(t){return t&&t.__esModule?t:{default:t}}function h(t){return p(t)||u(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function p(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}function c(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function d(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function l(t,i,e){return i&&d(t.prototype,i),e&&d(t,e),t}var y=function(){function t(){c(this,t),this.dirty=!0,this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.widthCallback=null}return l(t,[{key:"setGeometry",value:function(t,i,e,s,r,o){if(this.dirty=!0,this.widthCallback=o,this.startSeq=i,this.positions=[],this.seqs=[],this.counters=[],t instanceof Float32Array||t instanceof Array)for(var n=0;n<t.length;n+=3){var h=n/t.length;this.positions.push(t[n],t[n+1],t[n+2]),this.positions.push(t[n],t[n+1],t[n+2]),this.counters.push(h),this.counters.push(h)}this.process()}},{key:"compareV3",value:function(t,i){var e=6*t,s=6*i;return this.positions[e]===this.positions[s]&&this.positions[e+1]===this.positions[s+1]&&this.positions[e+2]===this.positions[s+2]}},{key:"copyV3",value:function(t){var i=6*t;return[this.positions[i],this.positions[i+1],this.positions[i+2]]}},{key:"process",value:function(){var t,i,e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var s=0;s<e;s++)this.side.push(1),this.side.push(-1);for(var r=0;r<e;r++)t=this.widthCallback?this.widthCallback(r/(e-1)):1,this.width.push(t),this.width.push(t),this.seqs.push(this.startSeq+r),this.seqs.push(this.startSeq+r);for(var o=0;o<e;o++)this.uvs.push(o/(e-1),0),this.uvs.push(o/(e-1),1);i=this.compareV3(0,e-1)?this.copyV3(e-2):this.copyV3(0),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);for(var n=0;n<e-1;n++)i=this.copyV3(n),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);for(var h=1;h<e;h++)i=this.copyV3(h),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]);i=this.compareV3(e-1,0)?this.copyV3(1):this.copyV3(e-1),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]);for(var a=0;a<e-1;a++){var u=2*a;this.indices_array.push(u,u+1,u+2),this.indices_array.push(u+2,u+1,u+3)}this.grometry={seq:this.seqs,position:this.positions,previous:this.previous,next:this.next,side:this.side,width:this.width,colors:this.colors,opacitys:this.opacitys,lineWidths:this.lineWidths,index:this.indices_array,counters:this.counters,n:this.indices_array.length}}}]),t}(),f=function(){function n(t){c(this,n),this.name="airline",this.paths=t.paths,this.color=t.color,this.segmentGroup=t.segmentGroup,this.height=t.height,this.lineWidth=t.lineWidth,this.segmentCount=t.segmentCount,this.speed=t.speed,this.parse()}return l(n,[{key:"parse",value:function(){this.dirty=!0;var n=this.paths,a=this.color,u=this.segmentGroup,p=this.height,c=this.lineWidth,d=this.segmentCount,l=this.speed,f=new y;this.geometry=new e.default;for(var m={seq:[],position:[],previous:[],next:[],side:[],width:[],counters:[],index:[]},v=0,g=0;g<n.length;g++){var w=t.default.apply(void 0,h(n[g].slice(0,2)).concat([n[g][3]||u,p,6378137]));f.setGeometry(w,n[g][2]||0),m.seq=m.seq.concat(f.grometry.seq),m.position=m.position.concat(f.grometry.position),m.previous=m.previous.concat(f.grometry.previous),m.next=m.next.concat(f.grometry.next),m.side=m.side.concat(f.grometry.side),m.width=m.width.concat(f.grometry.width),m.counters=m.counters.concat(f.grometry.counters);for(var b=0;b<f.grometry.index.length;b++)m.index.push(f.grometry.index[b]+v);v+=2*(n[g][3]||u)+1+1}this.attributes={position:new i.BufferAttribute(new Float32Array(m.position),3),seq:new i.BufferAttribute(new Float32Array(m.seq),1),previous:new i.BufferAttribute(new Float32Array(m.previous),3),next:new i.BufferAttribute(new Float32Array(m.next),3),side:new i.BufferAttribute(new Float32Array(m.side),1),width:new i.BufferAttribute(new Float32Array(m.width),1),index:m.index,counters:new i.BufferAttribute(new Float32Array(m.counters),1)},this.prepare(),this.material=new s.default({color:new r.default(a),lineWidth:c,sizeAttenuation:!1}),this.material.type="AirLineMaterial",this.material.segmentGroup=u,this.material.segmentCount=d,this.material.speedFactor=l,this.drawMode=o.TrianglesDrawMode}},{key:"update",value:function(t){this.paths=t.paths,this.color=t.color,this.segmentGroup=t.segmentGroup,this.height=t.height,this.lineWidth=t.lineWidth,this.segmentCount=t.segmentCount,this.speed=t.speed,this.parse()}},{key:"prepare",value:function(){this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("seq",this.attributes.seq),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)}}]),n}();exports.default=f;
    },{"../util/bezierLine":"kEHL","../geometry/BufferAttribute":"QWCA","../geometry/Geometry":"YIth","../material/MeshLineMaterial":"mA6U","../math/Color":"FdPe","../const/constants":"CEMD"}],"dgvG":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Quaternion=void 0;var t=s(require("./Math")),i=s(require("./Vec3"));function s(t){return t&&t.__esModule?t:{default:t}}function h(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}function n(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}var _,r=new i.default,a=1e-6,u=function(){function s(t,i,e,n){h(this,s),this.isQuaternion=!0,this._x=t||0,this._y=i||0,this._z=e||0,this._w=void 0!==n?n:1}return n(s,[{key:"set",value:function(t,i,s,h){return this._x=t,this._y=i,this._z=s,this._w=h,this.onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this}},{key:"setFromEuler",value:function(t,i){if(!t||!t.isEuler)throw new Error("MineMapModeling.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var s=t._x,h=t._y,e=t._z,n=t.order,_=Math.cos,r=Math.sin,a=_(s/2),u=_(h/2),o=_(e/2),l=r(s/2),y=r(h/2),c=r(e/2);return"XYZ"===n?(this._x=l*u*o+a*y*c,this._y=a*y*o-l*u*c,this._z=a*u*c+l*y*o,this._w=a*u*o-l*y*c):"YXZ"===n?(this._x=l*u*o+a*y*c,this._y=a*y*o-l*u*c,this._z=a*u*c-l*y*o,this._w=a*u*o+l*y*c):"ZXY"===n?(this._x=l*u*o-a*y*c,this._y=a*y*o+l*u*c,this._z=a*u*c+l*y*o,this._w=a*u*o-l*y*c):"ZYX"===n?(this._x=l*u*o-a*y*c,this._y=a*y*o+l*u*c,this._z=a*u*c-l*y*o,this._w=a*u*o+l*y*c):"YZX"===n?(this._x=l*u*o+a*y*c,this._y=a*y*o+l*u*c,this._z=a*u*c-l*y*o,this._w=a*u*o-l*y*c):"XZY"===n&&(this._x=l*u*o-a*y*c,this._y=a*y*o-l*u*c,this._z=a*u*c+l*y*o,this._w=a*u*o+l*y*c),!1!==i&&this.onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,i){var s=i/2,h=Math.sin(s);return this._x=t.x*h,this._y=t.y*h,this._z=t.z*h,this._w=Math.cos(s),this.onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var i,s=t.elements,h=s[0],e=s[4],n=s[8],_=s[1],r=s[5],a=s[9],u=s[2],o=s[6],l=s[10],y=h+r+l;return y>0?(i=.5/Math.sqrt(y+1),this._w=.25/i,this._x=(o-a)*i,this._y=(n-u)*i,this._z=(_-e)*i):h>r&&h>l?(i=2*Math.sqrt(1+h-r-l),this._w=(o-a)/i,this._x=.25*i,this._y=(e+_)/i,this._z=(n+u)/i):r>l?(i=2*Math.sqrt(1+r-h-l),this._w=(n-u)/i,this._x=(e+_)/i,this._y=.25*i,this._z=(a+o)/i):(i=2*Math.sqrt(1+l-h-r),this._w=(_-e)/i,this._x=(n+u)/i,this._y=(a+o)/i,this._z=.25*i),this.onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,s){return void 0===r&&(r=new i.default),(_=t.dot(s)+1)<a?(_=0,Math.abs(t.x)>Math.abs(t.z)?r.set(-t.y,t.x,0):r.set(0,-t.z,t.y)):r.crossVectors(t,s),this._x=r.x,this._y=r.y,this._z=r.z,this._w=_,this.normalize()}},{key:"angleTo",value:function(i){return 2*Math.acos(Math.abs(t.default.clamp(this.dot(i),-1,1)))}},{key:"rotateTowards",value:function(t,i){var s=this.angleTo(t);if(0===s)return this;var h=Math.min(1,i/s);return this.slerp(t,h),this}},{key:"inverse",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this}},{key:"multiply",value:function(t,i){return void 0!==i?(console.warn("MineMapModeling.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,i){var s=t._x,h=t._y,e=t._z,n=t._w,_=i._x,r=i._y,a=i._z,u=i._w;return this._x=s*u+n*_+h*a-e*r,this._y=h*u+n*r+e*_-s*a,this._z=e*u+n*a+s*r-h*_,this._w=n*u-s*_-h*r-e*a,this.onChangeCallback(),this}},{key:"slerp",value:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var s=this._x,h=this._y,e=this._z,n=this._w,_=n*t._w+s*t._x+h*t._y+e*t._z;if(_<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,_=-_):this.copy(t),_>=1)return this._w=n,this._x=s,this._y=h,this._z=e,this;var r=1-_*_;if(r<=Number.EPSILON){var a=1-i;return this._w=a*n+i*this._w,this._x=a*s+i*this._x,this._y=a*h+i*this._y,this._z=a*e+i*this._z,this.normalize()}var u=Math.sqrt(r),o=Math.atan2(u,_),l=Math.sin((1-i)*o)/u,y=Math.sin(i*o)/u;return this._w=n*l+this._w*y,this._x=s*l+this._x*y,this._y=h*l+this._y*y,this._z=e*l+this._z*y,this.onChangeCallback(),this}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t,i){return void 0===i&&(i=0),this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this.onChangeCallback(),this}},{key:"toArray",value:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t}},{key:"onChange",value:function(t){return this.onChangeCallback=t,this}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}]),s}();exports.Quaternion=u;
    },{"./Math":"dVwR","./Vec3":"D3a2"}],"nZZX":[function(require,module,exports) {
        "use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventDispatcher=e,Object.assign(e.prototype,{addEventListener:function(e,i){void 0===this._listeners&&(this._listeners={});var t=this._listeners;void 0===t[e]&&(t[e]=[]),-1===t[e].indexOf(i)&&t[e].push(i)},hasEventListener:function(e,i){if(void 0===this._listeners)return!1;var t=this._listeners;return void 0!==t[e]&&-1!==t[e].indexOf(i)},removeEventListener:function(e,i){if(void 0!==this._listeners){var t=this._listeners[e];if(void 0!==t){var s=t.indexOf(i);-1!==s&&t.splice(s,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var i=this._listeners[e.type];if(void 0!==i){e.target=this;for(var t=i.slice(0),s=0,n=t.length;s<n;s++)t[s].call(this,e)}}}});
    },{}],"A3e3":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Euler=void 0;var t=n(require("./Math")),e=n(require("./Vec3")),a=n(require("./Mat4")),i=require("./Quaternion");function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,a){return e&&s(t.prototype,e),a&&s(t,a),t}var o=new a.default,u=new i.Quaternion,_=function(){function a(t,e,i,n){r(this,a),this.isEuler=!0,this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||a.DefaultOrder}return h(a,[{key:"set",value:function(t,e,a,i){return this._x=t,this._y=e,this._z=a,this._order=i||this._order,this.onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,a,i){var n=t.default.clamp,r=e.elements,s=r[0],h=r[4],o=r[8],u=r[1],_=r[5],l=r[9],c=r[2],y=r[6],f=r[10];return"XYZ"===(a=a||this._order)?(this._y=Math.asin(n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-h,s)):(this._x=Math.atan2(y,_),this._z=0)):"YXZ"===a?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(o,f),this._z=Math.atan2(u,_)):(this._y=Math.atan2(-c,s),this._z=0)):"ZXY"===a?(this._x=Math.asin(n(y,-1,1)),Math.abs(y)<.99999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-h,_)):(this._y=0,this._z=Math.atan2(u,s))):"ZYX"===a?(this._y=Math.asin(-n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(y,f),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-h,_))):"YZX"===a?(this._z=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,_),this._y=Math.atan2(-c,s)):(this._x=0,this._y=Math.atan2(o,f))):"XZY"===a?(this._z=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(y,_),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-l,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: ".concat(a)),this._order=a,!1!==i&&this.onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,a){return o.makeRotationFromQuaternion(t),this.setFromRotationMatrix(o,e,a)}},{key:"setFromVector3",value:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)}},{key:"reorder",value:function(t){return u.setFromEuler(this),this.setFromQuaternion(u,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new e.default(this._x,this._y,this._z)}},{key:"onChange",value:function(t){return this.onChangeCallback=t,this}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}],[{key:"RotationOrders",get:function(){return["XYZ","YZX","ZXY","XZY","YXZ","ZYX"]}},{key:"DefaultOrder",get:function(){return"XYZ"}}]),a}();exports.Euler=_;
    },{"./Math":"dVwR","./Vec3":"D3a2","./Mat4":"BQ9h","./Quaternion":"dgvG"}],"pKiE":[function(require,module,exports) {
        "use strict";function t(){this.mask=1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Layers=t,Object.assign(t.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});
    },{}],"Z7ds":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../math/Quaternion"),e=u(require("../math/Vec3")),r=u(require("../math/Mat4")),i=require("./EventDispatcher"),n=require("../math/Euler"),a=require("./Layers"),o=u(require("../math/Mat3")),s=u(require("../math/Math"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=0,g=function(o){function u(){var r;h(this,u),(r=f(this,m(u).call(this))).id=x++,r.uuid=s.default.generateUUID(),r.name="",r.type="Object3D",r.parent=null,r.children=[],r.DefaultUp=new e.default(0,1,0),r.DefaultMatrixAutoUpdate=!0,r.up=r.DefaultUp.clone();new e.default;var i=new n.Euler,o=new t.Quaternion;new e.default(1,1,1);return i.onChange(function(){o.setFromEuler(i,!1)}),o.onChange(function(){i.setFromQuaternion(o,void 0,!1)}),r.matrixAutoUpdate=r.DefaultMatrixAutoUpdate,r.matrixWorldNeedsUpdate=!1,r.layers=new a.Layers,r.visible=!0,r.castShadow=!1,r.receiveShadow=!1,r.frustumCulled=!0,r.renderOrder=0,r.userData={},r}return v(u,i.EventDispatcher),c(u,[{key:"applyMatrix",value:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(){var e=new t.Quaternion;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.multiply(e),this}}},{key:"rotateOnWorldAxis",value:function(){var e=new t.Quaternion;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.premultiply(e),this}}},{key:"rotateX",value:function(){var t=new e.default(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}},{key:"rotateY",value:function(){var t=new e.default(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}},{key:"rotateZ",value:function(){var t=new e.default(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}},{key:"translateOnAxis",value:function(){var t=new e.default;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}},{key:"translateX",value:function(){var t=new e.default(1,0,0);return function(e){return this.translateOnAxis(t,e)}}},{key:"translateY",value:function(){var t=new e.default(0,1,0);return function(e){return this.translateOnAxis(t,e)}}},{key:"translateZ",value:function(){var t=new e.default(0,0,1);return function(e){return this.translateOnAxis(t,e)}}},{key:"localToWorld",value:function(t){return t.applyMat4(this.matrixWorld)}},{key:"worldToLocal",value:function(){var t=new r.default;return function(e){return e.applyMat4(t.getInverse(this.matrixWorld))}}},{key:"lookAt",value:function(){var i=new t.Quaternion,n=new r.default,a=new e.default,o=new e.default;return function(t,e,r){t.isVec3?a.copy(t):a.set(t,e,r);var s=this.parent;this.updateWorldMatrix(!0,!1),o.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?n.lookAt(o,a,this.up):n.lookAt(a,o,this.up),this.quaternion.setFromRotationMatrix(n),s&&(n.extractRotation(s.matrixWorld),i.setFromRotationMatrix(n),this.quaternion.premultiply(i.inverse()))}}},{key:"add",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}},{key:"remove",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var r=this.children.indexOf(t);return-1!==r&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1)),this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var r=0,i=this.children.length;r<i;r++){var n=this.children[r].getObjectByProperty(t,e);if(void 0!==n)return n}}},{key:"getWorldPosition",value:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new e.default),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(){var r=new e.default,i=new e.default;return function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new t.Quaternion),this.updateMatrixWorld(!0),this.matrixWorld.decompose(r,e,i),e}}},{key:"getWorldScale",value:function(){var r=new e.default,i=new t.Quaternion;return function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new e.default),this.updateMatrixWorld(!0),this.matrixWorld.decompose(r,i,t),t}}},{key:"getWorldDirection",value:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new e.default),this.updateMatrixWorld(!0);var r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,r=0,i=e.length;r<i;r++)e[r].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,r=0,i=e.length;r<i;r++)e[r].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,r=0,i=e.length;r<i;r++)e[r].updateMatrixWorld(t)}},{key:"updateWorldMatrix",value:function(t,e){var r=this.parent;if(!0===t&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,n=0,a=i.length;n<a;n++)i[n].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t,r={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function n(e,r){return void 0===e[r.uuid]&&(e[r.uuid]=r.toJSON(t)),r.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){i.geometry=n(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];n(t.shapes,l)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(s=0,u=this.material.length;s<u;s++)h.push(n(t.materials,this.material[s]));i.material=h}else i.material=n(t.materials,this.material);if(this.children.length>0){i.children=[];for(s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(t).object)}if(e){var d=m(t.geometries),c=m(t.materials),f=m(t.textures),p=m(t.images);o=m(t.shapes);d.length>0&&(r.geometries=d),c.length>0&&(r.materials=c),f.length>0&&(r.textures=f),p.length>0&&(r.images=p),o.length>0&&(r.shapes=o)}return r.object=i,r;function m(t){var e=[];for(var r in t){var i=t[r];delete i.metadata,e.push(i)}return e}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var r=0;r<t.children.length;r++){var i=t.children[r];this.add(i.clone())}return this}}]),u}();exports.default=g;
    },{"../math/Quaternion":"dgvG","../math/Vec3":"D3a2","../math/Mat4":"BQ9h","./EventDispatcher":"nZZX","../math/Euler":"A3e3","./Layers":"pKiE","../math/Mat3":"bpLD","../math/Math":"dVwR"}],"q7AB":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../math/Mat4")),e=a(require("../math/Vec3")),r=a(require("../core/Object3D")),o=a(require("../material/LineBasicMaterial")),n=require("../geometry/BufferAttribute"),i=require("../const/constants"),u=a(require("../geometry/Geometry"));function a(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}function y(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e,r){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=m(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=function(t){function e(t,r,n){var i;return l(this,e),(i=y(this,h(e).call(this))).dirty=!0,i.type="Line",i.geometry=void 0!==t?t:new u.default,i.material=void 0!==r?r:new o.default({color:16777215*Math.random()}),i.isLine=!0,n&&(n.location&&(i.location=n.location),n.rotation&&(i.rotation=n.rotation),n.scale&&(i.scale=n.scale),n.translation&&(i.translation=n.translation),n.name&&(i.name=n.name)),i}return d(e,r.default),s(e,[{key:"copy",value:function(t){return b(h(e.prototype),"copy",this).call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();exports.default=O;
    },{"../math/Mat4":"BQ9h","../math/Vec3":"D3a2","../core/Object3D":"Z7ds","../material/LineBasicMaterial":"fwN4","../geometry/BufferAttribute":"QWCA","../const/constants":"CEMD","../geometry/Geometry":"YIth"}],"aOSc":[function(require,module,exports) {
        "use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Z(require("./geometry/Geometry")),r=Z(require("./geometry/BoxGeometry")),t=Z(require("./geometry/CircleGeometry")),u=Z(require("./geometry/CircleDegreeGeometry")),a=Z(require("./geometry/PlaneGeometry")),o=Z(require("./geometry/PlaneDegreeGeometry")),i=Z(require("./geometry/MultiPlaneGeometry")),l=Z(require("./geometry/MultiPlaneDegreeGeometry")),m=Z(require("./geometry/SphereGeometry")),y=Z(require("./geometry/SphereDegreeGeometry")),f=Z(require("./geometry/ConeGeometry")),d=Z(require("./geometry/CylinderGeometry")),n=Z(require("./geometry/CylinderDegreeGeometry")),g=Z(require("./geometry/TextGeometry")),G=Z(require("./geometry/ExtrudeGeometry")),q=Z(require("./geometry/TriangleGeometry")),C=Z(require("./geometry/RectangleGeometry")),c=Z(require("./geometry/TubeDegreeGeometry")),b=Z(require("./geometry/TubeGeometry")),B=Z(require("./geometry/ParticleGeometry")),A=Z(require("./geometry/LineDegreeGeometry")),s=Z(require("./geometry/LineGeometry")),D=Z(require("./geometry/CameraViewGeometry")),M=Z(require("./geometry/CameraViewRayGeometry")),x=Z(require("./geometry/CameraViewSurfaceGeometry")),P=Z(require("./geometry/PolygonDegreeGeometry")),L=Z(require("./geometry/PolygonGeometry")),h=Z(require("./geometry/ExtrudePolygonDegreeGeometry")),p=Z(require("./geometry/ExtrudePolygonGeometry")),v=Z(require("./geometry/GroupGeometry")),S=Z(require("./material/Material")),T=Z(require("./material/LineBasicMaterial")),V=Z(require("./material/ShaderMaterial")),R=Z(require("./material/MeshLineMaterial")),U=Z(require("./material/ParticleMaterial")),w=Z(require("./texture/Texture")),E=Z(require("./node/Node")),F=Z(require("./node/MeshLine")),I=Z(require("./node/MeshLineDegree")),_=Z(require("./scene/Scene")),H=Z(require("./math/Color")),N=Z(require("./math/Vec3")),j=Z(require("./math/Vec2")),O=Z(require("./extras/curves/CatmullRomCurve3")),k=Z(require("./extras/curves/CatmullRomCurve3Degree")),z=Z(require("./extras/core/Curve")),J=Z(require("./extras/core/Shape")),K=Z(require("./loader/FontLoader")),Q=Z(require("./node/Heatmap")),W=Z(require("./node/AirLine")),X=require("./geometry/BufferAttribute"),Y=Z(require("./node/Line"));function Z(e){return e&&e.__esModule?e:{default:e}}var $={Geometry:e.default,BoxGeometry:r.default,CircleGeometry:t.default,CircleDegreeGeometry:u.default,PlaneGeometry:a.default,PlaneDegreeGeometry:o.default,MultiPlaneGeometry:i.default,SphereGeometry:m.default,SphereDegreeGeometry:y.default,ConeGeometry:f.default,CylinderGeometry:d.default,TextGeometry:g.default,ExtrudeGeometry:G.default,TriangleGeometry:q.default,RectangleGeometry:C.default,CylinderDegreeGeometry:n.default,TubeDegreeGeometry:c.default,TubeGeometry:b.default,ParticleGeometry:B.default,LineGeometry:s.default,LineDegreeGeometry:A.default,CameraViewGeometry:D.default,CameraViewRayGeometry:M.default,CameraViewSurfaceGeometry:x.default,PolygonDegreeGeometry:P.default,PolygonGeometry:L.default,ExtrudePolygonDegreeGeometry:h.default,ExtrudePolygonGeometry:p.default,GroupGeometry:v.default,Material:S.default,LineBasicMaterial:T.default,ShaderMaterial:V.default,MeshLineMaterial:R.default,ParticleMaterial:U.default,CatmullRomCurve3:O.default,CatmullRomCurve3Degree:k.default,Curve:z.default,Shape:J.default,Texture:w.default,Node:E.default,Line:Y.default,MeshLine:F.default,AirLine:W.default,MeshLineDegree:I.default,Scene:_.default,Color:H.default,Vec3:N.default,Vec2:j.default,BufferAttribute:X.BufferAttribute,Float64BufferAttribute:X.Float64BufferAttribute,Float32BufferAttribute:X.Float32BufferAttribute,Uint32BufferAttribute:X.Uint32BufferAttribute,Int32BufferAttribute:X.Int32BufferAttribute,Uint16BufferAttribute:X.Uint16BufferAttribute,Int16BufferAttribute:X.Int16BufferAttribute,Uint8ClampedBufferAttribute:X.Uint8ClampedBufferAttribute,Uint8BufferAttribute:X.Uint8BufferAttribute,Int8BufferAttribute:X.Int8BufferAttribute,FontLoader:K.default,Heatmap:Q.default};exports.default=$;
    },{"./geometry/Geometry":"YIth","./geometry/BoxGeometry":"O4Fs","./geometry/CircleGeometry":"JsLl","./geometry/CircleDegreeGeometry":"yNM4","./geometry/PlaneGeometry":"LaP8","./geometry/PlaneDegreeGeometry":"Tjfd","./geometry/MultiPlaneGeometry":"Maop","./geometry/MultiPlaneDegreeGeometry":"cmj6","./geometry/SphereGeometry":"cyZE","./geometry/SphereDegreeGeometry":"HSbX","./geometry/ConeGeometry":"apxE","./geometry/CylinderGeometry":"dnv6","./geometry/CylinderDegreeGeometry":"Zf7A","./geometry/TextGeometry":"vcmv","./geometry/ExtrudeGeometry":"RXSi","./geometry/TriangleGeometry":"vaU5","./geometry/RectangleGeometry":"WGGj","./geometry/TubeDegreeGeometry":"KaoG","./geometry/TubeGeometry":"WiIz","./geometry/ParticleGeometry":"oxGd","./geometry/LineDegreeGeometry":"ijH6","./geometry/LineGeometry":"JsUP","./geometry/CameraViewGeometry":"rFhg","./geometry/CameraViewRayGeometry":"eiY3","./geometry/CameraViewSurfaceGeometry":"ZXHO","./geometry/PolygonDegreeGeometry":"f63w","./geometry/PolygonGeometry":"pz15","./geometry/ExtrudePolygonDegreeGeometry":"axpt","./geometry/ExtrudePolygonGeometry":"e7mZ","./geometry/GroupGeometry":"LcpS","./material/Material":"GYKy","./material/LineBasicMaterial":"fwN4","./material/ShaderMaterial":"tyxd","./material/MeshLineMaterial":"mA6U","./material/ParticleMaterial":"mM0X","./texture/Texture":"yDKA","./node/Node":"ltan","./node/MeshLine":"wTdW","./node/MeshLineDegree":"Rw3X","./scene/Scene":"JAHL","./math/Color":"FdPe","./math/Vec3":"D3a2","./math/Vec2":"QavS","./extras/curves/CatmullRomCurve3":"MSFx","./extras/curves/CatmullRomCurve3Degree":"TREz","./extras/core/Curve":"Wl9r","./extras/core/Shape":"hlAM","./loader/FontLoader":"mTyU","./node/Heatmap":"br2u","./node/AirLine":"bm7S","./geometry/BufferAttribute":"QWCA","./node/Line":"q7AB"}],"Focm":[function(require,module,exports) {
        "use strict";var e=i(require("./src/Modeling"));function i(e){return e&&e.__esModule?e:{default:e}}window.minemap?window.minemap.Modeling=e.default:console.error("minemap.js must be imported first!");
    },{"./src/Modeling":"aOSc"}]},{},["Focm"], null)
//# sourceMappingURL=minemap-modeling.js.map
